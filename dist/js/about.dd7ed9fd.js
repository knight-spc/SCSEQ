(self["webpackChunktest"]=self["webpackChunktest"]||[]).push([[594],{2908:function(e,t,i){"use strict";e.exports=i.p+"img/infercnv_1747622587263.fdf0f5f0.png"},3865:function(e,t,i){"use strict";e.exports=i.p+"img/infercnv_1748998258631.92eda1f7.png"},4522:function(e,t,i){"use strict";e.exports=i.p+"img/pbmc_001_trajectory_1754191949746_page_1.a6a70e02.png"},4526:function(e,t,i){"use strict";e.exports=i.p+"img/1750032382_matrix_TCGA_5_TCGA_mRNA_meth_1751246845793_page_1.f564f3ab.png"},5078:function(e,t,i){"use strict";e.exports=i.p+"img/1750032382_matrix_TCGA_4_TCGA_mRNA_survival_1752469898552_page_1.b15acacd.png"},5376:function(e,t,i){"use strict";e.exports=i.p+"img/HCC_10_filter_v3_cellchat_heatmap_weight_1746610509637_page_1.b2c31dcf.svg"},5555:function(e,t,i){"use strict";e.exports=i.p+"img/1750032382_matrix_TCGA_4_TCGA_mRNA_survival_1751246845793_page_1.a63d6ad9.png"},5578:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return c}});var n=i(56768);const o={class:"form-container"};function a(e,t,i,a,r,s){const l=(0,n.g2)("el-radio"),u=(0,n.g2)("el-radio-group"),c=(0,n.g2)("el-form-item"),d=(0,n.g2)("el-date-picker"),h=(0,n.g2)("el-input-number"),p=(0,n.g2)("el-button"),g=(0,n.g2)("el-form"),f=(0,n.g2)("el-card");return(0,n.uX)(),(0,n.Wv)(f,null,{default:(0,n.k6)((()=>[(0,n.Lk)("div",o,[(0,n.bF)(g,{"label-position":"left","label-width":"100px",model:e.form,style:{"max-width":"600px"}},{default:(0,n.k6)((()=>[(0,n.bF)(c,{label:"选择导出变量"},{default:(0,n.k6)((()=>[(0,n.bF)(u,{modelValue:r.data_name,"onUpdate:modelValue":t[0]||(t[0]=e=>r.data_name=e)},{default:(0,n.k6)((()=>[(0,n.bF)(l,{label:"temp"},{default:(0,n.k6)((()=>t[4]||(t[4]=[(0,n.eW)("温度")]))),_:1}),(0,n.bF)(l,{label:"light"},{default:(0,n.k6)((()=>t[5]||(t[5]=[(0,n.eW)("光照")]))),_:1}),(0,n.bF)(l,{label:"humidity"},{default:(0,n.k6)((()=>t[6]||(t[6]=[(0,n.eW)("湿度")]))),_:1}),(0,n.bF)(l,{label:"CO2"},{default:(0,n.k6)((()=>t[7]||(t[7]=[(0,n.eW)("CO2")]))),_:1}),(0,n.bF)(l,{label:"weight"},{default:(0,n.k6)((()=>t[8]||(t[8]=[(0,n.eW)("湿度")]))),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,n.bF)(c,{label:"起始时间"},{default:(0,n.k6)((()=>[(0,n.bF)(d,{modelValue:r.start_time,"onUpdate:modelValue":t[1]||(t[1]=e=>r.start_time=e),type:"datetime",placeholder:"选择一个时间",format:"YYYY/MM/DDTHH:mm:ss","value-format":"YYYY-MM-DDTHH:mm:ss"},null,8,["modelValue"])])),_:1}),(0,n.bF)(c,{label:"结束时间"},{default:(0,n.k6)((()=>[(0,n.bF)(d,{modelValue:r.end_time,"onUpdate:modelValue":t[2]||(t[2]=e=>r.end_time=e),type:"datetime",placeholder:"选择一个时间",format:"YYYY/MM/DDTHH:mm:ss","value-format":"YYYY-MM-DDTHH:mm:ss"},null,8,["modelValue"])])),_:1}),(0,n.bF)(c,{label:"数据条数"},{default:(0,n.k6)((()=>[(0,n.bF)(h,{modelValue:r.limit,"onUpdate:modelValue":t[3]||(t[3]=e=>r.limit=e),min:1,max:1e3,id:"limit"},null,8,["modelValue"])])),_:1}),(0,n.bF)(c,null,{default:(0,n.k6)((()=>[(0,n.bF)(p,{type:"primary",onClick:s.onSubmit,loading:r.isLoading},{default:(0,n.k6)((()=>t[9]||(t[9]=[(0,n.eW)("导出数据")]))),_:1},8,["onClick","loading"])])),_:1})])),_:1},8,["model"])])])),_:1})}i(14603),i(47566),i(98721);var r=i(51219),s={data(){return{data_name:"temp",start_time:"",end_time:"",limit:100,isLoading:!1}},methods:{onSubmit(){this.loadingButton(),generate_excel(this.data_name,this.start_time,this.end_time,this.limit).then((e=>{const t=new Blob([e.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),i=URL.createObjectURL(t);(0,r.nk)({message:"导出成功",type:"success"}),window.open(i,"_blank")})).catch((e=>{console.log(e),r.nk.error(JSON.stringify(e))}))},loadingButton(){this.isLoading=!0;const e=setTimeout((()=>{clearTimeout(e),this.isLoading=!1}),500)}}},l=i(71241);const u=(0,l.A)(s,[["render",a],["__scopeId","data-v-22b9c840"]]);var c=u},5616:function(e,t,i){"use strict";e.exports=i.p+"img/HCC_10_filter_v3_TCGA_2_TCGA_mRNA_boxplot_1747041454684_page_1.61b3fc6d.png"},5963:function(e,t,i){"use strict";e.exports=i.p+"img/1750032382_matrix_TCGA_2_TCGA_mRNA_boxplot_1751246845793_page_1.823a859b.png"},7065:function(e,t,i){"use strict";e.exports=i.p+"img/1750238524_matrix111_01_page_2.06eb0a16.svg"},7379:function(e,t,i){"use strict";e.exports=i.p+"img/1750032382_matrix_TCGA_6_TCGA_mRNA_TIMER2_page_1.a9b0055a.png"},7768:function(e,t,i){"use strict";e.exports=i.p+"img/HCC_10_filter_v3_001_annot_trajectory_page_1.75ba7b22.png"},7782:function(e,t,i){var n={"./1730613136_data_01_page_1.svg":43204,"./1730613136_data_01_page_2.svg":53828,"./1730613136_data_03_QC_page_1.png":8043,"./1730613136_data_03_QC_page_2.png":54544,"./1730613136_data_03_QC_page_3.png":51449,"./1747010914_data_01_page_1.svg":23559,"./1747010914_data_01_page_2.svg":75348,"./1750032382_matrix_001_annot_trajectory_1751180254768_page_1.png":81060,"./1750032382_matrix_001_trajectory_1751180254768_page_1.png":41489,"./1750032382_matrix_01_page_1.svg":13337,"./1750032382_matrix_01_page_10.svg":29899,"./1750032382_matrix_01_page_11.svg":10842,"./1750032382_matrix_01_page_12.svg":25929,"./1750032382_matrix_01_page_13.svg":91064,"./1750032382_matrix_01_page_14.svg":10871,"./1750032382_matrix_01_page_15.svg":23334,"./1750032382_matrix_01_page_16.svg":22469,"./1750032382_matrix_01_page_2.svg":87338,"./1750032382_matrix_01_page_3.svg":12955,"./1750032382_matrix_01_page_4.svg":97684,"./1750032382_matrix_01_page_5.svg":42613,"./1750032382_matrix_01_page_6.svg":29654,"./1750032382_matrix_01_page_7.svg":69191,"./1750032382_matrix_01_page_8.svg":88624,"./1750032382_matrix_01_page_9.svg":87073,"./1750032382_matrix_TCGA_08_heatmap_1751245357782_page_1.png":96359,"./1750032382_matrix_TCGA_2_TCGA_mRNA_boxplot_1751181952310_page_1.png":25055,"./1750032382_matrix_TCGA_2_TCGA_mRNA_boxplot_1751246845793_page_1.png":5963,"./1750032382_matrix_TCGA_2_TCGA_mRNA_boxplot_1751252107492_page_1.png":99411,"./1750032382_matrix_TCGA_2_TCGA_mRNA_boxplot_1751536170619_page_1.png":29105,"./1750032382_matrix_TCGA_2_TCGA_mRNA_boxplot_1752465112770_page_1.png":77599,"./1750032382_matrix_TCGA_2_TCGA_mRNA_boxplot_1752467091242_page_1.png":62773,"./1750032382_matrix_TCGA_2_TCGA_mRNA_boxplot_1752469898552_page_1.png":28334,"./1750032382_matrix_TCGA_4_TCGA_mRNA_survival_1751181952310_page_1.png":63879,"./1750032382_matrix_TCGA_4_TCGA_mRNA_survival_1751246845793_page_1.png":5555,"./1750032382_matrix_TCGA_4_TCGA_mRNA_survival_1751252107492_page_1.png":96363,"./1750032382_matrix_TCGA_4_TCGA_mRNA_survival_1751536170619_page_1.png":67849,"./1750032382_matrix_TCGA_4_TCGA_mRNA_survival_1752469898552_page_1.png":5078,"./1750032382_matrix_TCGA_5_TCGA_mRNA_meth_1751181952310_page_1.png":54318,"./1750032382_matrix_TCGA_5_TCGA_mRNA_meth_1751246845793_page_1.png":4526,"./1750032382_matrix_TCGA_5_TCGA_mRNA_meth_1751252107492_page_1.png":24674,"./1750032382_matrix_TCGA_5_TCGA_mRNA_meth_1751536170619_page_1.png":78244,"./1750032382_matrix_TCGA_5_TCGA_mRNA_meth_1752469898552_page_1.png":16667,"./1750032382_matrix_TCGA_6_TCGA_mRNA_TIMER2_page_1.png":7379,"./1750032382_matrix_cellchat_heatmap_count_1751015202858_page_1.svg":25657,"./1750032382_matrix_cellchat_heatmap_count_1751530683704_page_1.svg":81478,"./1750032382_matrix_cellchat_heatmap_weight_1751015202858_page_1.svg":45018,"./1750032382_matrix_cellchat_heatmap_weight_1751530683704_page_1.svg":7841,"./1750032382_matrix_marker_genes_1750817837899_page_1.svg":82621,"./1750032382_matrix_marker_genes_1751263933356_page_1.svg":75024,"./1750238524_matrix111_01_page_1.svg":81066,"./1750238524_matrix111_01_page_2.svg":7065,"./HCC_10_filter_v3_001_annot_trajectory_1746671365029_page_1.png":49286,"./HCC_10_filter_v3_001_annot_trajectory_1747615688870_page_1.png":53665,"./HCC_10_filter_v3_001_annot_trajectory_1749000435961_page_1.png":9340,"./HCC_10_filter_v3_001_annot_trajectory_page_1.png":7768,"./HCC_10_filter_v3_001_trajectory_1746671365029_page_1.png":53607,"./HCC_10_filter_v3_001_trajectory_1747615688870_page_1.png":66440,"./HCC_10_filter_v3_001_trajectory_1749000435961_page_1.png":61629,"./HCC_10_filter_v3_001_trajectory_page_1.png":79149,"./HCC_10_filter_v3_003_pseudotime_plot_1747625807458_page_1.png":11354,"./HCC_10_filter_v3_003_pseudotime_plot_1749553362850_page_1.png":84264,"./HCC_10_filter_v3_003_pseudotime_plot_page_1.png":14283,"./HCC_10_filter_v3_01_page_1.svg":59623,"./HCC_10_filter_v3_03_QC_page_1.png":63712,"./HCC_10_filter_v3_TCGA_08_heatmap_1746688802964_page_1.png":71723,"./HCC_10_filter_v3_TCGA_2_TCGA_mRNA_boxplot_1747041454684_page_1.png":5616,"./HCC_10_filter_v3_TCGA_2_TCGA_mRNA_boxplot_1747615513254_page_1.png":43676,"./HCC_10_filter_v3_TCGA_2_TCGA_mRNA_boxplot_1747710612990_page_1.png":20379,"./HCC_10_filter_v3_TCGA_4_TCGA_mRNA_survival_1747041454684_page_1.png":28136,"./HCC_10_filter_v3_TCGA_4_TCGA_mRNA_survival_1747615513254_page_1.png":42180,"./HCC_10_filter_v3_TCGA_4_TCGA_mRNA_survival_1747710612990_page_1.png":56739,"./HCC_10_filter_v3_TCGA_5_TCGA_mRNA_meth_1747041454684_page_1.png":88965,"./HCC_10_filter_v3_TCGA_5_TCGA_mRNA_meth_1747615513254_page_1.png":32365,"./HCC_10_filter_v3_TCGA_5_TCGA_mRNA_meth_1747710612990_page_1.png":49826,"./HCC_10_filter_v3_TCGA_6_TCGA_mRNA_TIMER2_page_1.png":80275,"./HCC_10_filter_v3_cellchat_heatmap_count_1746610509637_page_1.svg":89307,"./HCC_10_filter_v3_cellchat_heatmap_count_1751013932118_page_1.svg":60144,"./HCC_10_filter_v3_cellchat_heatmap_weight_1746610509637_page_1.svg":5376,"./HCC_10_filter_v3_marker_genes_1747743458623_page_1.svg":93957,"./HCC_10_filter_v3_marker_genes_1748399389947_page_1.svg":87067,"./HCC_10_filter_v3_marker_genes_1749641893639_page_1.svg":92770,"./forest_list_1746688802964_CCL5_pdf_page_1.png":37999,"./forest_list_1746688802964_CST7_pdf_page_1.png":77797,"./forest_list_1746688802964_GZMA_pdf_page_1.png":75849,"./forest_list_1746688802964_NKG7_pdf_page_1.png":69287,"./forest_list_1751245357782_BEX1_pdf_page_1.png":87472,"./forest_list_1751245357782_IGFBP2_pdf_page_1.png":39200,"./forest_list_1751245357782_KRT18_pdf_page_1.png":38224,"./forest_list_1751245357782_SPINK1_pdf_page_1.png":36786,"./infercnv_1746668097259.png":13112,"./infercnv_1747622587263.png":2908,"./infercnv_1748998258631.png":3865,"./infercnv_1751017601950.png":33887,"./infercnv_1751534061798.png":9865,"./infercnv_1754052044517.png":88943,"./infercnv_1754099846794.png":24919,"./infercnv_1754103586763.png":99618,"./infercnv_1754103844270.png":79990,"./infercnv_1754188434152.png":60725,"./pbmc_001_annot_trajectory_1754189776593_page_1.png":40862,"./pbmc_001_annot_trajectory_1754189892502_page_1.png":49609,"./pbmc_001_annot_trajectory_1754190865593_page_1.png":14935,"./pbmc_001_annot_trajectory_1754191038681_page_1.png":66772,"./pbmc_001_annot_trajectory_1754191655682_page_1.png":55728,"./pbmc_001_annot_trajectory_1754191949746_page_1.png":71535,"./pbmc_001_trajectory_1754189776593_page_1.png":42275,"./pbmc_001_trajectory_1754189892502_page_1.png":80284,"./pbmc_001_trajectory_1754190865593_page_1.png":81194,"./pbmc_001_trajectory_1754191038681_page_1.png":15157,"./pbmc_001_trajectory_1754191655682_page_1.png":77525,"./pbmc_001_trajectory_1754191949746_page_1.png":4522,"./pbmc_003_pseudotime_plot_1754199390228_page_1.png":64893,"./pbmc_01_QC_page_1.png":60445,"./pbmc_01_page_1.svg":36750,"./pbmc_03_QC_page_1.png":9231,"./pbmc_TCGA_2_TCGA_mRNA_boxplot_1754199552340_page_1.png":10219,"./pbmc_TCGA_2_TCGA_mRNA_boxplot_1754207284418_page_1.png":74587,"./pbmc_TCGA_4_TCGA_mRNA_survival_1754199552340_page_1.png":51749,"./pbmc_TCGA_4_TCGA_mRNA_survival_1754207284418_page_1.png":77177,"./pbmc_TCGA_5_TCGA_mRNA_meth_1754199552340_page_1.png":13740,"./pbmc_TCGA_5_TCGA_mRNA_meth_1754207284418_page_1.png":62624,"./pbmc_TCGA_6_TCGA_mRNA_TIMER2_page_1.png":73504,"./pbmc_cellchat_heatmap_count_1754051862100_page_1.svg":18797,"./pbmc_cellchat_heatmap_count_1754051862100_pdf_page_1.png":86852,"./pbmc_cellchat_heatmap_weight_1754051862100_page_1.svg":79532,"./pbmc_marker_genes_1754051382445_page_1.svg":28726,"./pbmc_marker_genes_1754189261315_page_1.svg":51312,"./pbmc_marker_genes_1754221554325_pdf_page_1.png":83754,"./pbmc_marker_genes_1754222121967_pdf_page_1.png":84603,"./pbmc_marker_genes_1754222267707_pdf_page_1.png":35414};function o(e){var t=a(e);return i(t)}function a(e){if(!i.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=a,e.exports=o,o.id=7782},7841:function(e,t,i){"use strict";e.exports=i.p+"img/1750032382_matrix_cellchat_heatmap_weight_1751530683704_page_1.79cd7f98.svg"},8043:function(e,t,i){"use strict";e.exports=i.p+"img/1730613136_data_03_QC_page_1.0a88e3dc.png"},8344:function(e,t,i){var n,o,a;i(44114),i(18111),i(22489),i(7588),i(61701),i(17642),i(58004),i(33853),i(45876),i(32475),i(15024),i(31698),i(14603),i(47566),i(98721),
/* @license
Papa Parse
v5.5.2
https://github.com/mholt/PapaParse
License: MIT
*/
((i,r)=>{o=[],n=r,a="function"===typeof n?n.apply(t,o):n,void 0===a||(e.exports=a)})(0,(function e(){var t,i="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==i?i:{},n=!i.document&&!!i.postMessage,o=i.IS_PAPA_WORKER||!1,a={},r=0,s={};function l(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(e){var t=_(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null),this._handle=new p(t),(this._handle.streamer=this)._config=t}.call(this,e),this.parseChunk=function(e,t){var n=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<n){let t=this._config.newline;t||(a=this._config.quoteChar||'"',t=this._handle.guessLineEndings(e,a)),e=[...e.split(t).slice(n)].join(t)}this.isFirstChunk&&b(this._config.beforeFirstChunk)&&void 0!==(a=this._config.beforeFirstChunk(e))&&(e=a),this.isFirstChunk=!1,this._halted=!1;n=this._partialLine+e;var a=(this._partialLine="",this._handle.parse(n,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(e=a.meta.cursor,this._finished||(this._partialLine=n.substring(e-this._baseIndex),this._baseIndex=e),a&&a.data&&(this._rowCount+=a.data.length),n=this._finished||this._config.preview&&this._rowCount>=this._config.preview,o)i.postMessage({results:a,workerId:s.WORKER_ID,finished:n});else if(b(this._config.chunk)&&!t){if(this._config.chunk(a,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=a=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(a.data),this._completeResults.errors=this._completeResults.errors.concat(a.errors),this._completeResults.meta=a.meta),this._completed||!n||!b(this._config.complete)||a&&a.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),n||a&&a.meta.paused||this._nextChunk(),a}this._halted=!0},this._sendError=function(e){b(this._config.error)?this._config.error(e):o&&this._config.error&&i.postMessage({workerId:s.WORKER_ID,error:e,finished:!1})}}function u(e){var t;(e=e||{}).chunkSize||(e.chunkSize=s.RemoteChunkSize),l.call(this,e),this._nextChunk=n?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(t=new XMLHttpRequest,this._config.withCredentials&&(t.withCredentials=this._config.withCredentials),n||(t.onload=x(this._chunkLoaded,this),t.onerror=x(this._chunkError,this)),t.open(this._config.downloadRequestBody?"POST":"GET",this._input,!n),this._config.downloadRequestHeaders){var e,i=this._config.downloadRequestHeaders;for(e in i)t.setRequestHeader(e,i[e])}var o;this._config.chunkSize&&(o=this._start+this._config.chunkSize-1,t.setRequestHeader("Range","bytes="+this._start+"-"+o));try{t.send(this._config.downloadRequestBody)}catch(e){this._chunkError(e.message)}n&&0===t.status&&this._chunkError()}},this._chunkLoaded=function(){4===t.readyState&&(t.status<200||400<=t.status?this._chunkError():(this._start+=this._config.chunkSize||t.responseText.length,this._finished=!this._config.chunkSize||this._start>=(e=>null!==(e=e.getResponseHeader("Content-Range"))?parseInt(e.substring(e.lastIndexOf("/")+1)):-1)(t),this.parseChunk(t.responseText)))},this._chunkError=function(e){e=t.statusText||e,this._sendError(new Error(e))}}function c(e){(e=e||{}).chunkSize||(e.chunkSize=s.LocalChunkSize),l.call(this,e);var t,i,n="undefined"!=typeof FileReader;this.stream=function(e){this._input=e,i=e.slice||e.webkitSlice||e.mozSlice,n?((t=new FileReader).onload=x(this._chunkLoaded,this),t.onerror=x(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input,o=(this._config.chunkSize&&(o=Math.min(this._start+this._config.chunkSize,this._input.size),e=i.call(e,this._start,o)),t.readAsText(e,this._config.encoding));n||this._chunkLoaded({target:{result:o}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(t.error)}}function d(e){var t;l.call(this,e=e||{}),this.stream=function(e){return t=e,this._nextChunk()},this._nextChunk=function(){var e,i;if(!this._finished)return e=this._config.chunkSize,t=e?(i=t.substring(0,e),t.substring(e)):(i=t,""),this._finished=!t,this.parseChunk(i)}}function h(e){l.call(this,e=e||{});var t=[],i=!0,n=!1;this.pause=function(){l.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){l.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(e){this._input=e,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){n&&1===t.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):i=!0},this._streamData=x((function(e){try{t.push("string"==typeof e?e:e.toString(this._config.encoding)),i&&(i=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(e){this._streamError(e)}}),this),this._streamError=x((function(e){this._streamCleanUp(),this._sendError(e)}),this),this._streamEnd=x((function(){this._streamCleanUp(),n=!0,this._streamData("")}),this),this._streamCleanUp=x((function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)}),this)}function p(e){var t,i,n,o,a=Math.pow(2,53),r=-a,l=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,u=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,c=this,d=0,h=0,p=!1,m=!1,y=[],v={data:[],errors:[],meta:{}};function x(t){return"greedy"===e.skipEmptyLines?""===t.join("").trim():1===t.length&&0===t[0].length}function w(){if(v&&n&&(S("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+s.DefaultDelimiter+"'"),n=!1),e.skipEmptyLines&&(v.data=v.data.filter((function(e){return!x(e)}))),C()){if(v)if(Array.isArray(v.data[0])){for(var t=0;C()&&t<v.data.length;t++)v.data[t].forEach(i);v.data.splice(0,1)}else v.data.forEach(i);function i(t,i){b(e.transformHeader)&&(t=e.transformHeader(t,i)),y.push(t)}}function o(t,i){for(var n=e.header?{}:[],o=0;o<t.length;o++){var s=o,c=t[o];c=((t,i)=>(t=>(e.dynamicTypingFunction&&void 0===e.dynamicTyping[t]&&(e.dynamicTyping[t]=e.dynamicTypingFunction(t)),!0===(e.dynamicTyping[t]||e.dynamicTyping)))(t)?"true"===i||"TRUE"===i||"false"!==i&&"FALSE"!==i&&((e=>{if(l.test(e)&&(e=parseFloat(e),r<e&&e<a))return 1})(i)?parseFloat(i):u.test(i)?new Date(i):""===i?null:i):i)(s=e.header?o>=y.length?"__parsed_extra":y[o]:s,c=e.transform?e.transform(c,s):c);"__parsed_extra"===s?(n[s]=n[s]||[],n[s].push(c)):n[s]=c}return e.header&&(o>y.length?S("FieldMismatch","TooManyFields","Too many fields: expected "+y.length+" fields but parsed "+o,h+i):o<y.length&&S("FieldMismatch","TooFewFields","Too few fields: expected "+y.length+" fields but parsed "+o,h+i)),n}var c;v&&(e.header||e.dynamicTyping||e.transform)&&(c=1,!v.data.length||Array.isArray(v.data[0])?(v.data=v.data.map(o),c=v.data.length):v.data=o(v.data,0),e.header&&v.meta&&(v.meta.fields=y),h+=c)}function C(){return e.header&&0===y.length}function S(e,t,i,n){e={type:e,code:t,message:i},void 0!==n&&(e.row=n),v.errors.push(e)}b(e.step)&&(o=e.step,e.step=function(t){v=t,C()?w():(w(),0!==v.data.length&&(d+=t.data.length,e.preview&&d>e.preview?i.abort():(v.data=v.data[0],o(v,c))))}),this.parse=function(o,a,r){var l=e.quoteChar||'"';e.newline||(e.newline=this.guessLineEndings(o,l)),n=!1,e.delimiter?b(e.delimiter)&&(e.delimiter=e.delimiter(o),v.meta.delimiter=e.delimiter):((l=((t,i,n,o,a)=>{var r,l,u,c;a=a||[",","\t","|",";",s.RECORD_SEP,s.UNIT_SEP];for(var d=0;d<a.length;d++){for(var h,p=a[d],g=0,m=0,y=0,v=(u=void 0,new f({comments:o,delimiter:p,newline:i,preview:10}).parse(t)),_=0;_<v.data.length;_++)n&&x(v.data[_])?y++:(h=v.data[_].length,m+=h,void 0===u?u=h:0<h&&(g+=Math.abs(h-u),u=h));0<v.data.length&&(m/=v.data.length-y),(void 0===l||g<=l)&&(void 0===c||c<m)&&1.99<m&&(l=g,r=p,c=m)}return{successful:!!(e.delimiter=r),bestDelimiter:r}})(o,e.newline,e.skipEmptyLines,e.comments,e.delimitersToGuess)).successful?e.delimiter=l.bestDelimiter:(n=!0,e.delimiter=s.DefaultDelimiter),v.meta.delimiter=e.delimiter),l=_(e);return e.preview&&e.header&&l.preview++,t=o,i=new f(l),v=i.parse(t,a,r),w(),p?{meta:{paused:!0}}:v||{meta:{paused:!1}}},this.paused=function(){return p},this.pause=function(){p=!0,i.abort(),t=b(e.chunk)?"":t.substring(i.getCharIndex())},this.resume=function(){c.streamer._halted?(p=!1,c.streamer.parseChunk(t,!0)):setTimeout(c.resume,3)},this.aborted=function(){return m},this.abort=function(){m=!0,i.abort(),v.meta.aborted=!0,b(e.complete)&&e.complete(v),t=""},this.guessLineEndings=function(e,t){e=e.substring(0,1048576);t=new RegExp(g(t)+"([^]*?)"+g(t),"gm");var i=(e=e.replace(t,"")).split("\r");t=e.split("\n"),e=1<t.length&&t[0].length<i[0].length;if(1===i.length||e)return"\n";for(var n=0,o=0;o<i.length;o++)"\n"===i[o][0]&&n++;return n>=i.length/2?"\r\n":"\r"}}function g(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function f(e){var t=(e=e||{}).delimiter,i=e.newline,n=e.comments,o=e.step,a=e.preview,r=e.fastMode,l=null,u=!1,c=null==e.quoteChar?'"':e.quoteChar,d=c;if(void 0!==e.escapeChar&&(d=e.escapeChar),("string"!=typeof t||-1<s.BAD_DELIMITERS.indexOf(t))&&(t=","),n===t)throw new Error("Comment character same as delimiter");!0===n?n="#":("string"!=typeof n||-1<s.BAD_DELIMITERS.indexOf(n))&&(n=!1),"\n"!==i&&"\r"!==i&&"\r\n"!==i&&(i="\n");var h=0,p=!1;this.parse=function(s,f,m){if("string"!=typeof s)throw new Error("Input must be a string");var y=s.length,v=t.length,_=i.length,x=n.length,w=b(o),C=[],S=[],A=[],k=h=0;if(!s)return O();if(r||!1!==r&&-1===s.indexOf(c)){for(var M=s.split(i),I=0;I<M.length;I++){if(A=M[I],h+=A.length,I!==M.length-1)h+=i.length;else if(m)return O();if(!n||A.substring(0,x)!==n){if(w){if(C=[],N(A.split(t)),z(),p)return O()}else N(A.split(t));if(a&&a<=I)return C=C.slice(0,a),O(!0)}}return O()}for(var T=s.indexOf(t,h),D=s.indexOf(i,h),L=new RegExp(g(d)+g(c),"g"),P=s.indexOf(c,h);;)if(s[h]===c)for(P=h,h++;;){if(-1===(P=s.indexOf(c,P+1)))return m||S.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:C.length,index:h}),V();if(P===y-1)return V(s.substring(h,P).replace(L,c));if(c===d&&s[P+1]===d)P++;else if(c===d||0===P||s[P-1]!==d){-1!==T&&T<P+1&&(T=s.indexOf(t,P+1));var F=R(-1===(D=-1!==D&&D<P+1?s.indexOf(i,P+1):D)?T:Math.min(T,D));if(s.substr(P+1+F,v)===t){A.push(s.substring(h,P).replace(L,c)),s[h=P+1+F+v]!==c&&(P=s.indexOf(c,h)),T=s.indexOf(t,h),D=s.indexOf(i,h);break}if(F=R(D),s.substring(P+1+F,P+1+F+_)===i){if(A.push(s.substring(h,P).replace(L,c)),E(P+1+F+_),T=s.indexOf(t,h),P=s.indexOf(c,h),w&&(z(),p))return O();if(a&&C.length>=a)return O(!0);break}S.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:C.length,index:h}),P++}}else if(n&&0===A.length&&s.substring(h,h+x)===n){if(-1===D)return O();h=D+_,D=s.indexOf(i,h),T=s.indexOf(t,h)}else if(-1!==T&&(T<D||-1===D))A.push(s.substring(h,T)),h=T+v,T=s.indexOf(t,h);else{if(-1===D)break;if(A.push(s.substring(h,D)),E(D+_),w&&(z(),p))return O();if(a&&C.length>=a)return O(!0)}return V();function N(e){C.push(e),k=h}function R(e){var t=0;return-1!==e&&(e=s.substring(P+1,e))&&""===e.trim()?e.length:t}function V(e){return m||(void 0===e&&(e=s.substring(h)),A.push(e),h=y,N(A),w&&z()),O()}function E(e){h=e,N(A),A=[],D=s.indexOf(i,h)}function O(n){if(e.header&&!f&&C.length&&!u){var o=C[0],a={},r=new Set(o);let t=!1;for(let i=0;i<o.length;i++){let n=o[i];if(a[n=b(e.transformHeader)?e.transformHeader(n,i):n]){let e,s=a[n];for(;e=n+"_"+s,s++,r.has(e););r.add(e),o[i]=e,a[n]++,t=!0,(l=null===l?{}:l)[e]=n}else a[n]=1,o[i]=n;r.add(n)}t&&console.warn("Duplicate headers found and renamed."),u=!0}return{data:C,errors:S,meta:{delimiter:t,linebreak:i,aborted:p,truncated:!!n,cursor:k+(f||0),renamedHeaders:l}}}function z(){o(O()),C=[],S=[]}},this.abort=function(){p=!0},this.getCharIndex=function(){return h}}function m(e){var t=e.data,i=a[t.workerId],n=!1;if(t.error)i.userError(t.error,t.file);else if(t.results&&t.results.data){var o={abort:function(){n=!0,y(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:v,resume:v};if(b(i.userStep)){for(var r=0;r<t.results.data.length&&(i.userStep({data:t.results.data[r],errors:t.results.errors,meta:t.results.meta},o),!n);r++);delete t.results}else b(i.userChunk)&&(i.userChunk(t.results,o,t.file),delete t.results)}t.finished&&!n&&y(t.workerId,t.results)}function y(e,t){var i=a[e];b(i.userComplete)&&i.userComplete(t),i.terminate(),delete a[e]}function v(){throw new Error("Not implemented.")}function _(e){if("object"!=typeof e||null===e)return e;var t,i=Array.isArray(e)?[]:{};for(t in e)i[t]=_(e[t]);return i}function x(e,t){return function(){e.apply(t,arguments)}}function b(e){return"function"==typeof e}return s.parse=function(t,n){var o=(n=n||{}).dynamicTyping||!1;if(b(o)&&(n.dynamicTypingFunction=o,o={}),n.dynamicTyping=o,n.transform=!!b(n.transform)&&n.transform,!n.worker||!s.WORKERS_SUPPORTED)return o=null,s.NODE_STREAM_INPUT,"string"==typeof t?(t=(e=>65279!==e.charCodeAt(0)?e:e.slice(1))(t),o=new(n.download?u:d)(n)):!0===t.readable&&b(t.read)&&b(t.on)?o=new h(n):(i.File&&t instanceof File||t instanceof Object)&&(o=new c(n)),o.stream(t);(o=(()=>{var t;return!!s.WORKERS_SUPPORTED&&(t=(()=>{var t=i.URL||i.webkitURL||null,n=e.toString();return s.BLOB_URL||(s.BLOB_URL=t.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",n,")();"],{type:"text/javascript"})))})(),(t=new i.Worker(t)).onmessage=m,t.id=r++,a[t.id]=t)})()).userStep=n.step,o.userChunk=n.chunk,o.userComplete=n.complete,o.userError=n.error,n.step=b(n.step),n.chunk=b(n.chunk),n.complete=b(n.complete),n.error=b(n.error),delete n.worker,o.postMessage({input:t,config:n,workerId:o.id})},s.unparse=function(e,t){var i=!1,n=!0,o=",",a="\r\n",r='"',l=r+r,u=!1,c=null,d=!1,h=((()=>{if("object"==typeof t){if("string"!=typeof t.delimiter||s.BAD_DELIMITERS.filter((function(e){return-1!==t.delimiter.indexOf(e)})).length||(o=t.delimiter),"boolean"!=typeof t.quotes&&"function"!=typeof t.quotes&&!Array.isArray(t.quotes)||(i=t.quotes),"boolean"!=typeof t.skipEmptyLines&&"string"!=typeof t.skipEmptyLines||(u=t.skipEmptyLines),"string"==typeof t.newline&&(a=t.newline),"string"==typeof t.quoteChar&&(r=t.quoteChar),"boolean"==typeof t.header&&(n=t.header),Array.isArray(t.columns)){if(0===t.columns.length)throw new Error("Option columns is empty");c=t.columns}void 0!==t.escapeChar&&(l=t.escapeChar+r),t.escapeFormulae instanceof RegExp?d=t.escapeFormulae:"boolean"==typeof t.escapeFormulae&&t.escapeFormulae&&(d=/^[=+\-@\t\r].*$/)}})(),new RegExp(g(r),"g"));if("string"==typeof e&&(e=JSON.parse(e)),Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return p(null,e,u);if("object"==typeof e[0])return p(c||Object.keys(e[0]),e,u)}else if("object"==typeof e)return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields||c),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:"object"==typeof e.data[0]?Object.keys(e.data[0]):[]),Array.isArray(e.data[0])||"object"==typeof e.data[0]||(e.data=[e.data])),p(e.fields||[],e.data||[],u);throw new Error("Unable to serialize unrecognized input");function p(e,t,i){var r="",s=("string"==typeof e&&(e=JSON.parse(e)),"string"==typeof t&&(t=JSON.parse(t)),Array.isArray(e)&&0<e.length),l=!Array.isArray(t[0]);if(s&&n){for(var u=0;u<e.length;u++)0<u&&(r+=o),r+=f(e[u],u);0<t.length&&(r+=a)}for(var c=0;c<t.length;c++){var d=(s?e:t[c]).length,h=!1,p=s?0===Object.keys(t[c]).length:0===t[c].length;if(i&&!s&&(h="greedy"===i?""===t[c].join("").trim():1===t[c].length&&0===t[c][0].length),"greedy"===i&&s){for(var g=[],m=0;m<d;m++){var y=l?e[m]:m;g.push(t[c][y])}h=""===g.join("").trim()}if(!h){for(var v=0;v<d;v++){0<v&&!p&&(r+=o);var _=s&&l?e[v]:v;r+=f(t[c][_],v)}c<t.length-1&&(!i||0<d&&!p)&&(r+=a)}}return r}function f(e,t){var n,a;return null==e?"":e.constructor===Date?JSON.stringify(e).slice(1,25):(a=!1,d&&"string"==typeof e&&d.test(e)&&(e="'"+e,a=!0),n=e.toString().replace(h,l),(a=a||!0===i||"function"==typeof i&&i(e,t)||Array.isArray(i)&&i[t]||((e,t)=>{for(var i=0;i<t.length;i++)if(-1<e.indexOf(t[i]))return!0;return!1})(n,s.BAD_DELIMITERS)||-1<n.indexOf(o)||" "===n.charAt(0)||" "===n.charAt(n.length-1))?r+n+r:n)}},s.RECORD_SEP=String.fromCharCode(30),s.UNIT_SEP=String.fromCharCode(31),s.BYTE_ORDER_MARK="\ufeff",s.BAD_DELIMITERS=["\r","\n",'"',s.BYTE_ORDER_MARK],s.WORKERS_SUPPORTED=!n&&!!i.Worker,s.NODE_STREAM_INPUT=1,s.LocalChunkSize=10485760,s.RemoteChunkSize=5242880,s.DefaultDelimiter=",",s.Parser=f,s.ParserHandle=p,s.NetworkStreamer=u,s.FileStreamer=c,s.StringStreamer=d,s.ReadableStreamStreamer=h,i.jQuery&&((t=i.jQuery).fn.parse=function(e){var n=e.config||{},o=[];return this.each((function(e){if("INPUT"!==t(this).prop("tagName").toUpperCase()||"file"!==t(this).attr("type").toLowerCase()||!i.FileReader||!this.files||0===this.files.length)return!0;for(var a=0;a<this.files.length;a++)o.push({file:this.files[a],inputElem:this,instanceConfig:t.extend({},n)})})),a(),this;function a(){if(0===o.length)b(e.complete)&&e.complete();else{var i,n,a,l,u=o[0];if(b(e.before)){var c=e.before(u.file,u.inputElem);if("object"==typeof c){if("abort"===c.action)return i="AbortError",n=u.file,a=u.inputElem,l=c.reason,void(b(e.error)&&e.error({name:i},n,a,l));if("skip"===c.action)return void r();"object"==typeof c.config&&(u.instanceConfig=t.extend(u.instanceConfig,c.config))}else if("skip"===c)return void r()}var d=u.instanceConfig.complete;u.instanceConfig.complete=function(e){b(d)&&d(e,u.file,u.inputElem),r()},s.parse(u.file,u.instanceConfig)}}function r(){o.splice(0,1),a()}}),o&&(i.onmessage=function(e){e=e.data,void 0===s.WORKER_ID&&e&&(s.WORKER_ID=e.workerId),"string"==typeof e.input?i.postMessage({workerId:s.WORKER_ID,results:s.parse(e.input,e.config),finished:!0}):(i.File&&e.input instanceof File||e.input instanceof Object)&&(e=s.parse(e.input,e.config))&&i.postMessage({workerId:s.WORKER_ID,results:e,finished:!0})}),(u.prototype=Object.create(l.prototype)).constructor=u,(c.prototype=Object.create(l.prototype)).constructor=c,(d.prototype=Object.create(d.prototype)).constructor=d,(h.prototype=Object.create(l.prototype)).constructor=h,s}))},9231:function(e,t,i){"use strict";e.exports=i.p+"img/pbmc_03_QC_page_1.527c9ff5.png"},9340:function(e,t,i){"use strict";e.exports=i.p+"img/HCC_10_filter_v3_001_annot_trajectory_1749000435961_page_1.38f58af5.png"},9557:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return g}});var n=i(56768);const o={class:"password-container"};function a(e,t,i,a,r,s){const l=(0,n.g2)("el-input"),u=(0,n.g2)("el-form-item"),c=(0,n.g2)("el-button"),d=(0,n.g2)("el-form"),h=(0,n.g2)("el-card");return(0,n.uX)(),(0,n.Wv)(h,null,{default:(0,n.k6)((()=>[(0,n.Lk)("div",o,[(0,n.bF)(d,{model:r.form,style:{"max-width":"600px"}},{default:(0,n.k6)((()=>[(0,n.bF)(u,{label:"当前密码",prop:"currentPassword"},{default:(0,n.k6)((()=>[(0,n.bF)(l,{modelValue:r.form.currentPassword,"onUpdate:modelValue":t[0]||(t[0]=e=>r.form.currentPassword=e),"show-password":""},null,8,["modelValue"])])),_:1}),(0,n.bF)(u,{label:"新密码",prop:"newPassword"},{default:(0,n.k6)((()=>[(0,n.bF)(l,{modelValue:r.form.newPassword,"onUpdate:modelValue":t[1]||(t[1]=e=>r.form.newPassword=e),"show-password":""},null,8,["modelValue"])])),_:1}),(0,n.bF)(u,{label:"确认新密码",prop:"confirmNewPassword"},{default:(0,n.k6)((()=>[(0,n.bF)(l,{modelValue:r.form.confirmNewPassword,"onUpdate:modelValue":t[2]||(t[2]=e=>r.form.confirmNewPassword=e),"show-password":""},null,8,["modelValue"])])),_:1}),(0,n.bF)(u,null,{default:(0,n.k6)((()=>[(0,n.bF)(c,{type:"primary",onClick:s.onSubmit},{default:(0,n.k6)((()=>t[3]||(t[3]=[(0,n.eW)("提交")]))),_:1},8,["onClick"]),(0,n.bF)(c,{onClick:s.onCancel},{default:(0,n.k6)((()=>t[4]||(t[4]=[(0,n.eW)("取消")]))),_:1},8,["onClick"])])),_:1})])),_:1},8,["model"])])])),_:1})}var r=i(90144),s=i(67754),l=i(39623),u=i(80047),c=i(51219),d={components:{ElForm:s.US,ElFormItem:s.xE,ElInput:l.WK,ElButton:u.S2},data(){return{form:(0,r.Kh)({currentPassword:"",newPassword:"",confirmNewPassword:""})}},methods:{onSubmit(){this.form.newPassword===this.form.confirmNewPassword?c.nk.success("修改成功"):c.nk.error("两次输入不匹配！")},onCancel(){}}},h=i(71241);const p=(0,h.A)(d,[["render",a],["__scopeId","data-v-6bda71e0"]]);var g=p},9865:function(e,t,i){"use strict";e.exports=i.p+"img/infercnv_1751534061798.570d5264.png"},10219:function(e,t,i){"use strict";e.exports=i.p+"img/pbmc_TCGA_2_TCGA_mRNA_boxplot_1754199552340_page_1.4de0df66.png"},10492:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return m}});var n=i(56768);const o={class:"grid-content"},a={class:"demo-image__lazy"},r={class:"image-slot"},s={class:"grid-content"},l={class:"demonstration"};function u(e,t,u,c,d,h){const p=(0,n.g2)("ZoomOut"),g=(0,n.g2)("el-icon"),f=(0,n.g2)("ZoomIn"),m=(0,n.g2)("RefreshRight"),y=(0,n.g2)("RefreshLeft"),v=(0,n.g2)("Refresh"),_=(0,n.g2)("Download"),x=(0,n.g2)("icon-picture"),b=(0,n.g2)("el-image"),w=(0,n.g2)("el-scrollbar"),C=(0,n.g2)("el-col"),S=(0,n.g2)("QuestionFilled"),A=(0,n.g2)("el-button"),k=(0,n.g2)("el-input"),M=(0,n.g2)("el-form-item"),I=(0,n.g2)("el-switch"),T=(0,n.g2)("el-option"),D=(0,n.g2)("el-select"),L=(0,n.g2)("el-row"),P=(0,n.g2)("el-form"),F=(0,n.g2)("el-card");return(0,n.uX)(),(0,n.Wv)(F,null,{default:(0,n.k6)((()=>[(0,n.bF)(L,null,{default:(0,n.k6)((()=>[(0,n.bF)(C,{span:12},{default:(0,n.k6)((()=>[(0,n.Lk)("div",o,[t[12]||(t[12]=(0,n.Lk)("span",{class:"demonstration"},"QC图",-1)),(0,n.Lk)("div",a,[t[10]||(t[10]=(0,n.Lk)("div",{class:"insert"},null,-1)),(0,n.bF)(w,{ref:"el_scrollbar",style:{height:"500px","overflow-y":"auto"}},{default:(0,n.k6)((()=>[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(d.imgPaths,(t=>((0,n.uX)(),(0,n.Wv)(b,{key:t,src:i(7782)("./"+t),onLoad:e.onImageLoad,onError:h.onImageError,style:{width:"400px",height:"400px",margin:"10px"},fit:"contain",lazy:"","scroll-container":e.scrollContainer,"preview-src-list":[i(7782)("./"+t)]},{toolbar:(0,n.k6)((({actions:e,reset:o})=>[(0,n.bF)(g,{onClick:t=>e("zoomOut")},{default:(0,n.k6)((()=>[(0,n.bF)(p)])),_:2},1032,["onClick"]),(0,n.bF)(g,{onClick:t=>e("zoomIn",{enableTransition:!1,zoomRate:2})},{default:(0,n.k6)((()=>[(0,n.bF)(f)])),_:2},1032,["onClick"]),(0,n.bF)(g,{onClick:t=>e("clockwise",{rotateDeg:180,enableTransition:!1})},{default:(0,n.k6)((()=>[(0,n.bF)(m)])),_:2},1032,["onClick"]),(0,n.bF)(g,{onClick:t=>e("anticlockwise")},{default:(0,n.k6)((()=>[(0,n.bF)(y)])),_:2},1032,["onClick"]),(0,n.bF)(g,{onClick:o},{default:(0,n.k6)((()=>[(0,n.bF)(v)])),_:2},1032,["onClick"]),(0,n.bF)(g,{onClick:e=>h.downloadImage(i(7782)("./"+t))},{default:(0,n.k6)((()=>[(0,n.bF)(_)])),_:2},1032,["onClick"])])),error:(0,n.k6)((()=>[(0,n.Lk)("div",r,[(0,n.bF)(g,null,{default:(0,n.k6)((()=>[(0,n.bF)(x)])),_:1})])])),_:2},1032,["src","onLoad","onError","scroll-container","preview-src-list"])))),128))])),_:1},512),t[11]||(t[11]=(0,n.Lk)("div",{class:"insert"},null,-1))])])])),_:1}),(0,n.bF)(C,{span:12},{default:(0,n.k6)((()=>[(0,n.Lk)("div",s,[(0,n.Lk)("span",l,[t[13]||(t[13]=(0,n.eW)("参数设置")),(0,n.bF)(A,{type:"",text:"",size:"small",onClick:t[0]||(t[0]=e=>h.jumpToTutorial("parameter-settings"))},{default:(0,n.k6)((()=>[(0,n.bF)(g,null,{default:(0,n.k6)((()=>[(0,n.bF)(S)])),_:1})])),_:1})]),(0,n.bF)(P,{model:d.numberValidateForm,ref:"numberValidateForm"},{default:(0,n.k6)((()=>[(0,n.bF)(M,{label:"nCount_RNA>",prop:"num_nCount_RNA",rules:[{required:!0,message:"nCount_RNA不能为空"},{type:"number",message:"nCount_RNA必须为数字值"}]},{default:(0,n.k6)((()=>[(0,n.bF)(k,{modelValue:d.numberValidateForm.num_nCount_RNA,"onUpdate:modelValue":t[1]||(t[1]=e=>d.numberValidateForm.num_nCount_RNA=e),modelModifiers:{number:!0},autocomplete:"off"},null,8,["modelValue"])])),_:1}),(0,n.bF)(M,{label:"nFeature_RNA>",prop:"num_nFeature_RNA",rules:[{required:!0,message:"nFeature_RNA不能为空"},{type:"number",message:"nFeature_RNA必须为数字值"}]},{default:(0,n.k6)((()=>[(0,n.bF)(k,{modelValue:d.numberValidateForm.num_nFeature_RNA,"onUpdate:modelValue":t[2]||(t[2]=e=>d.numberValidateForm.num_nFeature_RNA=e),modelModifiers:{number:!0},autocomplete:"off"},null,8,["modelValue"])])),_:1}),(0,n.bF)(M,null,{default:(0,n.k6)((()=>[(0,n.bF)(M,{label:"percent_MT<",prop:"num_percent_MT",rules:d.numberValidateForm.if_num_percent_MT?[{required:!0,message:"percent_MT不能为空"},{type:"number",message:"percent_MT必须为数字值"}]:[]},{default:(0,n.k6)((()=>[(0,n.bF)(k,{modelValue:d.numberValidateForm.num_percent_MT,"onUpdate:modelValue":t[3]||(t[3]=e=>d.numberValidateForm.num_percent_MT=e),modelModifiers:{number:!0},disabled:!d.numberValidateForm.if_num_percent_MT,autocomplete:"off"},null,8,["modelValue","disabled"])])),_:1},8,["rules"]),t[14]||(t[14]=(0,n.Lk)("div",{class:"insert_in_form"},null,-1)),(0,n.bF)(M,{label:"是否启用"},{default:(0,n.k6)((()=>[(0,n.bF)(I,{modelValue:d.numberValidateForm.if_num_percent_MT,"onUpdate:modelValue":t[4]||(t[4]=e=>d.numberValidateForm.if_num_percent_MT=e)},null,8,["modelValue"])])),_:1})])),_:1}),(0,n.bF)(M,null,{default:(0,n.k6)((()=>[(0,n.bF)(M,{label:"percent_HB<",prop:"num_percent_HB",rules:d.numberValidateForm.if_num_percent_HB?[{required:!0,message:"percent_HB不能为空"},{type:"number",message:"percent_HB必须为数字值"}]:[]},{default:(0,n.k6)((()=>[(0,n.bF)(k,{modelValue:d.numberValidateForm.num_percent_HB,"onUpdate:modelValue":t[5]||(t[5]=e=>d.numberValidateForm.num_percent_HB=e),modelModifiers:{number:!0},disabled:!d.numberValidateForm.if_num_percent_HB,autocomplete:"off"},null,8,["modelValue","disabled"])])),_:1},8,["rules"]),t[15]||(t[15]=(0,n.Lk)("div",{class:"insert_in_form"},null,-1)),(0,n.bF)(M,{label:"是否启用"},{default:(0,n.k6)((()=>[(0,n.bF)(I,{modelValue:d.numberValidateForm.if_num_percent_HB,"onUpdate:modelValue":t[6]||(t[6]=e=>d.numberValidateForm.if_num_percent_HB=e)},null,8,["modelValue"])])),_:1})])),_:1}),(0,n.bF)(M,{label:"聚类方法"},{default:(0,n.k6)((()=>[(0,n.bF)(D,{modelValue:d.numberValidateForm.clustering_method,"onUpdate:modelValue":t[7]||(t[7]=e=>d.numberValidateForm.clustering_method=e),placeholder:"聚类方法"},{default:(0,n.k6)((()=>[(0,n.bF)(T,{label:"方法一",value:"1"}),(0,n.bF)(T,{label:"方法二",value:"2"})])),_:1},8,["modelValue"])])),_:1}),(0,n.bF)(M,null,{default:(0,n.k6)((()=>[(0,n.bF)(L,{gutter:20},{default:(0,n.k6)((()=>[(0,n.bF)(C,{span:6}),(0,n.bF)(C,{span:6},{default:(0,n.k6)((()=>[(0,n.bF)(A,{type:"primary",onClick:t[8]||(t[8]=e=>h.submitForm("numberValidateForm"))},{default:(0,n.k6)((()=>t[16]||(t[16]=[(0,n.eW)("提交")]))),_:1})])),_:1}),(0,n.bF)(C,{span:6}),(0,n.bF)(C,{span:6},{default:(0,n.k6)((()=>[(0,n.bF)(A,{onClick:t[9]||(t[9]=e=>h.resetForm("numberValidateForm"))},{default:(0,n.k6)((()=>t[17]||(t[17]=[(0,n.eW)("重置")]))),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["model"])])])),_:1})])),_:1})])),_:1})}i(44114),i(14603),i(47566),i(98721);var c=i(51219),d=i(57477),h=i(37913),p={components:{Eleme:d.Eleme,IconPicture:d.Picture,UploadFilled:d.UploadFilled,Download:d.Download,Refresh:d.Refresh,RefreshLeft:d.RefreshLeft,RefreshRight:d.RefreshRight,ZoomIn:d.ZoomIn,ZoomOut:d.ZoomOut},data(){return{imgPaths:[],numberValidateForm:{num_nCount_RNA:"",num_nFeature_RNA:"",num_percent_MT:"",num_percent_HB:"",ncol:"",pt_size:"",scale_factor:"",nfeatures:"",dims_use:"",lambda:"",resolution:"",if_num_percent_MT:!1,if_num_percent_HB:!1,clustering_method:""},task_id:this.$myContent.task_id}},methods:{submitForm(e){const t=new FormData;t.append("num_nCount_RNA",this.numberValidateForm.num_nCount_RNA),t.append("num_nFeature_RNA",this.numberValidateForm.num_nFeature_RNA),this.numberValidateForm.if_num_percent_HB&&t.append("num_percent_HB",this.numberValidateForm.num_percent_HB),this.numberValidateForm.if_num_percent_MT&&t.append("num_percent_MT",this.numberValidateForm.num_percent_MT),this.$refs[e].validate((e=>{if(!e)return console.log("error submit!!"),!1;alert("submit!"),(0,h.bE)("upload_user_info",t).then((e=>{(0,c.nk)({message:"参数信息已录入",type:"success"}),console.log(e.data),this.$router.push("/jsjg")}))}))},resetForm(e){this.$refs[e].resetFields()},onImageError(){console.log("Failed to load image"),this.errorMessage="Failed to load image",(0,h.Jt)("get_figure_QC").then((e=>{console.log("res.data",e.data),console.log("res.data.png_paths",e.data.png_paths),this.imgPaths=e.data.png_paths})).catch((e=>{console.log("error",e),e.response?(console.log("请求失败:",e.response.status),console.log("错误响应数据:",e.response.data),c.nk.error(e.response.data.msg)):console.error("请求错误:",e.message)}))},downloadImage(e){if(!e)return;console.log(e);const t=e.split("/").pop()||"image_"+Date.now()+".jpeg";fetch(e).then((e=>{if(!e.ok)throw new Error("Network response was not ok");return e.blob()})).then((e=>{const i=window.URL.createObjectURL(e),n=document.createElement("a");n.href=i,n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(i)})).catch((e=>{console.error("Download failed:",e),c.nk.error("下载失败："+e.message)}))},autoExecuteFunction(){0===this.imgPaths.length&&this.onImageError()},jumpToTutorial(e){window.open(`/tutorial.html#${e}`,"_blank")}},mounted(){this.autoExecuteFunction()}},g=i(71241);const f=(0,g.A)(p,[["render",u],["__scopeId","data-v-f7b6df7e"]]);var m=f},10842:function(e,t,i){"use strict";e.exports=i.p+"img/1750032382_matrix_01_page_11.d887dade.svg"},10871:function(e,t,i){"use strict";e.exports=i.p+"img/1750032382_matrix_01_page_14.e8e84785.svg"},11354:function(e,t,i){"use strict";e.exports=i.p+"img/HCC_10_filter_v3_003_pseudotime_plot_1747625807458_page_1.431512a7.png"},12955:function(e,t,i){"use strict";e.exports=i.p+"img/1750032382_matrix_01_page_3.62c439c2.svg"},13112:function(e,t,i){"use strict";e.exports=i.p+"img/infercnv_1746668097259.08fead74.png"},13337:function(e,t,i){"use strict";e.exports=i.p+"img/1750032382_matrix_01_page_1.98c43dee.svg"},13740:function(e,t,i){"use strict";e.exports=i.p+"img/pbmc_TCGA_5_TCGA_mRNA_meth_1754199552340_page_1.494fe59b.png"},14283:function(e,t,i){"use strict";e.exports=i.p+"img/HCC_10_filter_v3_003_pseudotime_plot_page_1.1258b4e4.png"},14935:function(e,t,i){"use strict";e.exports=i.p+"img/pbmc_001_annot_trajectory_1754190865593_page_1.36349ed6.png"},15157:function(e,t,i){"use strict";e.exports=i.p+"img/pbmc_001_trajectory_1754191038681_page_1.857f2101.png"},15364:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return x}});var n=i(56768),o=i(24232);const a={class:"lab-scene"},r={class:"select-container"},s={class:"camera-control"},l={class:"xunjian"},u={class:"directions"},c={class:"input"},d={class:"camera-frame"},h={key:0,style:{width:"100%"},src:"api/video_feed",ref:"video"};function p(e,t,i,p,g,f){const m=(0,n.g2)("el-option"),y=(0,n.g2)("el-select"),v=(0,n.g2)("el-divider"),_=(0,n.g2)("el-button"),x=(0,n.g2)("el-input"),b=(0,n.g2)("el-card");return(0,n.uX)(),(0,n.CE)("div",a,[(0,n.bF)(b,null,{default:(0,n.k6)((()=>[(0,n.Lk)("div",r,[t[12]||(t[12]=(0,n.Lk)("h2",null,"养殖仓编号",-1)),(0,n.bF)(y,{modelValue:g.value,"onUpdate:modelValue":t[0]||(t[0]=e=>g.value=e),class:"m-2 select",placeholder:"Select"},{default:(0,n.k6)((()=>[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(g.options,(e=>((0,n.uX)(),(0,n.Wv)(m,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])]),(0,n.bF)(v),(0,n.Lk)("div",s,[t[22]||(t[22]=(0,n.Lk)("h3",null,"摄像头操作",-1)),(0,n.Lk)("div",l,[(0,n.bF)(_,{type:"primary",style:{width:"100%","margin-bottom":"10px"},onClick:t[1]||(t[1]=e=>this.operate("auto"))},{default:(0,n.k6)((()=>t[13]||(t[13]=[(0,n.eW)("自动巡检")]))),_:1}),(0,n.bF)(_,{type:"primary",style:{width:"100%","margin-bottom":"10px"},onClick:t[2]||(t[2]=e=>this.operate("continue"))},{default:(0,n.k6)((()=>t[14]||(t[14]=[(0,n.eW)("继续巡检")]))),_:1})]),(0,n.Lk)("div",u,[(0,n.bF)(_,{type:"primary",onClick:t[3]||(t[3]=e=>f.operate("move up"))},{default:(0,n.k6)((()=>t[15]||(t[15]=[(0,n.eW)("上")]))),_:1}),(0,n.bF)(_,{type:"primary",onClick:t[4]||(t[4]=e=>f.operate("move down"))},{default:(0,n.k6)((()=>t[16]||(t[16]=[(0,n.eW)("下")]))),_:1}),(0,n.bF)(_,{type:"primary",onClick:t[5]||(t[5]=e=>f.operate("move left"))},{default:(0,n.k6)((()=>t[17]||(t[17]=[(0,n.eW)("左")]))),_:1}),(0,n.bF)(_,{type:"primary",onClick:t[6]||(t[6]=e=>f.operate("move right"))},{default:(0,n.k6)((()=>t[18]||(t[18]=[(0,n.eW)("右")]))),_:1}),(0,n.bF)(_,{type:"primary",onClick:t[7]||(t[7]=e=>f.operate("pause"))},{default:(0,n.k6)((()=>t[19]||(t[19]=[(0,n.eW)("暂停")]))),_:1})]),(0,n.Lk)("div",c,[t[21]||(t[21]=(0,n.Lk)("span",{style:{"font-weight":"700","margin-top":"5px"}},"移动至",-1)),(0,n.bF)(x,{modelValue:g.inputValue,"onUpdate:modelValue":t[8]||(t[8]=e=>g.inputValue=e),style:{width:"100px"},placeholder:"请输入内容"},null,8,["modelValue"]),(0,n.bF)(_,{onClick:t[9]||(t[9]=e=>f.operate(`book ${g.inputValue}`))},{default:(0,n.k6)((()=>t[20]||(t[20]=[(0,n.eW)("发送命令")]))),_:1})])]),(0,n.bF)(v),t[25]||(t[25]=(0,n.Lk)("h3",null,"其它操作",-1)),(0,n.bF)(_,{type:"success",onClick:t[10]||(t[10]=e=>f.operate(""))},{default:(0,n.k6)((()=>t[23]||(t[23]=[(0,n.eW)("自动投食")]))),_:1}),(0,n.bF)(_,{type:"success",onClick:t[11]||(t[11]=e=>f.operate(""))},{default:(0,n.k6)((()=>t[24]||(t[24]=[(0,n.eW)("自动喂水")]))),_:1})])),_:1}),(0,n.bF)(b,{class:"right-panel"},{default:(0,n.k6)((()=>[t[26]||(t[26]=(0,n.Lk)("h2",null,"实时显示摄像头画面",-1)),(0,n.bF)(v),(0,n.eW)(" 摄像头当前位置："+(0,o.v_)(g.pos)+" ",1),(0,n.Lk)("div",d,[g.value?((0,n.uX)(),(0,n.CE)("img",h,null,512)):(0,n.Q3)("",!0)])])),_:1})])}var g=i(37913),f=i(51219),m=i(22974),y={components:{},data(){return{inputValue:"",value:"",options:[{value:"1",label:"1"},{value:"2",label:"2"},{value:"3",label:"3"},{value:"4",label:"4"},{value:"5",label:"5"}],pos:null,timer:null}},methods:{operate(e){this.inputValue="",(0,g.LR)(e).then((e=>{(0,f.nk)({message:`发送成功:${JSON.stringify(e)}`,type:"success"})})).catch((e=>{(0,f.nk)({message:"发送失败"+JSON.stringify(e),type:"error"})}))},getPos(){m.A.get("/api/check_pos").then((e=>{e.data&&e.data.pos&&(console.log("response.data",e.data),this.pos=e.data.pos)})).catch((e=>{console.error(e)}))}},created(){this.getPos()},watch:{value(){(0,f.nk)({message:"切换成功",type:"success"})}}},v=i(71241);const _=(0,v.A)(y,[["render",p]]);var x=_},16667:function(e,t,i){"use strict";e.exports=i.p+"img/1750032382_matrix_TCGA_5_TCGA_mRNA_meth_1752469898552_page_1.47a074d4.png"},18797:function(e,t,i){"use strict";e.exports=i.p+"img/pbmc_cellchat_heatmap_count_1754051862100_page_1.a35303b5.svg"},20379:function(e,t,i){"use strict";e.exports=i.p+"img/HCC_10_filter_v3_TCGA_2_TCGA_mRNA_boxplot_1747710612990_page_1.6be8f3c7.png"},21188:function(e,t,i){"use strict";e.exports=i.p+"img/scseq2.39e3c6e5.png"},22469:function(e,t,i){"use strict";e.exports=i.p+"img/1750032382_matrix_01_page_16.6e691860.svg"},23334:function(e,t,i){"use strict";e.exports=i.p+"img/1750032382_matrix_01_page_15.2b25b1f5.svg"},23559:function(e,t,i){"use strict";e.exports=i.p+"img/1747010914_data_01_page_1.030b3dcb.svg"},24674:function(e,t,i){"use strict";e.exports=i.p+"img/1750032382_matrix_TCGA_5_TCGA_mRNA_meth_1751252107492_page_1.f564f3ab.png"},24919:function(e,t,i){"use strict";e.exports=i.p+"img/infercnv_1754099846794.c0479204.png"},25055:function(e,t,i){"use strict";e.exports=i.p+"img/1750032382_matrix_TCGA_2_TCGA_mRNA_boxplot_1751181952310_page_1.4f0e075a.png"},25657:function(e,t,i){"use strict";e.exports=i.p+"img/1750032382_matrix_cellchat_heatmap_count_1751015202858_page_1.8a2e7f53.svg"},25929:function(e,t,i){"use strict";e.exports=i.p+"img/1750032382_matrix_01_page_12.721fc8d8.svg"},28136:function(e,t,i){"use strict";e.exports=i.p+"img/HCC_10_filter_v3_TCGA_4_TCGA_mRNA_survival_1747041454684_page_1.a7749dc6.png"},28334:function(e,t,i){"use strict";e.exports=i.p+"img/1750032382_matrix_TCGA_2_TCGA_mRNA_boxplot_1752469898552_page_1.98585fd0.png"},28726:function(e,t,i){"use strict";e.exports=i.p+"img/pbmc_marker_genes_1754051382445_page_1.08f8d0c2.svg"},29105:function(e,t,i){"use strict";e.exports=i.p+"img/1750032382_matrix_TCGA_2_TCGA_mRNA_boxplot_1751536170619_page_1.60333370.png"},29654:function(e,t,i){"use strict";e.exports=i.p+"img/1750032382_matrix_01_page_6.06eb0a16.svg"},29899:function(e,t,i){"use strict";e.exports=i.p+"img/1750032382_matrix_01_page_10.5b878b99.svg"},32365:function(e,t,i){"use strict";e.exports=i.p+"img/HCC_10_filter_v3_TCGA_5_TCGA_mRNA_meth_1747615513254_page_1.0dcc36b7.png"},32367:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return f}});var n=i(56768),o=i(21188);const a={class:"login-page"},r={class:"login-box"},s={class:"form-footer"},l={class:"form-footer"};function u(e,t,i,u,c,d){const h=(0,n.g2)("el-input"),p=(0,n.g2)("el-form-item"),g=(0,n.g2)("el-button"),f=(0,n.g2)("el-form");return(0,n.uX)(),(0,n.CE)("div",a,[t[12]||(t[12]=(0,n.Lk)("img",{src:o,class:"background-image"},null,-1)),(0,n.Lk)("div",r,[t[11]||(t[11]=(0,n.Lk)("h1",null,"单细胞转录组测序分析云平台",-1)),c.isRegister?((0,n.uX)(),(0,n.Wv)(f,{key:1,model:c.registerForm,rules:c.registerRules,ref:"registerForm"},{default:(0,n.k6)((()=>[(0,n.bF)(p,{label:"用户名",prop:"username"},{default:(0,n.k6)((()=>[(0,n.bF)(h,{modelValue:c.registerForm.username,"onUpdate:modelValue":t[2]||(t[2]=e=>c.registerForm.username=e),placeholder:"请输入用户名"},null,8,["modelValue"])])),_:1}),(0,n.bF)(p,{label:"密码",prop:"password"},{default:(0,n.k6)((()=>[(0,n.bF)(h,{type:"password",modelValue:c.registerForm.password,"onUpdate:modelValue":t[3]||(t[3]=e=>c.registerForm.password=e),placeholder:"请输入密码"},null,8,["modelValue"])])),_:1}),(0,n.bF)(p,{label:"手机号",prop:"phone"},{default:(0,n.k6)((()=>[(0,n.bF)(h,{modelValue:c.registerForm.phone,"onUpdate:modelValue":t[4]||(t[4]=e=>c.registerForm.phone=e),placeholder:"请输入手机号"},null,8,["modelValue"])])),_:1}),(0,n.bF)(p,null,{default:(0,n.k6)((()=>[(0,n.bF)(g,{type:"primary",onClick:d.submitRegister,loading:c.loading,style:{width:"100%"}},{default:(0,n.k6)((()=>t[8]||(t[8]=[(0,n.eW)("注册")]))),_:1},8,["onClick","loading"])])),_:1}),(0,n.Lk)("div",l,[t[10]||(t[10]=(0,n.Lk)("span",null,"已有账号？",-1)),(0,n.bF)(g,{type:"text",onClick:d.toggleForm},{default:(0,n.k6)((()=>t[9]||(t[9]=[(0,n.eW)("去登录")]))),_:1},8,["onClick"])])])),_:1},8,["model","rules"])):((0,n.uX)(),(0,n.Wv)(f,{key:0,model:c.loginForm,rules:c.rules,ref:"loginForm"},{default:(0,n.k6)((()=>[(0,n.bF)(p,{label:"用户名",prop:"username"},{default:(0,n.k6)((()=>[(0,n.bF)(h,{modelValue:c.loginForm.username,"onUpdate:modelValue":t[0]||(t[0]=e=>c.loginForm.username=e),placeholder:"请输入用户名"},null,8,["modelValue"])])),_:1}),(0,n.bF)(p,{label:"密码",prop:"password"},{default:(0,n.k6)((()=>[(0,n.bF)(h,{type:"password",modelValue:c.loginForm.password,"onUpdate:modelValue":t[1]||(t[1]=e=>c.loginForm.password=e),placeholder:"请输入密码"},null,8,["modelValue"])])),_:1}),(0,n.bF)(p,null,{default:(0,n.k6)((()=>[(0,n.bF)(g,{type:"primary",onClick:d.submitForm,loading:c.loading,style:{width:"100%"}},{default:(0,n.k6)((()=>t[5]||(t[5]=[(0,n.eW)("登录")]))),_:1},8,["onClick","loading"])])),_:1}),(0,n.Lk)("div",s,[t[7]||(t[7]=(0,n.Lk)("span",null,"首次登陆？",-1)),(0,n.bF)(g,{type:"text",onClick:d.toggleForm},{default:(0,n.k6)((()=>t[6]||(t[6]=[(0,n.eW)("去注册")]))),_:1},8,["onClick"])])])),_:1},8,["model","rules"]))])])}i(44114);var c=i(51219),d=i(22974),h={data(){return{isRegister:!1,loading:!1,loginForm:{username:"",password:""},registerForm:{username:"",password:"",phone:""},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"},{pattern:/^[a-zA-Z0-9_]+$/,message:"用户名只能包含字母、数字和下划线"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{pattern:/^[a-zA-Z0-9!@#$%^&*()_+]+$/,message:"密码只能包含字母、数字和特殊字符"}]},registerRules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"},{pattern:/^[a-zA-Z0-9_]+$/,message:"用户名只能包含字母、数字和下划线"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{pattern:/^[a-zA-Z0-9!@#$%^&*()_+]+$/,message:"密码只能包含字母、数字和特殊字符"}],phone:[{required:!0,message:"请输入手机号",trigger:"blur"},{pattern:/^1[3-9]\d{9}$/,message:"请输入正确的手机号"}]},autoLogoutTime:3e3}},methods:{toggleForm(){this.isRegister=!this.isRegister},submitForm(){this.$refs.loginForm.validate((async e=>{if(e){this.loading=!0;try{const e=new FormData;e.append("user_name",this.loginForm.username),e.append("password",this.loginForm.password);const t=await d.A.post("/api/login",e,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});"success"===t.data.status&&(localStorage.setItem("user_id",t.data.user_id),localStorage.setItem("user_name",t.data.user_name),localStorage.setItem("login_time",Date.now()),(0,c.nk)({message:"登录成功",type:"success"}),this.$router.push("/"))}catch(t){let e="登录失败";t.response?(console.error("错误响应:",t.response),e=t.response.data?.message||"服务器错误，请稍后重试"):t.request?(console.error("请求错误:",t.request),e="网络连接失败，请检查网络设置"):(console.error("其他错误:",t.message),e="发生未知错误，请重试"),c.nk.error(e)}finally{this.loading=!1}}}))},async submitRegister(){this.$refs.registerForm.validate((async e=>{if(e){this.loading=!0;const e=new FormData;e.append("user_name",this.registerForm.username),e.append("password",this.registerForm.password),e.append("phone",this.registerForm.phone);try{const t=await d.A.post("/api/register",e);"success"===t.data.status&&((0,c.nk)({message:"注册成功",type:"success"}),this.isRegister=!1)}catch(t){let e="注册失败";t.response&&t.response.data&&(e=t.response.data.message),c.nk.error(e)}finally{this.loading=!1}}}))}}},p=i(71241);const g=(0,p.A)(h,[["render",u]]);var f=g},33887:function(e,t,i){"use strict";e.exports=i.p+"img/infercnv_1751017601950.31ec7f60.png"},35414:function(e,t,i){"use strict";e.exports=i.p+"img/pbmc_marker_genes_1754222267707_pdf_page_1.ee5e5397.png"},36750:function(e,t,i){"use strict";e.exports=i.p+"img/pbmc_01_page_1.68744d9d.svg"},36786:function(e,t,i){"use strict";e.exports=i.p+"img/forest_list_1751245357782_SPINK1_pdf_page_1.c98e8d74.png"},37913:function(e,t,i){"use strict";i.d(t,{Jt:function(){return r},LR:function(){return l},bE:function(){return s}});var n=i(22974),o=i(51219);const a=n.A.create({baseURL:"/api",timeout:72e5});function r(e,t={}){return a.get(e,{params:t})}function s(e,t={}){return a.post(e,t)}function l(e){return r(`send_move?message=${e}`)}a.interceptors.request.use((e=>{const t=localStorage.getItem("user_id"),i=localStorage.getItem("item_id");if(!e.url.includes("login")){if(!t)return o.nk.warning("请先登录"),Promise.reject("未登录");e.headers["User-Id"]=t,i&&(e.headers["Item-Id"]=i)}return e}),(e=>Promise.reject(e)))},37999:function(e,t,i){"use strict";e.exports=i.p+"img/forest_list_1746688802964_CCL5_pdf_page_1.fae7bc37.png"},38224:function(e,t,i){"use strict";e.exports=i.p+"img/forest_list_1751245357782_KRT18_pdf_page_1.3e415313.png"},39200:function(e,t,i){"use strict";e.exports=i.p+"img/forest_list_1751245357782_IGFBP2_pdf_page_1.8a2e03f9.png"},40862:function(e,t,i){"use strict";e.exports=i.p+"img/pbmc_001_annot_trajectory_1754189776593_page_1.3df22540.png"},41489:function(e,t,i){"use strict";e.exports=i.p+"img/1750032382_matrix_001_trajectory_1751180254768_page_1.44b4510e.png"},42180:function(e,t,i){"use strict";e.exports=i.p+"img/HCC_10_filter_v3_TCGA_4_TCGA_mRNA_survival_1747615513254_page_1.30d05372.png"},42275:function(e,t,i){"use strict";e.exports=i.p+"img/pbmc_001_trajectory_1754189776593_page_1.9e19511e.png"},42613:function(e,t,i){"use strict";e.exports=i.p+"img/1750032382_matrix_01_page_5.3ca9fd1c.svg"},43204:function(e,t,i){"use strict";e.exports=i.p+"img/1730613136_data_01_page_1.a414c283.svg"},43399:function(e,t,i){"use strict";e.exports=i.p+"img/upload_example.30e62e70.png"},43676:function(e,t,i){"use strict";e.exports=i.p+"img/HCC_10_filter_v3_TCGA_2_TCGA_mRNA_boxplot_1747615513254_page_1.71d862ec.png"},45018:function(e,t,i){"use strict";e.exports=i.p+"img/1750032382_matrix_cellchat_heatmap_weight_1751015202858_page_1.1e69ecdf.svg"},49286:function(e,t,i){"use strict";e.exports=i.p+"img/HCC_10_filter_v3_001_annot_trajectory_1746671365029_page_1.70379df6.png"},49609:function(e,t,i){"use strict";e.exports=i.p+"img/pbmc_001_annot_trajectory_1754189892502_page_1.15ae61d3.png"},49826:function(e,t,i){"use strict";e.exports=i.p+"img/HCC_10_filter_v3_TCGA_5_TCGA_mRNA_meth_1747710612990_page_1.e5d24713.png"},51312:function(e,t,i){"use strict";e.exports=i.p+"img/pbmc_marker_genes_1754189261315_page_1.4766d181.svg"},51449:function(e,t,i){"use strict";e.exports=i.p+"img/1730613136_data_03_QC_page_3.85770ad8.png"},51749:function(e,t,i){"use strict";e.exports=i.p+"img/pbmc_TCGA_4_TCGA_mRNA_survival_1754199552340_page_1.f725a329.png"},53607:function(e,t,i){"use strict";e.exports=i.p+"img/HCC_10_filter_v3_001_trajectory_1746671365029_page_1.d43ab16d.png"},53665:function(e,t,i){"use strict";e.exports=i.p+"img/HCC_10_filter_v3_001_annot_trajectory_1747615688870_page_1.28cabf6c.png"},53811:function(e,t,i){"use strict";e.exports=i.p+"img/reference_example.5cb1d523.png"},53826:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return l}});var n=i(56768);function o(e,t,i,o,a,r){const s=(0,n.g2)("el-header"),l=(0,n.g2)("el-input"),u=(0,n.g2)("el-form-item"),c=(0,n.g2)("el-button"),d=(0,n.g2)("el-form"),h=(0,n.g2)("el-main"),p=(0,n.g2)("el-container");return(0,n.uX)(),(0,n.Wv)(p,null,{default:(0,n.k6)((()=>[(0,n.bF)(s,null,{default:(0,n.k6)((()=>t[6]||(t[6]=[(0,n.Lk)("h2",null,"注册页面",-1)]))),_:1}),(0,n.bF)(h,null,{default:(0,n.k6)((()=>[(0,n.bF)(d,{model:a.registrationForm,rules:a.rules,ref:"registrationForm","label-width":"120px"},{default:(0,n.k6)((()=>[(0,n.bF)(u,{label:"用户名",prop:"username"},{default:(0,n.k6)((()=>[(0,n.bF)(l,{modelValue:a.registrationForm.username,"onUpdate:modelValue":t[0]||(t[0]=e=>a.registrationForm.username=e)},null,8,["modelValue"])])),_:1}),(0,n.bF)(u,{label:"邮箱",prop:"email"},{default:(0,n.k6)((()=>[(0,n.bF)(l,{modelValue:a.registrationForm.email,"onUpdate:modelValue":t[1]||(t[1]=e=>a.registrationForm.email=e)},null,8,["modelValue"])])),_:1}),(0,n.bF)(u,{label:"密码",prop:"password"},{default:(0,n.k6)((()=>[(0,n.bF)(l,{type:"password",modelValue:a.registrationForm.password,"onUpdate:modelValue":t[2]||(t[2]=e=>a.registrationForm.password=e)},null,8,["modelValue"])])),_:1}),(0,n.bF)(u,{label:"确认密码",prop:"confirmPassword"},{default:(0,n.k6)((()=>[(0,n.bF)(l,{type:"password",modelValue:a.registrationForm.confirmPassword,"onUpdate:modelValue":t[3]||(t[3]=e=>a.registrationForm.confirmPassword=e)},null,8,["modelValue"])])),_:1}),(0,n.bF)(u,null,{default:(0,n.k6)((()=>[(0,n.bF)(c,{type:"primary",onClick:t[4]||(t[4]=e=>r.submitForm("registrationForm"))},{default:(0,n.k6)((()=>t[7]||(t[7]=[(0,n.eW)("注册")]))),_:1}),(0,n.bF)(c,{onClick:t[5]||(t[5]=e=>r.resetForm("registrationForm"))},{default:(0,n.k6)((()=>t[8]||(t[8]=[(0,n.eW)("重置")]))),_:1})])),_:1})])),_:1},8,["model","rules"])])),_:1})])),_:1})}var a={data(){return{registrationForm:{username:"",email:"",password:"",confirmPassword:""},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:20,message:"用户名长度在 3 到 20 个字符",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱地址",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:["blur","change"]}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,message:"密码长度不能少于 6 个字符",trigger:"blur"}],confirmPassword:[{required:!0,message:"请确认密码",trigger:"blur"},{validator:this.validateConfirmPassword,trigger:"blur"}]}}},methods:{validateConfirmPassword(e,t,i){""===t?i(new Error("请确认密码")):t!==this.registrationForm.password?i(new Error("两次输入密码不一致!")):i()},submitForm(e){this.$refs[e].validate((e=>{if(!e)return console.log("error submit!!"),!1;alert("注册成功!")}))},resetForm(e){this.$refs[e].resetFields()}}},r=i(71241);const s=(0,r.A)(a,[["render",o]]);var l=s},53828:function(e,t,i){"use strict";e.exports=i.p+"img/1730613136_data_01_page_2.d567b2cf.svg"},54318:function(e,t,i){"use strict";e.exports=i.p+"img/1750032382_matrix_TCGA_5_TCGA_mRNA_meth_1751181952310_page_1.7d71b337.png"},54333:function(e,t,i){"use strict";i.d(t,{Ts:function(){return n.Ts}});i(44114);var n=i(84372),o=i(85256),a=i(34979),r=i(84460),s=i(70686),l=i(18121),u=i(19283),c=i(8208),d=[],h={registerPreprocessor:n.lP,registerProcessor:n.qg,registerPostInit:n.cf,registerPostUpdate:n.tb,registerUpdateLifecycle:n.xV,registerAction:n.OH,registerCoordinateSystem:n.pX,registerLayout:n.Oh,registerVisual:n.AF,registerTransform:n.iY,registerLoading:n.Ej,registerMap:n.mz,registerImpl:u.m,PRIORITY:n.FQ,ComponentModel:r.A,ComponentView:o.A,SeriesModel:s.A,ChartView:a.A,registerComponentModel:function(e){r.A.registerClass(e)},registerComponentView:function(e){o.A.registerClass(e)},registerSeriesModel:function(e){s.A.registerClass(e)},registerChartView:function(e){a.A.registerClass(e)},registerSubTypeDefaulter:function(e,t){r.A.registerSubTypeDefaulter(e,t)},registerPainter:function(e,t){(0,c.fI)(e,t)}};function p(e){(0,l.cy)(e)?(0,l.__)(e,(function(e){p(e)})):(0,l.qh)(d,e)>=0||(d.push(e),(0,l.Tn)(e)&&(e={install:e}),e.install(h))}i(18111),i(7588);var g=i(40175),f=i(55891),m=i(15125),y=i(92785),v=i(14421),_=i(43961),x=(i(61806),i(14683)),b=i(10596),w=i(39286),C=i(95260),S=i(15208),A=i(9286),k=i(56284),M=i(50770),I=i(53534),T=2*Math.PI,D=C.A.CMD,L=["top","right","bottom","left"];function P(e,t,i,n,o){var a=i.width,r=i.height;switch(e){case"top":n.set(i.x+a/2,i.y-t),o.set(0,-1);break;case"bottom":n.set(i.x+a/2,i.y+r+t),o.set(0,1);break;case"left":n.set(i.x-t,i.y+r/2),o.set(-1,0);break;case"right":n.set(i.x+a+t,i.y+r/2),o.set(1,0);break}}function F(e,t,i,n,o,a,r,s,l){r-=e,s-=t;var u=Math.sqrt(r*r+s*s);r/=u,s/=u;var c=r*i+e,d=s*i+t;if(Math.abs(n-o)%T<1e-4)return l[0]=c,l[1]=d,u-i;if(a){var h=n;n=(0,S.n)(o),o=(0,S.n)(h)}else n=(0,S.n)(n),o=(0,S.n)(o);n>o&&(o+=T);var p=Math.atan2(s,r);if(p<0&&(p+=T),p>=n&&p<=o||p+T>=n&&p+T<=o)return l[0]=c,l[1]=d,u-i;var g=i*Math.cos(n)+e,f=i*Math.sin(n)+t,m=i*Math.cos(o)+e,y=i*Math.sin(o)+t,v=(g-r)*(g-r)+(f-s)*(f-s),_=(m-r)*(m-r)+(y-s)*(y-s);return v<_?(l[0]=g,l[1]=f,Math.sqrt(v)):(l[0]=m,l[1]=y,Math.sqrt(_))}function N(e,t,i,n,o,a,r,s){var l=o-e,u=a-t,c=i-e,d=n-t,h=Math.sqrt(c*c+d*d);c/=h,d/=h;var p=l*c+u*d,g=p/h;s&&(g=Math.min(Math.max(g,0),1)),g*=h;var f=r[0]=e+g*c,m=r[1]=t+g*d;return Math.sqrt((f-o)*(f-o)+(m-a)*(m-a))}function R(e,t,i,n,o,a,r){i<0&&(e+=i,i=-i),n<0&&(t+=n,n=-n);var s=e+i,l=t+n,u=r[0]=Math.min(Math.max(o,e),s),c=r[1]=Math.min(Math.max(a,t),l);return Math.sqrt((u-o)*(u-o)+(c-a)*(c-a))}var V=[];function E(e,t,i){var n=R(t.x,t.y,t.width,t.height,e.x,e.y,V);return i.set(V[0],V[1]),n}function O(e,t,i){for(var n,o,a=0,r=0,s=0,l=0,u=1/0,c=t.data,d=e.x,h=e.y,p=0;p<c.length;){var g=c[p++];1===p&&(a=c[p],r=c[p+1],s=a,l=r);var f=u;switch(g){case D.M:s=c[p++],l=c[p++],a=s,r=l;break;case D.L:f=N(a,r,c[p],c[p+1],d,h,V,!0),a=c[p++],r=c[p++];break;case D.C:f=(0,A.Et)(a,r,c[p++],c[p++],c[p++],c[p++],c[p],c[p+1],d,h,V),a=c[p++],r=c[p++];break;case D.Q:f=(0,A.kh)(a,r,c[p++],c[p++],c[p],c[p+1],d,h,V),a=c[p++],r=c[p++];break;case D.A:var m=c[p++],y=c[p++],v=c[p++],_=c[p++],x=c[p++],b=c[p++];p+=1;var w=!!(1-c[p++]);n=Math.cos(x)*v+m,o=Math.sin(x)*_+y,p<=1&&(s=n,l=o);var C=(d-m)*_/v+m;f=F(m,y,_,x,x+b,w,C,h,V),a=Math.cos(x+b)*v+m,r=Math.sin(x+b)*_+y;break;case D.R:s=a=c[p++],l=r=c[p++];var S=c[p++],k=c[p++];f=R(s,l,S,k,d,h,V);break;case D.Z:f=N(a,r,s,l,d,h,V,!0),a=s,r=l;break}f<u&&(u=f,i.set(V[0],V[1]))}return u}var z=new x.A,G=new x.A,B=new x.A,W=new x.A,H=new x.A;function X(e,t){if(e){var i=e.getTextGuideLine(),n=e.getTextContent();if(n&&i){var o=e.textGuideLineConfig||{},a=[[0,0],[0,0],[0,0]],r=o.candidates||L,s=n.getBoundingRect().clone();s.applyTransform(n.getComputedTransform());var l=1/0,u=o.anchor,c=e.getComputedTransform(),d=c&&(0,k.B8)([],c),h=t.get("length2")||0;u&&B.copy(u);for(var p=0;p<r.length;p++){var g=r[p];P(g,0,s,z,W),x.A.scaleAndAdd(G,z,W,h),G.transform(d);var f=e.getBoundingRect(),m=u?u.distance(G):e instanceof b.Ay?O(G,e.path,B):E(G,f,B);m<l&&(l=m,G.transform(c),B.transform(c),B.toArray(a[0]),G.toArray(a[1]),z.toArray(a[2]))}U(a,t.get("minTurnAngle")),i.setShape({points:a})}}}var $=[],j=new x.A;function U(e,t){if(t<=180&&t>0){t=t/180*Math.PI,z.fromArray(e[0]),G.fromArray(e[1]),B.fromArray(e[2]),x.A.sub(W,z,G),x.A.sub(H,B,G);var i=W.len(),n=H.len();if(!(i<.001||n<.001)){W.scale(1/i),H.scale(1/n);var o=W.dot(H),a=Math.cos(t);if(a<o){var r=N(G.x,G.y,B.x,B.y,z.x,z.y,$,!1);j.fromArray($),j.scaleAndAdd(H,r/Math.tan(Math.PI-t));var s=B.x!==G.x?(j.x-G.x)/(B.x-G.x):(j.y-G.y)/(B.y-G.y);if(isNaN(s))return;s<0?x.A.copy(j,G):s>1&&x.A.copy(j,B),j.toArray(e[1])}}}}function Y(e,t,i){if(i<=180&&i>0){i=i/180*Math.PI,z.fromArray(e[0]),G.fromArray(e[1]),B.fromArray(e[2]),x.A.sub(W,G,z),x.A.sub(H,B,G);var n=W.len(),o=H.len();if(!(n<.001||o<.001)){W.scale(1/n),H.scale(1/o);var a=W.dot(t),r=Math.cos(i);if(a<r){var s=N(G.x,G.y,B.x,B.y,z.x,z.y,$,!1);j.fromArray($);var l=Math.PI/2,u=Math.acos(H.dot(t)),c=l+u-i;if(c>=l)x.A.copy(j,B);else{j.scaleAndAdd(H,s/Math.tan(Math.PI/2-c));var d=B.x!==G.x?(j.x-G.x)/(B.x-G.x):(j.y-G.y)/(B.y-G.y);if(isNaN(d))return;d<0?x.A.copy(j,G):d>1&&x.A.copy(j,B)}j.toArray(e[1])}}}}function Z(e,t,i,n){var o="normal"===i,a=o?e:e.ensureState(i);a.ignore=t;var r=n.get("smooth");r&&!0===r&&(r=.3),a.shape=a.shape||{},r>0&&(a.shape.smooth=r);var s=n.getModel("lineStyle").getLineStyle();o?e.useStyle(s):a.style=s}function q(e,t){var i=t.smooth,n=t.points;if(n)if(e.moveTo(n[0][0],n[0][1]),i>0&&n.length>=3){var o=M.xg(n[0],n[1]),a=M.xg(n[1],n[2]);if(!o||!a)return e.lineTo(n[1][0],n[1][1]),void e.lineTo(n[2][0],n[2][1]);var r=Math.min(o,a)*i,s=M.Cc([],n[1],n[0],r/o),l=M.Cc([],n[1],n[2],r/a),u=M.Cc([],s,l,.5);e.bezierCurveTo(s[0],s[1],s[0],s[1],u[0],u[1]),e.bezierCurveTo(l[0],l[1],l[0],l[1],n[2][0],n[2][1])}else for(var c=1;c<n.length;c++)e.lineTo(n[c][0],n[c][1])}function K(e,t,i){var n=e.getTextGuideLine(),o=e.getTextContent();if(o){for(var a=t.normal,r=a.get("show"),s=o.ignore,u=0;u<I.wV.length;u++){var c=I.wV[u],d=t[c],h="normal"===c;if(d){var p=d.get("show"),g=h?s:(0,l.bZ)(o.states[c]&&o.states[c].ignore,s);if(g||!(0,l.bZ)(p,r)){var f=h?n:n&&n.states[c];f&&(f.ignore=!0),n&&Z(n,!0,c,d);continue}n||(n=new w.A,e.setTextGuideLine(n),h||!s&&r||Z(n,!0,"normal",t.normal),e.stateProxy&&(n.stateProxy=e.stateProxy)),Z(n,!1,c,d)}}if(n){(0,l.NT)(n.style,i),n.style.fill=null;var m=a.get("showAbove"),y=e.textGuideLineConfig=e.textGuideLineConfig||{};y.showAbove=m||!1,n.buildPath=q}}else n&&e.removeTextGuideLine()}function Q(e,t){t=t||"labelLine";for(var i={normal:e.getModel(t)},n=0;n<I.BV.length;n++){var o=I.BV[n];i[o]=e.getModel([o,t])}return i}var J=i(28327);function ee(e){for(var t=[],i=0;i<e.length;i++){var n=e[i];if(!n.defaultAttr.ignore){var o=n.label,a=o.getComputedTransform(),r=o.getBoundingRect(),s=!a||a[1]<1e-5&&a[2]<1e-5,l=o.style.margin||0,u=r.clone();u.applyTransform(a),u.x-=l/2,u.y-=l/2,u.width+=l,u.height+=l;var c=s?new J.A(r,a):null;t.push({label:o,labelLine:n.labelLine,rect:u,localRect:r,obb:c,priority:n.priority,defaultAttr:n.defaultAttr,layoutOption:n.computedLayoutOption,axisAligned:s,transform:a})}}return t}function te(e,t,i,n,o,a){var r=e.length;if(!(r<2)){e.sort((function(e,i){return e.rect[t]-i.rect[t]}));for(var s,l=0,u=!1,c=[],d=0,h=0;h<r;h++){var p=e[h],g=p.rect;s=g[t]-l,s<0&&(g[t]-=s,p.label[t]-=s,u=!0);var f=Math.max(-s,0);c.push(f),d+=f,l=g[t]+g[i]}d>0&&a&&w(-d/r,0,r);var m,y,v=e[0],_=e[r-1];return x(),m<0&&C(-m,.8),y<0&&C(y,.8),x(),b(m,y,1),b(y,m,-1),x(),m<0&&S(-m),y<0&&S(y),u}function x(){m=v.rect[t]-n,y=o-_.rect[t]-_.rect[i]}function b(e,t,i){if(e<0){var n=Math.min(t,-e);if(n>0){w(n*i,0,r);var o=n+e;o<0&&C(-o*i,1)}else C(-e*i,1)}}function w(i,n,o){0!==i&&(u=!0);for(var a=n;a<o;a++){var r=e[a],s=r.rect;s[t]+=i,r.label[t]+=i}}function C(n,o){for(var a=[],s=0,l=1;l<r;l++){var u=e[l-1].rect,c=Math.max(e[l].rect[t]-u[t]-u[i],0);a.push(c),s+=c}if(s){var d=Math.min(Math.abs(n)/s,o);if(n>0)for(l=0;l<r-1;l++){var h=a[l]*d;w(h,0,l+1)}else for(l=r-1;l>0;l--){h=a[l-1]*d;w(-h,l,r)}}}function S(e){var t=e<0?-1:1;e=Math.abs(e);for(var i=Math.ceil(e/(r-1)),n=0;n<r-1;n++)if(t>0?w(i,0,n+1):w(-i,r-n-1,r),e-=i,e<=0)return}}function ie(e,t,i,n){return te(e,"x","width",t,i,n)}function ne(e,t,i,n){return te(e,"y","height",t,i,n)}function oe(e){var t=[];e.sort((function(e,t){return t.priority-e.priority}));var i=new f.A(0,0,0,0);function n(e){if(!e.ignore){var t=e.ensureState("emphasis");null==t.ignore&&(t.ignore=!1)}e.ignore=!0}for(var o=0;o<e.length;o++){var a=e[o],r=a.axisAligned,s=a.localRect,l=a.transform,u=a.label,c=a.labelLine;i.copy(a.rect),i.width-=.1,i.height-=.1,i.x+=.05,i.y+=.05;for(var d=a.obb,h=!1,p=0;p<t.length;p++){var g=t[p];if(i.intersect(g.rect)){if(r&&g.axisAligned){h=!0;break}if(g.obb||(g.obb=new J.A(g.localRect,g.transform)),d||(d=new J.A(s,l)),d.intersect(g.obb)){h=!0;break}}}h?(n(u),c&&n(c)):(u.attr("ignore",a.defaultAttr.ignore),c&&c.attr("ignore",a.defaultAttr.labelGuideIgnore),t.push(a))}}var ae=i(66313);function re(e){if(e){for(var t=[],i=0;i<e.length;i++)t.push(e[i].slice());return t}}function se(e,t){var i=e.label,n=t&&t.getTextGuideLine();return{dataIndex:e.dataIndex,dataType:e.dataType,seriesIndex:e.seriesModel.seriesIndex,text:e.label.style.text,rect:e.hostRect,labelRect:e.rect,align:i.style.align,verticalAlign:i.style.verticalAlign,labelLinePoints:re(n&&n.shape.points)}}var le=["align","verticalAlign","width","height","fontSize"],ue=new _.Ay,ce=(0,g.$r)(),de=(0,g.$r)();function he(e,t,i){for(var n=0;n<i.length;n++){var o=i[n];null!=t[o]&&(e[o]=t[o])}}var pe=["x","y","rotation"],ge=function(){function e(){this._labelList=[],this._chartViewList=[]}return e.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},e.prototype._addLabel=function(e,t,i,n,o){var a=n.style,r=n.__hostTarget,s=r.textConfig||{},l=n.getComputedTransform(),u=n.getBoundingRect().plain();f.A.applyTransform(u,u,l),l?ue.setLocalTransform(l):(ue.x=ue.y=ue.rotation=ue.originX=ue.originY=0,ue.scaleX=ue.scaleY=1),ue.rotation=(0,S.n)(ue.rotation);var c,d=n.__hostTarget;if(d){c=d.getBoundingRect().plain();var h=d.getComputedTransform();f.A.applyTransform(c,c,h)}var p=c&&d.getTextGuideLine();this._labelList.push({label:n,labelLine:p,seriesModel:i,dataIndex:e,dataType:t,layoutOption:o,computedLayoutOption:null,rect:u,hostRect:c,priority:c?c.width*c.height:0,defaultAttr:{ignore:n.ignore,labelGuideIgnore:p&&p.ignore,x:ue.x,y:ue.y,scaleX:ue.scaleX,scaleY:ue.scaleY,rotation:ue.rotation,style:{x:a.x,y:a.y,align:a.align,verticalAlign:a.verticalAlign,width:a.width,height:a.height,fontSize:a.fontSize},cursor:n.cursor,attachedPos:s.position,attachedRot:s.rotation}})},e.prototype.addLabelsOfSeries=function(e){var t=this;this._chartViewList.push(e);var i=e.__model,n=i.get("labelLayout");((0,l.Tn)(n)||(0,l.HP)(n).length)&&e.group.traverse((function(e){if(e.ignore)return!0;var o=e.getTextContent(),a=(0,y.z)(e);o&&!o.disableLabelLayout&&t._addLabel(a.dataIndex,a.dataType,i,o,n)}))},e.prototype.updateLayoutConfig=function(e){var t=e.getWidth(),i=e.getHeight();function n(e,t){return function(){X(e,t)}}for(var o=0;o<this._labelList.length;o++){var a=this._labelList[o],r=a.label,s=r.__hostTarget,u=a.defaultAttr,c=void 0;c=(0,l.Tn)(a.layoutOption)?a.layoutOption(se(a,s)):a.layoutOption,c=c||{},a.computedLayoutOption=c;var d=Math.PI/180;s&&s.setTextConfig({local:!1,position:null!=c.x||null!=c.y?null:u.attachedPos,rotation:null!=c.rotate?c.rotate*d:u.attachedRot,offset:[c.dx||0,c.dy||0]});var h=!1;if(null!=c.x?(r.x=(0,v.lo)(c.x,t),r.setStyle("x",0),h=!0):(r.x=u.x,r.setStyle("x",u.style.x)),null!=c.y?(r.y=(0,v.lo)(c.y,i),r.setStyle("y",0),h=!0):(r.y=u.y,r.setStyle("y",u.style.y)),c.labelLinePoints){var p=s.getTextGuideLine();p&&(p.setShape({points:c.labelLinePoints}),h=!1)}var g=ce(r);g.needsUpdateLabelLine=h,r.rotation=null!=c.rotate?c.rotate*d:u.rotation,r.scaleX=u.scaleX,r.scaleY=u.scaleY;for(var f=0;f<le.length;f++){var m=le[f];r.setStyle(m,null!=c[m]?c[m]:u.style[m])}if(c.draggable){if(r.draggable=!0,r.cursor="move",s){var y=a.seriesModel;if(null!=a.dataIndex){var _=a.seriesModel.getData(a.dataType);y=_.getItemModel(a.dataIndex)}r.on("drag",n(s,y.getModel("labelLine")))}}else r.off("drag"),r.cursor=u.cursor}},e.prototype.layout=function(e){var t=e.getWidth(),i=e.getHeight(),n=ee(this._labelList),o=(0,l.pb)(n,(function(e){return"shiftX"===e.layoutOption.moveOverlap})),a=(0,l.pb)(n,(function(e){return"shiftY"===e.layoutOption.moveOverlap}));ie(o,0,t),ne(a,0,i);var r=(0,l.pb)(n,(function(e){return e.layoutOption.hideOverlap}));oe(r)},e.prototype.processLabelsOverall=function(){var e=this;(0,l.__)(this._chartViewList,(function(t){var i=t.__model,n=t.ignoreLabelLineUpdate,o=i.isAnimationEnabled();t.group.traverse((function(t){if(t.ignore&&!t.forceLabelAnimation)return!0;var a=!n,r=t.getTextContent();!a&&r&&(a=ce(r).needsUpdateLabelLine),a&&e._updateLabelLine(t,i),o&&e._animateLabels(t,i)}))}))},e.prototype._updateLabelLine=function(e,t){var i=e.getTextContent(),n=(0,y.z)(e),o=n.dataIndex;if(i&&null!=o){var a=t.getData(n.dataType),r=a.getItemModel(o),s={},l=a.getItemVisual(o,"style");if(l){var u=a.getVisual("drawType");s.stroke=l[u]}var c=r.getModel("labelLine");K(e,Q(r),s),X(e,c)}},e.prototype._animateLabels=function(e,t){var i=e.getTextContent(),n=e.getTextGuideLine();if(i&&(e.forceLabelAnimation||!i.ignore&&!i.invisible&&!e.disableLabelAnimation&&!(0,m.LR)(e))){var o=ce(i),a=o.oldLayout,r=(0,y.z)(e),s=r.dataIndex,u={x:i.x,y:i.y,rotation:i.rotation},c=t.getData(r.dataType);if(a){i.attr(a);var d=e.prevStates;d&&((0,l.qh)(d,"select")>=0&&i.attr(o.oldLayoutSelect),(0,l.qh)(d,"emphasis")>=0&&i.attr(o.oldLayoutEmphasis)),(0,m.oi)(i,u,t,s)}else if(i.attr(u),!(0,ae.Lu)(i).valueAnimation){var h=(0,l.bZ)(i.style.opacity,1);i.style.opacity=0,(0,m.LW)(i,{style:{opacity:h}},t,s)}if(o.oldLayout=u,i.states.select){var p=o.oldLayoutSelect={};he(p,u,pe),he(p,i.states.select,pe)}if(i.states.emphasis){var g=o.oldLayoutEmphasis={};he(g,u,pe),he(g,i.states.emphasis,pe)}(0,ae.xb)(i,s,c,t,t)}if(n&&!n.ignore&&!n.invisible){o=de(n),a=o.oldLayout;var f={points:n.shape.points};a?(n.attr({shape:a}),(0,m.oi)(n,{shape:f},t)):(n.setShape(f),n.style.strokePercent=0,(0,m.LW)(n,{style:{strokePercent:1}},t)),o.oldLayout=f}},e}(),fe=ge,me=(0,g.$r)();function ye(e){e.registerUpdateLifecycle("series:beforeupdate",(function(e,t,i){var n=me(t).labelManager;n||(n=me(t).labelManager=new fe),n.clearLabels()})),e.registerUpdateLifecycle("series:layoutlabels",(function(e,t,i){var n=me(t).labelManager;i.updatedSeries.forEach((function(e){n.addLabelsOfSeries(t.getViewOfSeriesModel(e))})),n.updateLayoutConfig(t),n.layout(t),n.processLabelsOverall()}))}p(ye);var ve=i(11935),_e=i(19220),xe=i(33050),be=i(25528),we=i(1534),Ce=i(98767),Se=i(63338);function Ae(e,t,i){var n=Se.yh.createCanvas(),o=t.getWidth(),a=t.getHeight(),r=n.style;return r&&(r.position="absolute",r.left="0",r.top="0",r.width=o+"px",r.height=a+"px",n.setAttribute("data-zr-dom-id",e)),n.width=o*i,n.height=a*i,n}var ke=function(e){function t(t,i,n){var o,a=e.call(this)||this;a.motionBlur=!1,a.lastFrameAlpha=.7,a.dpr=1,a.virtual=!1,a.config={},a.incremental=!1,a.zlevel=0,a.maxRepaintRectCount=5,a.__dirty=!0,a.__firstTimePaint=!0,a.__used=!1,a.__drawIndex=0,a.__startIndex=0,a.__endIndex=0,a.__prevStartIndex=null,a.__prevEndIndex=null,n=n||ve.Y5,"string"===typeof t?o=Ae(t,i,n):l.Gv(t)&&(o=t,t=o.id),a.id=t,a.dom=o;var r=o.style;return r&&(l.iq(o),o.onselectstart=function(){return!1},r.padding="0",r.margin="0",r.borderWidth="0"),a.painter=i,a.dpr=n,a}return(0,_e.C6)(t,e),t.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},t.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},t.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},t.prototype.setUnpainted=function(){this.__firstTimePaint=!0},t.prototype.createBackBuffer=function(){var e=this.dpr;this.domBack=Ae("back-"+this.id,this.painter,e),this.ctxBack=this.domBack.getContext("2d"),1!==e&&this.ctxBack.scale(e,e)},t.prototype.createRepaintRects=function(e,t,i,n){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var o,a=[],r=this.maxRepaintRectCount,s=!1,l=new f.A(0,0,0,0);function u(e){if(e.isFinite()&&!e.isZero())if(0===a.length){var t=new f.A(0,0,0,0);t.copy(e),a.push(t)}else{for(var i=!1,n=1/0,o=0,u=0;u<a.length;++u){var c=a[u];if(c.intersect(e)){var d=new f.A(0,0,0,0);d.copy(c),d.union(e),a[u]=d,i=!0;break}if(s){l.copy(e),l.union(c);var h=e.width*e.height,p=c.width*c.height,g=l.width*l.height,m=g-h-p;m<n&&(n=m,o=u)}}if(s&&(a[o].union(e),i=!0),!i){t=new f.A(0,0,0,0);t.copy(e),a.push(t)}s||(s=a.length>=r)}}for(var c=this.__startIndex;c<this.__endIndex;++c){var d=e[c];if(d){var h=d.shouldBePainted(i,n,!0,!0),p=d.__isRendered&&(d.__dirty&Ce.M||!h)?d.getPrevPaintRect():null;p&&u(p);var g=h&&(d.__dirty&Ce.M||!d.__isRendered)?d.getPaintRect():null;g&&u(g)}}for(c=this.__prevStartIndex;c<this.__prevEndIndex;++c){d=t[c],h=d&&d.shouldBePainted(i,n,!0,!0);if(d&&(!h||!d.__zr)&&d.__isRendered){p=d.getPrevPaintRect();p&&u(p)}}do{o=!1;for(c=0;c<a.length;)if(a[c].isZero())a.splice(c,1);else{for(var m=c+1;m<a.length;)a[c].intersect(a[m])?(o=!0,a[c].union(a[m]),a.splice(m,1)):m++;c++}}while(o);return this._paintRects=a,a},t.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},t.prototype.resize=function(e,t){var i=this.dpr,n=this.dom,o=n.style,a=this.domBack;o&&(o.width=e+"px",o.height=t+"px"),n.width=e*i,n.height=t*i,a&&(a.width=e*i,a.height=t*i,1!==i&&this.ctxBack.scale(i,i))},t.prototype.clear=function(e,t,i){var n=this.dom,o=this.ctx,a=n.width,r=n.height;t=t||this.clearColor;var s=this.motionBlur&&!e,u=this.lastFrameAlpha,c=this.dpr,d=this;s&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(n,0,0,a/c,r/c));var h=this.domBack;function p(e,i,n,a){if(o.clearRect(e,i,n,a),t&&"transparent"!==t){var r=void 0;if(l.C7(t)){var p=t.global||t.__width===n&&t.__height===a;r=p&&t.__canvasGradient||(0,be.Ff)(o,t,{x:0,y:0,width:n,height:a}),t.__canvasGradient=r,t.__width=n,t.__height=a}else l.HE(t)&&(t.scaleX=t.scaleX||c,t.scaleY=t.scaleY||c,r=(0,we.ZQ)(o,t,{dirty:function(){d.setUnpainted(),d.painter.refresh()}}));o.save(),o.fillStyle=r||t,o.fillRect(e,i,n,a),o.restore()}s&&(o.save(),o.globalAlpha=u,o.drawImage(h,e,i,n,a),o.restore())}!i||s?p(0,0,a,r):i.length&&l.__(i,(function(e){p(e.x*c,e.y*c,e.width*c,e.height*c)}))},t}(xe.A),Me=ke,Ie=i(73442),Te=i(646),De=1e5,Le=314159,Pe=.01,Fe=.001;function Ne(e){return!!e&&(!!e.__builtin__||"function"===typeof e.resize&&"function"===typeof e.refresh)}function Re(e,t){var i=document.createElement("div");return i.style.cssText=["position:relative","width:"+e+"px","height:"+t+"px","padding:0","margin:0","border-width:0"].join(";")+";",i}var Ve=function(){function e(e,t,i,n){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var o=!e.nodeName||"CANVAS"===e.nodeName.toUpperCase();this._opts=i=l.X$({},i||{}),this.dpr=i.devicePixelRatio||ve.Y5,this._singleCanvas=o,this.root=e;var a=e.style;a&&(l.iq(e),e.innerHTML=""),this.storage=t;var r=this._zlevelList;this._prevDisplayList=[];var s=this._layers;if(o){var u=e,c=u.width,d=u.height;null!=i.width&&(c=i.width),null!=i.height&&(d=i.height),this.dpr=i.devicePixelRatio||1,u.width=c*this.dpr,u.height=d*this.dpr,this._width=c,this._height=d;var h=new Me(u,this,this.dpr);h.__builtin__=!0,h.initContext(),s[Le]=h,h.zlevel=Le,r.push(Le),this._domRoot=e}else{this._width=(0,be.YC)(e,0,i),this._height=(0,be.YC)(e,1,i);var p=this._domRoot=Re(this._width,this._height);e.appendChild(p)}}return e.prototype.getType=function(){return"canvas"},e.prototype.isSingleCanvas=function(){return this._singleCanvas},e.prototype.getViewportRoot=function(){return this._domRoot},e.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},e.prototype.refresh=function(e){var t=this.storage.getDisplayList(!0),i=this._prevDisplayList,n=this._zlevelList;this._redrawId=Math.random(),this._paintList(t,i,e,this._redrawId);for(var o=0;o<n.length;o++){var a=n[o],r=this._layers[a];if(!r.__builtin__&&r.refresh){var s=0===o?this._backgroundColor:null;r.refresh(s)}}return this._opts.useDirtyRect&&(this._prevDisplayList=t.slice()),this},e.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},e.prototype._paintHoverList=function(e){var t=e.length,i=this._hoverlayer;if(i&&i.clear(),t){for(var n,o={inHover:!0,viewWidth:this._width,viewHeight:this._height},a=0;a<t;a++){var r=e[a];r.__inHover&&(i||(i=this._hoverlayer=this.getLayer(De)),n||(n=i.ctx,n.save()),(0,we.V$)(n,r,o,a===t-1))}n&&n.restore()}},e.prototype.getHoverLayer=function(){return this.getLayer(De)},e.prototype.paintOne=function(e,t){(0,we.Xi)(e,t)},e.prototype._paintList=function(e,t,i,n){if(this._redrawId===n){i=i||!1,this._updateLayerStatus(e);var o=this._doPaintList(e,t,i),a=o.finished,r=o.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),r&&this._paintHoverList(e),a)this.eachLayer((function(e){e.afterBrush&&e.afterBrush()}));else{var s=this;(0,Ie.A)((function(){s._paintList(e,t,i,n)}))}}},e.prototype._compositeManually=function(){var e=this.getLayer(Le).ctx,t=this._domRoot.width,i=this._domRoot.height;e.clearRect(0,0,t,i),this.eachBuiltinLayer((function(n){n.virtual&&e.drawImage(n.dom,0,0,t,i)}))},e.prototype._doPaintList=function(e,t,i){for(var n=this,o=[],a=this._opts.useDirtyRect,r=0;r<this._zlevelList.length;r++){var s=this._zlevelList[r],u=this._layers[s];u.__builtin__&&u!==this._hoverlayer&&(u.__dirty||i)&&o.push(u)}for(var c=!0,d=!1,h=function(r){var s,l=o[r],u=l.ctx,h=a&&l.createRepaintRects(e,t,p._width,p._height),g=i?l.__startIndex:l.__drawIndex,f=!i&&l.incremental&&Date.now,m=f&&Date.now(),y=l.zlevel===p._zlevelList[0]?p._backgroundColor:null;if(l.__startIndex===l.__endIndex)l.clear(!1,y,h);else if(g===l.__startIndex){var v=e[g];v.incremental&&v.notClear&&!i||l.clear(!1,y,h)}-1===g&&(console.error("For some unknown reason. drawIndex is -1"),g=l.__startIndex);var _=function(t){var i={inHover:!1,allClipped:!1,prevEl:null,viewWidth:n._width,viewHeight:n._height};for(s=g;s<l.__endIndex;s++){var o=e[s];if(o.__inHover&&(d=!0),n._doPaintEl(o,l,a,t,i,s===l.__endIndex-1),f){var r=Date.now()-m;if(r>15)break}}i.prevElClipPaths&&u.restore()};if(h)if(0===h.length)s=l.__endIndex;else for(var x=p.dpr,b=0;b<h.length;++b){var w=h[b];u.save(),u.beginPath(),u.rect(w.x*x,w.y*x,w.width*x,w.height*x),u.clip(),_(w),u.restore()}else u.save(),_(),u.restore();l.__drawIndex=s,l.__drawIndex<l.__endIndex&&(c=!1)},p=this,g=0;g<o.length;g++)h(g);return Te.A.wxa&&l.__(this._layers,(function(e){e&&e.ctx&&e.ctx.draw&&e.ctx.draw()})),{finished:c,needsRefreshHover:d}},e.prototype._doPaintEl=function(e,t,i,n,o,a){var r=t.ctx;if(i){var s=e.getPaintRect();(!n||s&&s.intersect(n))&&((0,we.V$)(r,e,o,a),e.setPrevPaintRect(s))}else(0,we.V$)(r,e,o,a)},e.prototype.getLayer=function(e,t){this._singleCanvas&&!this._needsManuallyCompositing&&(e=Le);var i=this._layers[e];return i||(i=new Me("zr_"+e,this,this.dpr),i.zlevel=e,i.__builtin__=!0,this._layerConfig[e]?l.h1(i,this._layerConfig[e],!0):this._layerConfig[e-Pe]&&l.h1(i,this._layerConfig[e-Pe],!0),t&&(i.virtual=t),this.insertLayer(e,i),i.initContext()),i},e.prototype.insertLayer=function(e,t){var i=this._layers,n=this._zlevelList,o=n.length,a=this._domRoot,r=null,s=-1;if(!i[e]&&Ne(t)){if(o>0&&e>n[0]){for(s=0;s<o-1;s++)if(n[s]<e&&n[s+1]>e)break;r=i[n[s]]}if(n.splice(s+1,0,e),i[e]=t,!t.virtual)if(r){var l=r.dom;l.nextSibling?a.insertBefore(t.dom,l.nextSibling):a.appendChild(t.dom)}else a.firstChild?a.insertBefore(t.dom,a.firstChild):a.appendChild(t.dom);t.painter||(t.painter=this)}},e.prototype.eachLayer=function(e,t){for(var i=this._zlevelList,n=0;n<i.length;n++){var o=i[n];e.call(t,this._layers[o],o)}},e.prototype.eachBuiltinLayer=function(e,t){for(var i=this._zlevelList,n=0;n<i.length;n++){var o=i[n],a=this._layers[o];a.__builtin__&&e.call(t,a,o)}},e.prototype.eachOtherLayer=function(e,t){for(var i=this._zlevelList,n=0;n<i.length;n++){var o=i[n],a=this._layers[o];a.__builtin__||e.call(t,a,o)}},e.prototype.getLayers=function(){return this._layers},e.prototype._updateLayerStatus=function(e){function t(e){r&&(r.__endIndex!==e&&(r.__dirty=!0),r.__endIndex=e)}if(this.eachBuiltinLayer((function(e,t){e.__dirty=e.__used=!1})),this._singleCanvas)for(var i=1;i<e.length;i++){var n=e[i];if(n.zlevel!==e[i-1].zlevel||n.incremental){this._needsManuallyCompositing=!0;break}}var o,a,r=null,s=0;for(a=0;a<e.length;a++){n=e[a];var u=n.zlevel,c=void 0;o!==u&&(o=u,s=0),n.incremental?(c=this.getLayer(u+Fe,this._needsManuallyCompositing),c.incremental=!0,s=1):c=this.getLayer(u+(s>0?Pe:0),this._needsManuallyCompositing),c.__builtin__||l.vV("ZLevel "+u+" has been used by unkown layer "+c.id),c!==r&&(c.__used=!0,c.__startIndex!==a&&(c.__dirty=!0),c.__startIndex=a,c.incremental?c.__drawIndex=-1:c.__drawIndex=a,t(a),r=c),n.__dirty&Ce.M&&!n.__inHover&&(c.__dirty=!0,c.incremental&&c.__drawIndex<0&&(c.__drawIndex=a))}t(a),this.eachBuiltinLayer((function(e,t){!e.__used&&e.getElementCount()>0&&(e.__dirty=!0,e.__startIndex=e.__endIndex=e.__drawIndex=0),e.__dirty&&e.__drawIndex<0&&(e.__drawIndex=e.__startIndex)}))},e.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},e.prototype._clearLayer=function(e){e.clear()},e.prototype.setBackgroundColor=function(e){this._backgroundColor=e,l.__(this._layers,(function(e){e.setUnpainted()}))},e.prototype.configLayer=function(e,t){if(t){var i=this._layerConfig;i[e]?l.h1(i[e],t,!0):i[e]=t;for(var n=0;n<this._zlevelList.length;n++){var o=this._zlevelList[n];if(o===e||o===e+Pe){var a=this._layers[o];l.h1(a,i[e],!0)}}}},e.prototype.delLayer=function(e){var t=this._layers,i=this._zlevelList,n=t[e];n&&(n.dom.parentNode.removeChild(n.dom),delete t[e],i.splice(l.qh(i,e),1))},e.prototype.resize=function(e,t){if(this._domRoot.style){var i=this._domRoot;i.style.display="none";var n=this._opts,o=this.root;if(null!=e&&(n.width=e),null!=t&&(n.height=t),e=(0,be.YC)(o,0,n),t=(0,be.YC)(o,1,n),i.style.display="",this._width!==e||t!==this._height){for(var a in i.style.width=e+"px",i.style.height=t+"px",this._layers)this._layers.hasOwnProperty(a)&&this._layers[a].resize(e,t);this.refresh(!0)}this._width=e,this._height=t}else{if(null==e||null==t)return;this._width=e,this._height=t,this.getLayer(Le).resize(e,t)}return this},e.prototype.clearLayer=function(e){var t=this._layers[e];t&&t.clear()},e.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},e.prototype.getRenderedCanvas=function(e){if(e=e||{},this._singleCanvas&&!this._compositeManually)return this._layers[Le].dom;var t=new Me("image",this,e.pixelRatio||this.dpr);t.initContext(),t.clear(!1,e.backgroundColor||this._backgroundColor);var i=t.ctx;if(e.pixelRatio<=this.dpr){this.refresh();var n=t.dom.width,o=t.dom.height;this.eachLayer((function(e){e.__builtin__?i.drawImage(e.dom,0,0,n,o):e.renderToCanvas&&(i.save(),e.renderToCanvas(i),i.restore())}))}else for(var a={inHover:!1,viewWidth:this._width,viewHeight:this._height},r=this.storage.getDisplayList(!0),s=0,l=r.length;s<l;s++){var u=r[s];(0,we.V$)(i,u,a,s===l-1)}return t.dom},e.prototype.getWidth=function(){return this._width},e.prototype.getHeight=function(){return this._height},e}(),Ee=Ve;function Oe(e){e.registerPainter("canvas",Ee)}i(22489);var ze=i(89194),Ge=i(71859),Be=i(95583),We=i(38198),He=Math.sin,Xe=Math.cos,$e=Math.PI,je=2*Math.PI,Ue=180/$e,Ye=function(){function e(){}return e.prototype.reset=function(e){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,e||4)},e.prototype.moveTo=function(e,t){this._add("M",e,t)},e.prototype.lineTo=function(e,t){this._add("L",e,t)},e.prototype.bezierCurveTo=function(e,t,i,n,o,a){this._add("C",e,t,i,n,o,a)},e.prototype.quadraticCurveTo=function(e,t,i,n){this._add("Q",e,t,i,n)},e.prototype.arc=function(e,t,i,n,o,a){this.ellipse(e,t,i,i,0,n,o,a)},e.prototype.ellipse=function(e,t,i,n,o,a,r,s){var l=r-a,u=!s,c=Math.abs(l),d=(0,ze.Cv)(c-je)||(u?l>=je:-l>=je),h=l>0?l%je:l%je+je,p=!1;p=!!d||!(0,ze.Cv)(c)&&h>=$e===!!u;var g=e+i*Xe(a),f=t+n*He(a);this._start&&this._add("M",g,f);var m=Math.round(o*Ue);if(d){var y=1/this._p,v=(u?1:-1)*(je-y);this._add("A",i,n,m,1,+u,e+i*Xe(a+v),t+n*He(a+v)),y>.01&&this._add("A",i,n,m,0,+u,g,f)}else{var _=e+i*Xe(r),x=t+n*He(r);this._add("A",i,n,m,+p,+u,_,x)}},e.prototype.rect=function(e,t,i,n){this._add("M",e,t),this._add("l",i,0),this._add("l",0,n),this._add("l",-i,0),this._add("Z")},e.prototype.closePath=function(){this._d.length>0&&this._add("Z")},e.prototype._add=function(e,t,i,n,o,a,r,s,l){for(var u=[],c=this._p,d=1;d<arguments.length;d++){var h=arguments[d];if(isNaN(h))return void(this._invalid=!0);u.push(Math.round(h*c)/c)}this._d.push(e+u.join(" ")),this._start="Z"===e},e.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},e.prototype.getStr=function(){return this._str},e}(),Ze=Ye,qe=i(46515),Ke="none",Qe=Math.round;function Je(e){var t=e.fill;return null!=t&&t!==Ke}function et(e){var t=e.stroke;return null!=t&&t!==Ke}var tt=["lineCap","miterLimit","lineJoin"],it=(0,l.Tj)(tt,(function(e){return"stroke-"+e.toLowerCase()}));function nt(e,t,i,n){var o=null==t.opacity?1:t.opacity;if(i instanceof Ge.Ay)e("opacity",o);else{if(Je(t)){var a=(0,ze.$2)(t.fill);e("fill",a.color);var r=null!=t.fillOpacity?t.fillOpacity*a.opacity*o:a.opacity*o;(n||r<1)&&e("fill-opacity",r)}else e("fill",Ke);if(et(t)){var s=(0,ze.$2)(t.stroke);e("stroke",s.color);var l=t.strokeNoScale?i.getLineScale():1,u=l?(t.lineWidth||0)/l:0,c=null!=t.strokeOpacity?t.strokeOpacity*s.opacity*o:s.opacity*o,d=t.strokeFirst;if((n||1!==u)&&e("stroke-width",u),(n||d)&&e("paint-order",d?"stroke":"fill"),(n||c<1)&&e("stroke-opacity",c),t.lineDash){var h=(0,qe.V)(i),p=h[0],g=h[1];p&&(g=Qe(g||0),e("stroke-dasharray",p.join(",")),(g||n)&&e("stroke-dashoffset",g))}else n&&e("stroke-dasharray",Ke);for(var f=0;f<tt.length;f++){var m=tt[f];if(n||t[m]!==b.MW[m]){var y=t[m]||b.MW[m];y&&e(it[f],y)}}}else n&&e("stroke",Ke)}}var ot=i(26677),at="http://www.w3.org/2000/svg",rt="http://www.w3.org/1999/xlink",st="http://www.w3.org/2000/xmlns/",lt="http://www.w3.org/XML/1998/namespace",ut="ecmeta_";function ct(e){return document.createElementNS(at,e)}function dt(e,t,i,n,o){return{tag:e,attrs:i||{},children:n,text:o,key:t}}function ht(e,t){var i=[];if(t)for(var n in t){var o=t[n],a=n;!1!==o&&(!0!==o&&null!=o&&(a+='="'+o+'"'),i.push(a))}return"<"+e+" "+i.join(" ")+">"}function pt(e){return"</"+e+">"}function gt(e,t){t=t||{};var i=t.newline?"\n":"";function n(e){var t=e.children,o=e.tag,a=e.attrs,r=e.text;return ht(o,a)+("style"!==o?(0,ot.Me)(r):r||"")+(t?""+i+(0,l.Tj)(t,(function(e){return n(e)})).join(i)+i:"")+pt(o)}return n(e)}function ft(e,t,i){i=i||{};var n=i.newline?"\n":"",o=" {"+n,a=n+"}",r=(0,l.Tj)((0,l.HP)(e),(function(t){return t+o+(0,l.Tj)((0,l.HP)(e[t]),(function(i){return i+":"+e[t][i]+";"})).join(n)+a})).join(n),s=(0,l.Tj)((0,l.HP)(t),(function(e){return"@keyframes "+e+o+(0,l.Tj)((0,l.HP)(t[e]),(function(i){return i+o+(0,l.Tj)((0,l.HP)(t[e][i]),(function(n){var o=t[e][i][n];return"d"===n&&(o='path("'+o+'")'),n+":"+o+";"})).join(n)+a})).join(n)+a})).join(n);return r||s?["<![CDATA[",r,s,"]]>"].join(n):""}function mt(e){return{zrId:e,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssStyleCache:{},cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function yt(e,t,i,n){return dt("svg","root",{width:e,height:t,xmlns:at,"xmlns:xlink":rt,version:"1.1",baseProfile:"full",viewBox:!!n&&"0 0 "+e+" "+t},i)}var vt=i(39426),_t=i(13910),xt=i(17355),bt=0;function wt(){return bt++}var Ct={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},St="transform-origin";function At(e,t,i){var n=(0,l.X$)({},e.shape);(0,l.X$)(n,t),e.buildPath(i,n);var o=new Ze;return o.reset((0,ze.MD)(e)),i.rebuildPath(o,1),o.generateStr(),o.getStr()}function kt(e,t){var i=t.originX,n=t.originY;(i||n)&&(e[St]=i+"px "+n+"px")}var Mt={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function It(e,t){var i=t.zrId+"-ani-"+t.cssAnimIdx++;return t.cssAnims[i]=e,i}function Tt(e,t,i){var n,o,a=e.shape.paths,r={};if((0,l.__)(a,(function(e){var t=mt(i.zrId);t.animation=!0,Lt(e,{},t,!0);var a=t.cssAnims,s=t.cssNodes,u=(0,l.HP)(a),c=u.length;if(c){o=u[c-1];var d=a[o];for(var h in d){var p=d[h];r[h]=r[h]||{d:""},r[h].d+=p.d||""}for(var g in s){var f=s[g].animation;f.indexOf(o)>=0&&(n=f)}}})),n){t.d=!1;var s=It(r,i);return n.replace(o,s)}}function Dt(e){return(0,l.Kg)(e)?Ct[e]?"cubic-bezier("+Ct[e]+")":(0,xt.w)(e)?e:"":""}function Lt(e,t,i,n){var o=e.animators,a=o.length,r=[];if(e instanceof _t.A){var s=Tt(e,t,i);if(s)r.push(s);else if(!a)return}else if(!a)return;for(var u={},c=0;c<a;c++){var d=o[c],h=[d.getMaxTime()/1e3+"s"],p=Dt(d.getClip().easing),g=d.getDelay();p?h.push(p):h.push("linear"),g&&h.push(g/1e3+"s"),d.getLoop()&&h.push("infinite");var f=h.join(" ");u[f]=u[f]||[f,[]],u[f][1].push(d)}function m(o){var a,r=o[1],s=r.length,u={},c={},d={},h="animation-timing-function";function p(e,t,i){for(var n=e.getTracks(),o=e.getMaxTime(),a=0;a<n.length;a++){var r=n[a];if(r.needsAnimate()){var s=r.keyframes,u=r.propName;if(i&&(u=i(u)),u)for(var c=0;c<s.length;c++){var d=s[c],p=Math.round(d.time/o*100)+"%",g=Dt(d.easing),f=d.rawValue;((0,l.Kg)(f)||(0,l.Et)(f))&&(t[p]=t[p]||{},t[p][u]=d.rawValue,g&&(t[p][h]=g))}}}}for(var g=0;g<s;g++){var f=r[g],m=f.targetName;m?"shape"===m&&p(f,c):!n&&p(f,u)}for(var y in u){var v={};(0,_.IT)(v,e),(0,l.X$)(v,u[y]);var x=(0,ze.Z1)(v),b=u[y][h];d[y]=x?{transform:x}:{},kt(d[y],v),b&&(d[y][h]=b)}var w=!0;for(var y in c){d[y]=d[y]||{};var S=!a;b=c[y][h];S&&(a=new C.A);var A=a.len();a.reset(),d[y].d=At(e,c[y],a);var k=a.len();if(!S&&A!==k){w=!1;break}b&&(d[y][h]=b)}if(!w)for(var y in d)delete d[y].d;if(!n)for(g=0;g<s;g++){f=r[g],m=f.targetName;"style"===m&&p(f,d,(function(e){return Mt[e]}))}var M,I=(0,l.HP)(d),T=!0;for(g=1;g<I.length;g++){var D=I[g-1],L=I[g];if(d[D][St]!==d[L][St]){T=!1;break}M=d[D][St]}if(T&&M){for(var y in d)d[y][St]&&delete d[y][St];t[St]=M}if((0,l.pb)(I,(function(e){return(0,l.HP)(d[e]).length>0})).length){var P=It(d,i);return P+" "+o[0]+" both"}}for(var y in u){s=m(u[y]);s&&r.push(s)}if(r.length){var v=i.zrId+"-cls-"+wt();i.cssNodes["."+v]={animation:r.join(",")},t["class"]=v}}var Pt=i(810),Ft=i(38415);function Nt(e,t,i){if(!e.ignore)if(e.isSilent()){var n={"pointer-events":"none"};Rt(n,t,i,!0)}else{var o=e.states.emphasis&&e.states.emphasis.style?e.states.emphasis.style:{},a=o.fill;if(!a){var r=e.style&&e.style.fill,s=e.states.select&&e.states.select.style&&e.states.select.style.fill,l=e.currentStates.indexOf("select")>=0&&s||r;l&&(a=(0,Ft.P)(l))}var u=o.lineWidth;if(u){var c=!o.strokeNoScale&&e.transform?e.transform[0]:1;u/=c}n={cursor:"pointer"};a&&(n.fill=a),o.stroke&&(n.stroke=o.stroke),u&&(n["stroke-width"]=u),Rt(n,t,i,!0)}}function Rt(e,t,i,n){var o=JSON.stringify(e),a=i.cssStyleCache[o];a||(a=i.zrId+"-cls-"+wt(),i.cssStyleCache[o]=a,i.cssNodes["."+a+(n?":hover":"")]=e),t["class"]=t["class"]?t["class"]+" "+a:a}var Vt=Math.round;function Et(e){return e&&(0,l.Kg)(e.src)}function Ot(e){return e&&(0,l.Tn)(e.toDataURL)}function zt(e,t,i,n){nt((function(o,a){var r="fill"===o||"stroke"===o;r&&(0,ze.bn)(a)?ei(t,e,o,n):r&&(0,ze.Pt)(a)?ti(i,e,o,n):e[o]=r&&"none"===a?"transparent":a}),t,i,!1),Jt(i,e,n)}function Gt(e,t){var i=(0,c.N1)(t);i&&(i.each((function(t,i){null!=t&&(e[(ut+i).toLowerCase()]=t+"")})),t.isSilent()&&(e[ut+"silent"]="true"))}function Bt(e){return(0,ze.Cv)(e[0]-1)&&(0,ze.Cv)(e[1])&&(0,ze.Cv)(e[2])&&(0,ze.Cv)(e[3]-1)}function Wt(e){return(0,ze.Cv)(e[4])&&(0,ze.Cv)(e[5])}function Ht(e,t,i){if(t&&(!Wt(t)||!Bt(t))){var n=i?10:1e4;e.transform=Bt(t)?"translate("+Vt(t[4]*n)/n+" "+Vt(t[5]*n)/n+")":(0,ze.nV)(t)}}function Xt(e,t,i){for(var n=e.points,o=[],a=0;a<n.length;a++)o.push(Vt(n[a][0]*i)/i),o.push(Vt(n[a][1]*i)/i);t.points=o.join(" ")}function $t(e){return!e.smooth}function jt(e){var t=(0,l.Tj)(e,(function(e){return"string"===typeof e?[e,e]:e}));return function(e,i,n){for(var o=0;o<t.length;o++){var a=t[o],r=e[a[0]];null!=r&&(i[a[1]]=Vt(r*n)/n)}}}var Ut={circle:[jt(["cx","cy","r"])],polyline:[Xt,$t],polygon:[Xt,$t]};function Yt(e){for(var t=e.animators,i=0;i<t.length;i++)if("shape"===t[i].targetName)return!0;return!1}function Zt(e,t){var i=e.style,n=e.shape,o=Ut[e.type],a={},r=t.animation,s="path",l=e.style.strokePercent,u=t.compress&&(0,ze.MD)(e)||4;if(!o||t.willUpdate||o[1]&&!o[1](n)||r&&Yt(e)||l<1){var c=!e.path||e.shapeChanged();e.path||e.createPathProxy();var d=e.path;c&&(d.beginPath(),e.buildPath(d,e.shape),e.pathUpdated());var h=d.getVersion(),p=e,g=p.__svgPathBuilder;p.__svgPathVersion===h&&g&&l===p.__svgPathStrokePercent||(g||(g=p.__svgPathBuilder=new Ze),g.reset(u),d.rebuildPath(g,l),g.generateStr(),p.__svgPathVersion=h,p.__svgPathStrokePercent=l),a.d=g.getStr()}else{s=e.type;var f=Math.pow(10,u);o[0](n,a,f)}return Ht(a,e.transform),zt(a,i,e,t),Gt(a,e),t.animation&&Lt(e,a,t),t.emphasis&&Nt(e,a,t),dt(s,e.id+"",a)}function qt(e,t){var i=e.style,n=i.image;if(n&&!(0,l.Kg)(n)&&(Et(n)?n=n.src:Ot(n)&&(n=n.toDataURL())),n){var o=i.x||0,a=i.y||0,r=i.width,s=i.height,u={href:n,width:r,height:s};return o&&(u.x=o),a&&(u.y=a),Ht(u,e.transform),zt(u,i,e,t),Gt(u,e),t.animation&&Lt(e,u,t),dt("image",e.id+"",u)}}function Kt(e,t){var i=e.style,n=i.text;if(null!=n&&(n+=""),n&&!isNaN(i.x)&&!isNaN(i.y)){var o=i.font||Se.OH,a=i.x||0,r=(0,ze.sZ)(i.y||0,(0,Be.ks)(o),i.textBaseline),s=ze.eQ[i.textAlign]||i.textAlign,l={"dominant-baseline":"central","text-anchor":s};if((0,Pt.XE)(i)){var u="",c=i.fontStyle,d=(0,Pt.I5)(i.fontSize);if(!parseFloat(d))return;var h=i.fontFamily||Se.zs,p=i.fontWeight;u+="font-size:"+d+";font-family:"+h+";",c&&"normal"!==c&&(u+="font-style:"+c+";"),p&&"normal"!==p&&(u+="font-weight:"+p+";"),l.style=u}else l.style="font: "+o;return n.match(/\s/)&&(l["xml:space"]="preserve"),a&&(l.x=a),r&&(l.y=r),Ht(l,e.transform),zt(l,i,e,t),Gt(l,e),t.animation&&Lt(e,l,t),dt("text",e.id+"",l,void 0,n)}}function Qt(e,t){return e instanceof b.Ay?Zt(e,t):e instanceof Ge.Ay?qt(e,t):e instanceof We.A?Kt(e,t):void 0}function Jt(e,t,i){var n=e.style;if((0,ze.dX)(n)){var o=(0,ze.si)(e),a=i.shadowCache,r=a[o];if(!r){var s=e.getGlobalScale(),l=s[0],u=s[1];if(!l||!u)return;var c=n.shadowOffsetX||0,d=n.shadowOffsetY||0,h=n.shadowBlur,p=(0,ze.$2)(n.shadowColor),g=p.opacity,f=p.color,m=h/2/l,y=h/2/u,v=m+" "+y;r=i.zrId+"-s"+i.shadowIdx++,i.defs[r]=dt("filter",r,{id:r,x:"-100%",y:"-100%",width:"300%",height:"300%"},[dt("feDropShadow","",{dx:c/l,dy:d/u,stdDeviation:v,"flood-color":f,"flood-opacity":g})]),a[o]=r}t.filter=(0,ze.Xu)(r)}}function ei(e,t,i,n){var o,a=e[i],r={gradientUnits:a.global?"userSpaceOnUse":"objectBoundingBox"};if((0,ze.OS)(a))o="linearGradient",r.x1=a.x,r.y1=a.y,r.x2=a.x2,r.y2=a.y2;else{if(!(0,ze.OH)(a))return void 0;o="radialGradient",r.cx=(0,l.bZ)(a.x,.5),r.cy=(0,l.bZ)(a.y,.5),r.r=(0,l.bZ)(a.r,.5)}for(var s=a.colorStops,u=[],c=0,d=s.length;c<d;++c){var h=100*(0,ze.XP)(s[c].offset)+"%",p=s[c].color,g=(0,ze.$2)(p),f=g.color,m=g.opacity,y={offset:h};y["stop-color"]=f,m<1&&(y["stop-opacity"]=m),u.push(dt("stop",c+"",y))}var v=dt(o,"",r,u),_=gt(v),x=n.gradientCache,b=x[_];b||(b=n.zrId+"-g"+n.gradientIdx++,x[_]=b,r.id=b,n.defs[b]=dt(o,b,r,u)),t[i]=(0,ze.Xu)(b)}function ti(e,t,i,n){var o,a=e.style[i],r=e.getBoundingRect(),s={},u=a.repeat,c="no-repeat"===u,d="repeat-x"===u,h="repeat-y"===u;if((0,ze.sL)(a)){var p=a.imageWidth,g=a.imageHeight,f=void 0,m=a.image;if((0,l.Kg)(m)?f=m:Et(m)?f=m.src:Ot(m)&&(f=m.toDataURL()),"undefined"===typeof Image){var y="Image width/height must been given explictly in svg-ssr renderer.";(0,l.vA)(p,y),(0,l.vA)(g,y)}else if(null==p||null==g){var v=function(e,t){if(e){var i=e.elm,n=p||t.width,o=g||t.height;"pattern"===e.tag&&(d?(o=1,n/=r.width):h&&(n=1,o/=r.height)),e.attrs.width=n,e.attrs.height=o,i&&(i.setAttribute("width",n),i.setAttribute("height",o))}},_=(0,vt.OD)(f,null,e,(function(e){c||v(C,e),v(o,e)}));_&&_.width&&_.height&&(p=p||_.width,g=g||_.height)}o=dt("image","img",{href:f,width:p,height:g}),s.width=p,s.height=g}else a.svgElement&&(o=(0,l.o8)(a.svgElement),s.width=a.svgWidth,s.height=a.svgHeight);if(o){var x,b;c?x=b=1:d?(b=1,x=s.width/r.width):h?(x=1,b=s.height/r.height):s.patternUnits="userSpaceOnUse",null==x||isNaN(x)||(s.width=x),null==b||isNaN(b)||(s.height=b);var w=(0,ze.Z1)(a);w&&(s.patternTransform=w);var C=dt("pattern","",s,[o]),S=gt(C),A=n.patternCache,k=A[S];k||(k=n.zrId+"-p"+n.patternIdx++,A[S]=k,s.id=k,C=n.defs[k]=dt("pattern",k,s,[o])),t[i]=(0,ze.Xu)(k)}}function ii(e,t,i){var n=i.clipPathCache,o=i.defs,a=n[e.id];if(!a){a=i.zrId+"-c"+i.clipPathIdx++;var r={id:a};n[e.id]=a,o[a]=dt("clipPath",a,r,[Zt(e,i)])}t["clip-path"]=(0,ze.Xu)(a)}function ni(e){return document.createTextNode(e)}function oi(e,t,i){e.insertBefore(t,i)}function ai(e,t){e.removeChild(t)}function ri(e,t){e.appendChild(t)}function si(e){return e.parentNode}function li(e){return e.nextSibling}function ui(e,t){e.textContent=t}var ci=58,di=120,hi=dt("","");function pi(e){return void 0===e}function gi(e){return void 0!==e}function fi(e,t,i){for(var n={},o=t;o<=i;++o){var a=e[o].key;void 0!==a&&(n[a]=o)}return n}function mi(e,t){var i=e.key===t.key,n=e.tag===t.tag;return n&&i}function yi(e){var t,i=e.children,n=e.tag;if(gi(n)){var o=e.elm=ct(n);if(xi(hi,e),(0,l.cy)(i))for(t=0;t<i.length;++t){var a=i[t];null!=a&&ri(o,yi(a))}else gi(e.text)&&!(0,l.Gv)(e.text)&&ri(o,ni(e.text))}else e.elm=ni(e.text);return e.elm}function vi(e,t,i,n,o){for(;n<=o;++n){var a=i[n];null!=a&&oi(e,yi(a),t)}}function _i(e,t,i,n){for(;i<=n;++i){var o=t[i];if(null!=o)if(gi(o.tag)){var a=si(o.elm);ai(a,o.elm)}else ai(e,o.elm)}}function xi(e,t){var i,n=t.elm,o=e&&e.attrs||{},a=t.attrs||{};if(o!==a){for(i in a){var r=a[i],s=o[i];s!==r&&(!0===r?n.setAttribute(i,""):!1===r?n.removeAttribute(i):"style"===i?n.style.cssText=r:i.charCodeAt(0)!==di?n.setAttribute(i,r):"xmlns:xlink"===i||"xmlns"===i?n.setAttributeNS(st,i,r):i.charCodeAt(3)===ci?n.setAttributeNS(lt,i,r):i.charCodeAt(5)===ci?n.setAttributeNS(rt,i,r):n.setAttribute(i,r))}for(i in o)i in a||n.removeAttribute(i)}}function bi(e,t,i){var n,o,a,r,s=0,l=0,u=t.length-1,c=t[0],d=t[u],h=i.length-1,p=i[0],g=i[h];while(s<=u&&l<=h)null==c?c=t[++s]:null==d?d=t[--u]:null==p?p=i[++l]:null==g?g=i[--h]:mi(c,p)?(wi(c,p),c=t[++s],p=i[++l]):mi(d,g)?(wi(d,g),d=t[--u],g=i[--h]):mi(c,g)?(wi(c,g),oi(e,c.elm,li(d.elm)),c=t[++s],g=i[--h]):mi(d,p)?(wi(d,p),oi(e,d.elm,c.elm),d=t[--u],p=i[++l]):(pi(n)&&(n=fi(t,s,u)),o=n[p.key],pi(o)?oi(e,yi(p),c.elm):(a=t[o],a.tag!==p.tag?oi(e,yi(p),c.elm):(wi(a,p),t[o]=void 0,oi(e,a.elm,c.elm))),p=i[++l]);(s<=u||l<=h)&&(s>u?(r=null==i[h+1]?null:i[h+1].elm,vi(e,r,i,l,h)):_i(e,t,s,u))}function wi(e,t){var i=t.elm=e.elm,n=e.children,o=t.children;e!==t&&(xi(e,t),pi(t.text)?gi(n)&&gi(o)?n!==o&&bi(i,n,o):gi(o)?(gi(e.text)&&ui(i,""),vi(i,null,o,0,o.length-1)):gi(n)?_i(i,n,0,n.length-1):gi(e.text)&&ui(i,""):e.text!==t.text&&(gi(n)&&_i(i,n,0,n.length-1),ui(i,t.text)))}function Ci(e,t){if(mi(e,t))wi(e,t);else{var i=e.elm,n=si(i);yi(t),null!==n&&(oi(n,t.elm,li(i)),_i(n,[e],0,0))}return t}var Si=0,Ai=function(){function e(e,t,i){if(this.type="svg",this.refreshHover=ki("refreshHover"),this.configLayer=ki("configLayer"),this.storage=t,this._opts=i=(0,l.X$)({},i),this.root=e,this._id="zr"+Si++,this._oldVNode=yt(i.width,i.height),e&&!i.ssr){var n=this._viewport=document.createElement("div");n.style.cssText="position:relative;overflow:hidden";var o=this._svgDom=this._oldVNode.elm=ct("svg");xi(null,this._oldVNode),n.appendChild(o),e.appendChild(n)}this.resize(i.width,i.height)}return e.prototype.getType=function(){return this.type},e.prototype.getViewportRoot=function(){return this._viewport},e.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},e.prototype.getSvgDom=function(){return this._svgDom},e.prototype.refresh=function(){if(this.root){var e=this.renderToVNode({willUpdate:!0});e.attrs.style="position:absolute;left:0;top:0;user-select:none",Ci(this._oldVNode,e),this._oldVNode=e}},e.prototype.renderOneToVNode=function(e){return Qt(e,mt(this._id))},e.prototype.renderToVNode=function(e){e=e||{};var t=this.storage.getDisplayList(!0),i=this._width,n=this._height,o=mt(this._id);o.animation=e.animation,o.willUpdate=e.willUpdate,o.compress=e.compress,o.emphasis=e.emphasis;var a=[],r=this._bgVNode=Mi(i,n,this._backgroundColor,o);r&&a.push(r);var s=e.compress?null:this._mainVNode=dt("g","main",{},[]);this._paintList(t,o,s?s.children:a),s&&a.push(s);var u=(0,l.Tj)((0,l.HP)(o.defs),(function(e){return o.defs[e]}));if(u.length&&a.push(dt("defs","defs",{},u)),e.animation){var c=ft(o.cssNodes,o.cssAnims,{newline:!0});if(c){var d=dt("style","stl",{},[],c);a.push(d)}}return yt(i,n,a,e.useViewBox)},e.prototype.renderToString=function(e){return e=e||{},gt(this.renderToVNode({animation:(0,l.bZ)(e.cssAnimation,!0),emphasis:(0,l.bZ)(e.cssEmphasis,!0),willUpdate:!1,compress:!0,useViewBox:(0,l.bZ)(e.useViewBox,!0)}),{newline:!0})},e.prototype.setBackgroundColor=function(e){this._backgroundColor=e},e.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},e.prototype._paintList=function(e,t,i){for(var n,o,a=e.length,r=[],s=0,l=0,u=0;u<a;u++){var c=e[u];if(!c.invisible){var d=c.__clipPaths,h=d&&d.length||0,p=o&&o.length||0,g=void 0;for(g=Math.max(h-1,p-1);g>=0;g--)if(d&&o&&d[g]===o[g])break;for(var f=p-1;f>g;f--)s--,n=r[s-1];for(var m=g+1;m<h;m++){var y={};ii(d[m],y,t);var v=dt("g","clip-g-"+l++,y,[]);(n?n.children:i).push(v),r[s++]=v,n=v}o=d;var _=Qt(c,t);_&&(n?n.children:i).push(_)}}},e.prototype.resize=function(e,t){var i=this._opts,n=this.root,o=this._viewport;if(null!=e&&(i.width=e),null!=t&&(i.height=t),n&&o&&(o.style.display="none",e=(0,be.YC)(n,0,i),t=(0,be.YC)(n,1,i),o.style.display=""),this._width!==e||this._height!==t){if(this._width=e,this._height=t,o){var a=o.style;a.width=e+"px",a.height=t+"px"}if((0,ze.Pt)(this._backgroundColor))this.refresh();else{var r=this._svgDom;r&&(r.setAttribute("width",e),r.setAttribute("height",t));var s=this._bgVNode&&this._bgVNode.elm;s&&(s.setAttribute("width",e),s.setAttribute("height",t))}}},e.prototype.getWidth=function(){return this._width},e.prototype.getHeight=function(){return this._height},e.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},e.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},e.prototype.toDataURL=function(e){var t=this.renderToString(),i="data:image/svg+xml;";return e?(t=(0,ze.WG)(t),t&&i+"base64,"+t):i+"charset=UTF-8,"+encodeURIComponent(t)},e}();function ki(e){return function(){0}}function Mi(e,t,i,n){var o;if(i&&"none"!==i)if(o=dt("rect","bg",{width:e,height:t,x:"0",y:"0"}),(0,ze.bn)(i))ei({fill:i},o.attrs,"fill",n);else if((0,ze.Pt)(i))ti({style:{fill:i},dirty:l.lQ,getBoundingRect:function(){return{width:e,height:t}}},o.attrs,"fill",n);else{var a=(0,ze.$2)(i),r=a.color,s=a.opacity;o.attrs.fill=r,s<1&&(o.attrs["fill-opacity"]=s)}return o}var Ii=Ai;function Ti(e){e.registerPainter("svg",Ii)}i(16573),i(78100),i(77936),i(61701),i(37467),i(44732),i(79577);var Di=i(64773);function Li(e){return null==e?0:e.length||1}function Pi(e){return e}var Fi=function(){function e(e,t,i,n,o,a){this._old=e,this._new=t,this._oldKeyGetter=i||Pi,this._newKeyGetter=n||Pi,this.context=o,this._diffModeMultiple="multiple"===a}return e.prototype.add=function(e){return this._add=e,this},e.prototype.update=function(e){return this._update=e,this},e.prototype.updateManyToOne=function(e){return this._updateManyToOne=e,this},e.prototype.updateOneToMany=function(e){return this._updateOneToMany=e,this},e.prototype.updateManyToMany=function(e){return this._updateManyToMany=e,this},e.prototype.remove=function(e){return this._remove=e,this},e.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},e.prototype._executeOneToOne=function(){var e=this._old,t=this._new,i={},n=new Array(e.length),o=new Array(t.length);this._initIndexMap(e,null,n,"_oldKeyGetter"),this._initIndexMap(t,i,o,"_newKeyGetter");for(var a=0;a<e.length;a++){var r=n[a],s=i[r],l=Li(s);if(l>1){var u=s.shift();1===s.length&&(i[r]=s[0]),this._update&&this._update(u,a)}else 1===l?(i[r]=null,this._update&&this._update(s,a)):this._remove&&this._remove(a)}this._performRestAdd(o,i)},e.prototype._executeMultiple=function(){var e=this._old,t=this._new,i={},n={},o=[],a=[];this._initIndexMap(e,i,o,"_oldKeyGetter"),this._initIndexMap(t,n,a,"_newKeyGetter");for(var r=0;r<o.length;r++){var s=o[r],l=i[s],u=n[s],c=Li(l),d=Li(u);if(c>1&&1===d)this._updateManyToOne&&this._updateManyToOne(u,l),n[s]=null;else if(1===c&&d>1)this._updateOneToMany&&this._updateOneToMany(u,l),n[s]=null;else if(1===c&&1===d)this._update&&this._update(u,l),n[s]=null;else if(c>1&&d>1)this._updateManyToMany&&this._updateManyToMany(u,l),n[s]=null;else if(c>1)for(var h=0;h<c;h++)this._remove&&this._remove(l[h]);else this._remove&&this._remove(l)}this._performRestAdd(a,n)},e.prototype._performRestAdd=function(e,t){for(var i=0;i<e.length;i++){var n=e[i],o=t[n],a=Li(o);if(a>1)for(var r=0;r<a;r++)this._add&&this._add(o[r]);else 1===a&&this._add&&this._add(o);t[n]=null}},e.prototype._initIndexMap=function(e,t,i,n){for(var o=this._diffModeMultiple,a=0;a<e.length;a++){var r="_ec_"+this[n](e[a],a);if(o||(i[a]=r),t){var s=t[r],l=Li(s);0===l?(t[r]=a,o&&i.push(r)):1===l?t[r]=[s,a]:s.push(a)}}},e}(),Ni=Fi,Ri=i(43578),Vi=i(90927),Ei=function(){function e(e,t){this._encode=e,this._schema=t}return e.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},e.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},e}();function Oi(e,t){var i={},n=i.encode={},o=(0,l.nt)(),a=[],r=[],s={};(0,l.__)(e.dimensions,(function(t){var i=e.getDimensionInfo(t),l=i.coordDim;if(l){0;var u=i.coordDimIndex;zi(n,l)[u]=t,i.isExtraCoord||(o.set(l,1),Bi(i.type)&&(a[0]=t),zi(s,l)[u]=e.getDimensionIndex(i.name)),i.defaultTooltip&&r.push(t)}Vi.Pe.each((function(e,t){var o=zi(n,t),a=i.otherDims[t];null!=a&&!1!==a&&(o[a]=i.name)}))}));var u=[],c={};o.each((function(e,t){var i=n[t];c[t]=i[0],u=u.concat(i)})),i.dataDimsOnCoord=u,i.dataDimIndicesOnCoord=(0,l.Tj)(u,(function(t){return e.getDimensionInfo(t).storeDimIndex})),i.encodeFirstDimNotExtra=c;var d=n.label;d&&d.length&&(a=d.slice());var h=n.tooltip;return h&&h.length?r=h.slice():r.length||(r=a.slice()),n.defaultedLabel=a,n.defaultedTooltip=r,i.userOutput=new Ei(s,t),i}function zi(e,t){return e.hasOwnProperty(t)||(e[t]=[]),e[t]}function Gi(e){return"category"===e?"ordinal":"time"===e?"time":"float"}function Bi(e){return!("ordinal"===e||"time"===e)}var Wi=function(){function e(e){this.otherDims={},null!=e&&l.X$(this,e)}return e}(),Hi=Wi,Xi=i(74413),$i=i(67511),ji=(0,g.$r)(),Ui={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},Yi=function(){function e(e){this.dimensions=e.dimensions,this._dimOmitted=e.dimensionOmitted,this.source=e.source,this._fullDimCount=e.fullDimensionCount,this._updateDimOmitted(e.dimensionOmitted)}return e.prototype.isDimensionOmitted=function(){return this._dimOmitted},e.prototype._updateDimOmitted=function(e){this._dimOmitted=e,e&&(this._dimNameMap||(this._dimNameMap=Ki(this.source)))},e.prototype.getSourceDimensionIndex=function(e){return(0,l.bZ)(this._dimNameMap.get(e),-1)},e.prototype.getSourceDimension=function(e){var t=this.source.dimensionsDefine;if(t)return t[e]},e.prototype.makeStoreSchema=function(){for(var e=this._fullDimCount,t=(0,Xi.O0)(this.source),i=!Qi(e),n="",o=[],a=0,r=0;a<e;a++){var s=void 0,l=void 0,u=void 0,c=this.dimensions[r];if(c&&c.storeDimIndex===a)s=t?c.name:null,l=c.type,u=c.ordinalMeta,r++;else{var d=this.getSourceDimension(a);d&&(s=t?d.name:null,l=d.type)}o.push({property:s,type:l,ordinalMeta:u}),!t||null==s||c&&c.isCalculationCoord||(n+=i?s.replace(/\`/g,"`1").replace(/\$/g,"`2"):s),n+="$",n+=Ui[l]||"f",u&&(n+=u.uid),n+="$"}var h=this.source,p=[h.seriesLayoutBy,h.startIndex,n].join("$$");return{dimensions:o,hash:p}},e.prototype.makeOutputDimensionNames=function(){for(var e=[],t=0,i=0;t<this._fullDimCount;t++){var n=void 0,o=this.dimensions[i];if(o&&o.storeDimIndex===t)o.isCalculationCoord||(n=o.name),i++;else{var a=this.getSourceDimension(t);a&&(n=a.name)}e.push(n)}return e},e.prototype.appendCalculationDimension=function(e){this.dimensions.push(e),e.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},e}();function Zi(e){return e instanceof Yi}function qi(e){for(var t=(0,l.nt)(),i=0;i<(e||[]).length;i++){var n=e[i],o=(0,l.Gv)(n)?n.name:n;null!=o&&null==t.get(o)&&t.set(o,i)}return t}function Ki(e){var t=ji(e);return t.dimNameMap||(t.dimNameMap=qi(e.dimensionsDefine))}function Qi(e){return e>30}var Ji,en,tn,nn,on,an,rn,sn=l.Gv,ln=l.Tj,un="undefined"===typeof Int32Array?Array:Int32Array,cn="e\0\0",dn=-1,hn=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],pn=["_approximateExtent"],gn=function(){function e(e,t){var i;this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var n=!1;Zi(e)?(i=e.dimensions,this._dimOmitted=e.isDimensionOmitted(),this._schema=e):(n=!0,i=e),i=i||["x","y"];for(var o={},a=[],r={},s=!1,u={},c=0;c<i.length;c++){var d=i[c],h=l.Kg(d)?new Hi({name:d}):d instanceof Hi?d:new Hi(d),p=h.name;h.type=h.type||"float",h.coordDim||(h.coordDim=p,h.coordDimIndex=0);var g=h.otherDims=h.otherDims||{};a.push(p),o[p]=h,null!=u[p]&&(s=!0),h.createInvertedIndices&&(r[p]=[]),0===g.itemName&&(this._nameDimIdx=c),0===g.itemId&&(this._idDimIdx=c),n&&(h.storeDimIndex=c)}if(this.dimensions=a,this._dimInfos=o,this._initGetDimensionInfo(s),this.hostModel=t,this._invertedIndicesMap=r,this._dimOmitted){var f=this._dimIdxToName=l.nt();l.__(a,(function(e){f.set(o[e].storeDimIndex,e)}))}}return e.prototype.getDimension=function(e){var t=this._recognizeDimIndex(e);if(null==t)return e;if(t=e,!this._dimOmitted)return this.dimensions[t];var i=this._dimIdxToName.get(t);if(null!=i)return i;var n=this._schema.getSourceDimension(t);return n?n.name:void 0},e.prototype.getDimensionIndex=function(e){var t=this._recognizeDimIndex(e);if(null!=t)return t;if(null==e)return-1;var i=this._getDimInfo(e);return i?i.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(e):-1},e.prototype._recognizeDimIndex=function(e){if(l.Et(e)||null!=e&&!isNaN(e)&&!this._getDimInfo(e)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(e)<0))return+e},e.prototype._getStoreDimIndex=function(e){var t=this.getDimensionIndex(e);return t},e.prototype.getDimensionInfo=function(e){return this._getDimInfo(this.getDimension(e))},e.prototype._initGetDimensionInfo=function(e){var t=this._dimInfos;this._getDimInfo=e?function(e){return t.hasOwnProperty(e)?t[e]:void 0}:function(e){return t[e]}},e.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},e.prototype.mapDimension=function(e,t){var i=this._dimSummary;if(null==t)return i.encodeFirstDimNotExtra[e];var n=i.encode[e];return n?n[t]:null},e.prototype.mapDimensionsAll=function(e){var t=this._dimSummary,i=t.encode[e];return(i||[]).slice()},e.prototype.getStore=function(){return this._store},e.prototype.initData=function(e,t,i){var n,o=this;if(e instanceof $i.Ay&&(n=e),!n){var a=this.dimensions,r=(0,Xi.tP)(e)||l.Xj(e)?new Ri.d1(e,a.length):e;n=new $i.Ay;var s=ln(a,(function(e){return{type:o._dimInfos[e].type,property:e}}));n.initData(r,s,i)}this._store=n,this._nameList=(t||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,n.count()),this._dimSummary=Oi(this,this._schema),this.userOutput=this._dimSummary.userOutput},e.prototype.appendData=function(e){var t=this._store.appendData(e);this._doInit(t[0],t[1])},e.prototype.appendValues=function(e,t){var i=this._store.appendValues(e,t.length),n=i.start,o=i.end,a=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),t)for(var r=n;r<o;r++){var s=r-n;this._nameList[r]=t[s],a&&rn(this,r)}},e.prototype._updateOrdinalMeta=function(){for(var e=this._store,t=this.dimensions,i=0;i<t.length;i++){var n=this._dimInfos[t[i]];n.ordinalMeta&&e.collectOrdinalMeta(n.storeDimIndex,n.ordinalMeta)}},e.prototype._shouldMakeIdFromName=function(){var e=this._store.getProvider();return null==this._idDimIdx&&e.getSource().sourceFormat!==Vi.XO&&!e.fillStorage},e.prototype._doInit=function(e,t){if(!(e>=t)){var i=this._store,n=i.getProvider();this._updateOrdinalMeta();var o=this._nameList,a=this._idList,r=n.getSource().sourceFormat,s=r===Vi.mK;if(s&&!n.pure)for(var l=[],u=e;u<t;u++){var c=n.getItem(u,l);if(!this.hasItemOption&&(0,g.zu)(c)&&(this.hasItemOption=!0),c){var d=c.name;null==o[u]&&null!=d&&(o[u]=(0,g.vS)(d,null));var h=c.id;null==a[u]&&null!=h&&(a[u]=(0,g.vS)(h,null))}}if(this._shouldMakeIdFromName())for(u=e;u<t;u++)rn(this,u);Ji(this)}},e.prototype.getApproximateExtent=function(e){return this._approximateExtent[e]||this._store.getDataExtent(this._getStoreDimIndex(e))},e.prototype.setApproximateExtent=function(e,t){t=this.getDimension(t),this._approximateExtent[t]=e.slice()},e.prototype.getCalculationInfo=function(e){return this._calculationInfo[e]},e.prototype.setCalculationInfo=function(e,t){sn(e)?l.X$(this._calculationInfo,e):this._calculationInfo[e]=t},e.prototype.getName=function(e){var t=this.getRawIndex(e),i=this._nameList[t];return null==i&&null!=this._nameDimIdx&&(i=tn(this,this._nameDimIdx,t)),null==i&&(i=""),i},e.prototype._getCategory=function(e,t){var i=this._store.get(e,t),n=this._store.getOrdinalMeta(e);return n?n.categories[i]:i},e.prototype.getId=function(e){return en(this,this.getRawIndex(e))},e.prototype.count=function(){return this._store.count()},e.prototype.get=function(e,t){var i=this._store,n=this._dimInfos[e];if(n)return i.get(n.storeDimIndex,t)},e.prototype.getByRawIndex=function(e,t){var i=this._store,n=this._dimInfos[e];if(n)return i.getByRawIndex(n.storeDimIndex,t)},e.prototype.getIndices=function(){return this._store.getIndices()},e.prototype.getDataExtent=function(e){return this._store.getDataExtent(this._getStoreDimIndex(e))},e.prototype.getSum=function(e){return this._store.getSum(this._getStoreDimIndex(e))},e.prototype.getMedian=function(e){return this._store.getMedian(this._getStoreDimIndex(e))},e.prototype.getValues=function(e,t){var i=this,n=this._store;return l.cy(e)?n.getValues(ln(e,(function(e){return i._getStoreDimIndex(e)})),t):n.getValues(e)},e.prototype.hasValue=function(e){for(var t=this._dimSummary.dataDimIndicesOnCoord,i=0,n=t.length;i<n;i++)if(isNaN(this._store.get(t[i],e)))return!1;return!0},e.prototype.indexOfName=function(e){for(var t=0,i=this._store.count();t<i;t++)if(this.getName(t)===e)return t;return-1},e.prototype.getRawIndex=function(e){return this._store.getRawIndex(e)},e.prototype.indexOfRawIndex=function(e){return this._store.indexOfRawIndex(e)},e.prototype.rawIndexOf=function(e,t){var i=e&&this._invertedIndicesMap[e];var n=i[t];return null==n||isNaN(n)?dn:n},e.prototype.indicesOfNearest=function(e,t,i){return this._store.indicesOfNearest(this._getStoreDimIndex(e),t,i)},e.prototype.each=function(e,t,i){l.Tn(e)&&(i=t,t=e,e=[]);var n=i||this,o=ln(nn(e),this._getStoreDimIndex,this);this._store.each(o,n?l.oI(t,n):t)},e.prototype.filterSelf=function(e,t,i){l.Tn(e)&&(i=t,t=e,e=[]);var n=i||this,o=ln(nn(e),this._getStoreDimIndex,this);return this._store=this._store.filter(o,n?l.oI(t,n):t),this},e.prototype.selectRange=function(e){var t=this,i={},n=l.HP(e),o=[];return l.__(n,(function(n){var a=t._getStoreDimIndex(n);i[a]=e[n],o.push(a)})),this._store=this._store.selectRange(i),this},e.prototype.mapArray=function(e,t,i){l.Tn(e)&&(i=t,t=e,e=[]),i=i||this;var n=[];return this.each(e,(function(){n.push(t&&t.apply(this,arguments))}),i),n},e.prototype.map=function(e,t,i,n){var o=i||n||this,a=ln(nn(e),this._getStoreDimIndex,this),r=an(this);return r._store=this._store.map(a,o?l.oI(t,o):t),r},e.prototype.modify=function(e,t,i,n){var o=i||n||this;var a=ln(nn(e),this._getStoreDimIndex,this);this._store.modify(a,o?l.oI(t,o):t)},e.prototype.downSample=function(e,t,i,n){var o=an(this);return o._store=this._store.downSample(this._getStoreDimIndex(e),t,i,n),o},e.prototype.lttbDownSample=function(e,t){var i=an(this);return i._store=this._store.lttbDownSample(this._getStoreDimIndex(e),t),i},e.prototype.getRawDataItem=function(e){return this._store.getRawDataItem(e)},e.prototype.getItemModel=function(e){var t=this.hostModel,i=this.getRawDataItem(e);return new Di.A(i,t,t&&t.ecModel)},e.prototype.diff=function(e){var t=this;return new Ni(e?e.getStore().getIndices():[],this.getStore().getIndices(),(function(t){return en(e,t)}),(function(e){return en(t,e)}))},e.prototype.getVisual=function(e){var t=this._visual;return t&&t[e]},e.prototype.setVisual=function(e,t){this._visual=this._visual||{},sn(e)?l.X$(this._visual,e):this._visual[e]=t},e.prototype.getItemVisual=function(e,t){var i=this._itemVisuals[e],n=i&&i[t];return null==n?this.getVisual(t):n},e.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},e.prototype.ensureUniqueItemVisual=function(e,t){var i=this._itemVisuals,n=i[e];n||(n=i[e]={});var o=n[t];return null==o&&(o=this.getVisual(t),l.cy(o)?o=o.slice():sn(o)&&(o=l.X$({},o)),n[t]=o),o},e.prototype.setItemVisual=function(e,t,i){var n=this._itemVisuals[e]||{};this._itemVisuals[e]=n,sn(t)?l.X$(n,t):n[t]=i},e.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},e.prototype.setLayout=function(e,t){sn(e)?l.X$(this._layout,e):this._layout[e]=t},e.prototype.getLayout=function(e){return this._layout[e]},e.prototype.getItemLayout=function(e){return this._itemLayouts[e]},e.prototype.setItemLayout=function(e,t,i){this._itemLayouts[e]=i?l.X$(this._itemLayouts[e]||{},t):t},e.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},e.prototype.setItemGraphicEl=function(e,t){var i=this.hostModel&&this.hostModel.seriesIndex;(0,y.a)(i,this.dataType,e,t),this._graphicEls[e]=t},e.prototype.getItemGraphicEl=function(e){return this._graphicEls[e]},e.prototype.eachItemGraphicEl=function(e,t){l.__(this._graphicEls,(function(i,n){i&&e&&e.call(t,i,n)}))},e.prototype.cloneShallow=function(t){return t||(t=new e(this._schema?this._schema:ln(this.dimensions,this._getDimInfo,this),this.hostModel)),on(t,this),t._store=this._store,t},e.prototype.wrapMethod=function(e,t){var i=this[e];l.Tn(i)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(e),this[e]=function(){var e=i.apply(this,arguments);return t.apply(this,[e].concat(l.di(arguments)))})},e.internalField=function(){Ji=function(e){var t=e._invertedIndicesMap;l.__(t,(function(i,n){var o=e._dimInfos[n],a=o.ordinalMeta,r=e._store;if(a){i=t[n]=new un(a.categories.length);for(var s=0;s<i.length;s++)i[s]=dn;for(s=0;s<r.count();s++)i[r.get(o.storeDimIndex,s)]=s}}))},tn=function(e,t,i){return(0,g.vS)(e._getCategory(t,i),null)},en=function(e,t){var i=e._idList[t];return null==i&&null!=e._idDimIdx&&(i=tn(e,e._idDimIdx,t)),null==i&&(i=cn+t),i},nn=function(e){return l.cy(e)||(e=null!=e?[e]:[]),e},an=function(t){var i=new e(t._schema?t._schema:ln(t.dimensions,t._getDimInfo,t),t.hostModel);return on(i,t),i},on=function(e,t){l.__(hn.concat(t.__wrappedMethods||[]),(function(i){t.hasOwnProperty(i)&&(e[i]=t[i])})),e.__wrappedMethods=t.__wrappedMethods,l.__(pn,(function(i){e[i]=l.o8(t[i])})),e._calculationInfo=l.X$({},t._calculationInfo)},rn=function(e,t){var i=e._nameList,n=e._idList,o=e._nameDimIdx,a=e._idDimIdx,r=i[t],s=n[t];if(null==r&&null!=o&&(i[t]=r=tn(e,o,t)),null==s&&null!=a&&(n[t]=s=tn(e,a,t)),null==s&&null!=r){var l=e._nameRepeatCount,u=l[r]=(l[r]||0)+1;s=r,u>1&&(s+="__ec__"+u),n[t]=s}}}(),e}(),fn=gn,mn=i(65234);function yn(e,t){(0,Xi.tP)(e)||(e=(0,Xi.AF)(e)),t=t||{};var i=t.coordDimensions||[],n=t.dimensionsDefine||e.dimensionsDefine||[],o=(0,l.nt)(),a=[],r=_n(e,i,n,t.dimensionsCount),s=t.canOmitUnusedDimensions&&Qi(r),u=n===e.dimensionsDefine,c=u?Ki(e):qi(n),d=t.encodeDefine;!d&&t.encodeDefaulter&&(d=t.encodeDefaulter(e,r));for(var h=(0,l.nt)(d),p=new $i.A_(r),f=0;f<p.length;f++)p[f]=-1;function m(e){var t=p[e];if(t<0){var i=n[e],o=(0,l.Gv)(i)?i:{name:i},r=new Hi,s=o.name;null!=s&&null!=c.get(s)&&(r.name=r.displayName=s),null!=o.type&&(r.type=o.type),null!=o.displayName&&(r.displayName=o.displayName);var u=a.length;return p[e]=u,r.storeDimIndex=e,a.push(r),r}return a[t]}if(!s)for(f=0;f<r;f++)m(f);h.each((function(e,t){var i=(0,g.qB)(e).slice();if(1===i.length&&!(0,l.Kg)(i[0])&&i[0]<0)h.set(t,!1);else{var n=h.set(t,[]);(0,l.__)(i,(function(e,i){var o=(0,l.Kg)(e)?c.get(e):e;null!=o&&o<r&&(n[i]=o,v(m(o),t,i))}))}}));var y=0;function v(e,t,i){null!=Vi.Pe.get(t)?e.otherDims[t]=i:(e.coordDim=t,e.coordDimIndex=i,o.set(t,!0))}(0,l.__)(i,(function(e){var t,i,n,o;if((0,l.Kg)(e))t=e,o={};else{o=e,t=o.name;var a=o.ordinalMeta;o.ordinalMeta=null,o=(0,l.X$)({},o),o.ordinalMeta=a,i=o.dimsDef,n=o.otherDims,o.name=o.coordDim=o.coordDimIndex=o.dimsDef=o.otherDims=null}var s=h.get(t);if(!1!==s){if(s=(0,g.qB)(s),!s.length)for(var c=0;c<(i&&i.length||1);c++){while(y<r&&null!=m(y).coordDim)y++;y<r&&s.push(y++)}(0,l.__)(s,(function(e,a){var r=m(e);if(u&&null!=o.type&&(r.type=o.type),v((0,l.NT)(r,o),t,a),null==r.name&&i){var s=i[a];!(0,l.Gv)(s)&&(s={name:s}),r.name=r.displayName=s.name,r.defaultTooltip=s.defaultTooltip}n&&(0,l.NT)(r.otherDims,n)}))}}));var _=t.generateCoord,x=t.generateCoordCount,b=null!=x;x=_?x||1:0;var w=_||"value";function C(e){null==e.name&&(e.name=e.coordDim)}if(s)(0,l.__)(a,(function(e){C(e)})),a.sort((function(e,t){return e.storeDimIndex-t.storeDimIndex}));else for(var S=0;S<r;S++){var A=m(S),k=A.coordDim;null==k&&(A.coordDim=xn(w,o,b),A.coordDimIndex=0,(!_||x<=0)&&(A.isExtraCoord=!0),x--),C(A),null!=A.type||(0,mn.PU)(e,S)!==mn.sc.Must&&(!A.isExtraCoord||null==A.otherDims.itemName&&null==A.otherDims.seriesName)||(A.type="ordinal")}return vn(a),new Yi({source:e,dimensions:a,fullDimensionCount:r,dimensionOmitted:s})}function vn(e){for(var t=(0,l.nt)(),i=0;i<e.length;i++){var n=e[i],o=n.name,a=t.get(o)||0;a>0&&(n.name=o+(a-1)),a++,t.set(o,a)}}function _n(e,t,i,n){var o=Math.max(e.dimensionsDetectedCount||1,t.length,i.length,n||0);return(0,l.__)(t,(function(e){var t;(0,l.Gv)(e)&&(t=e.dimsDef)&&(o=Math.max(o,t.length))})),o}function xn(e,t,i){if(i||t.hasKey(e)){var n=0;while(t.hasKey(e+n))n++;e+=n}return t.set(e,!0),e}var bn=i(35090),wn=function(){function e(e){this.coordSysDims=[],this.axisMap=(0,l.nt)(),this.categoryAxisMap=(0,l.nt)(),this.coordSysName=e}return e}();function Cn(e){var t=e.get("coordinateSystem"),i=new wn(t),n=Sn[t];if(n)return n(e,i,i.axisMap,i.categoryAxisMap),i}var Sn={cartesian2d:function(e,t,i,n){var o=e.getReferringComponents("xAxis",g.US).models[0],a=e.getReferringComponents("yAxis",g.US).models[0];t.coordSysDims=["x","y"],i.set("x",o),i.set("y",a),An(o)&&(n.set("x",o),t.firstCategoryDimIndex=0),An(a)&&(n.set("y",a),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=1))},singleAxis:function(e,t,i,n){var o=e.getReferringComponents("singleAxis",g.US).models[0];t.coordSysDims=["single"],i.set("single",o),An(o)&&(n.set("single",o),t.firstCategoryDimIndex=0)},polar:function(e,t,i,n){var o=e.getReferringComponents("polar",g.US).models[0],a=o.findAxisModel("radiusAxis"),r=o.findAxisModel("angleAxis");t.coordSysDims=["radius","angle"],i.set("radius",a),i.set("angle",r),An(a)&&(n.set("radius",a),t.firstCategoryDimIndex=0),An(r)&&(n.set("angle",r),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=1))},geo:function(e,t,i,n){t.coordSysDims=["lng","lat"]},parallel:function(e,t,i,n){var o=e.ecModel,a=o.getComponent("parallel",e.get("parallelIndex")),r=t.coordSysDims=a.dimensions.slice();(0,l.__)(a.parallelAxisIndex,(function(e,a){var s=o.getComponent("parallelAxis",e),l=r[a];i.set(l,s),An(s)&&(n.set(l,s),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=a))}))}};function An(e){return"category"===e.get("type")}function kn(e,t,i){i=i||{};var n,o,a,r=i.byIndex,s=i.stackedCoordDimension;Mn(t)?n=t:(o=t.schema,n=o.dimensions,a=t.store);var u,c,d,h,p=!(!e||!e.get("stack"));if((0,l.__)(n,(function(e,t){(0,l.Kg)(e)&&(n[t]=e={name:e}),p&&!e.isExtraCoord&&(r||u||!e.ordinalMeta||(u=e),c||"ordinal"===e.type||"time"===e.type||s&&s!==e.coordDim||(c=e))})),!c||r||u||(r=!0),c){d="__\0ecstackresult_"+e.id,h="__\0ecstackedover_"+e.id,u&&(u.createInvertedIndices=!0);var g=c.coordDim,f=c.type,m=0;(0,l.__)(n,(function(e){e.coordDim===g&&m++}));var y={name:d,coordDim:g,coordDimIndex:m,type:f,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:n.length},v={name:h,coordDim:h,coordDimIndex:m+1,type:f,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:n.length+1};o?(a&&(y.storeDimIndex=a.ensureCalculationDimension(h,f),v.storeDimIndex=a.ensureCalculationDimension(d,f)),o.appendCalculationDimension(y),o.appendCalculationDimension(v)):(n.push(y),n.push(v))}return{stackedDimension:c&&c.name,stackedByDimension:u&&u.name,isStackedByIndex:r,stackedOverDimension:h,stackResultDimension:d}}function Mn(e){return!Zi(e.schema)}function In(e,t){return!!t&&t===e.getCalculationInfo("stackedDimension")}function Tn(e,t){return In(e,t)?e.getCalculationInfo("stackResultDimension"):t}function Dn(e,t){var i,n=e.get("coordinateSystem"),o=bn.A.get(n);return t&&t.coordSysDims&&(i=l.Tj(t.coordSysDims,(function(e){var i={name:e},n=t.axisMap.get(e);if(n){var o=n.get("type");i.type=Gi(o)}return i}))),i||(i=o&&(o.getDimensionsInfo?o.getDimensionsInfo():o.dimensions.slice())||["x","y"]),i}function Ln(e,t,i){var n,o;return i&&l.__(e,(function(e,a){var r=e.coordDim,s=i.categoryAxisMap.get(r);s&&(null==n&&(n=a),e.ordinalMeta=s.getOrdinalMeta(),t&&(e.createInvertedIndices=!0)),null!=e.otherDims.itemName&&(o=!0)})),o||null==n||(e[n].otherDims.itemName=0),n}function Pn(e,t,i){i=i||{};var n,o=t.getSourceManager(),a=!1;e?(a=!0,n=(0,Xi.AF)(e)):(n=o.getSource(),a=n.sourceFormat===Vi.mK);var r=Cn(t),s=Dn(t,r),u=i.useEncodeDefaulter,c=l.Tn(u)?u:u?l.cF(mn.OC,s,t):null,d={coordDimensions:s,generateCoord:i.generateCoord,encodeDefine:t.getEncode(),encodeDefaulter:c,canOmitUnusedDimensions:!a},h=yn(n,d),p=Ln(h.dimensions,i.createInvertedIndices,r),g=a?null:o.getSharedDataStore(h),f=kn(t,{schema:h,store:g}),m=new fn(h,t);m.setCalculationInfo(f);var y=null!=p&&Fn(n)?function(e,t,i,n){return n===p?i:this.defaultDimValueGetter(e,t,i,n)}:null;return m.hasItemOption=!1,m.initData(a?n:g,null,y),m}function Fn(e){if(e.sourceFormat===Vi.mK){var t=Nn(e.data||[]);return!l.cy((0,g.vj)(t))}}function Nn(e){var t=0;while(t<e.length&&null==e[t])t++;return e[t]}var Rn=Pn,Vn=i(40032),En=i(48937),On=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i.hasSymbolVisual=!0,i}return(0,_e.C6)(t,e),t.prototype.getInitialData=function(e){return Rn(null,this,{useEncodeDefaulter:!0})},t.prototype.getLegendIcon=function(e){var t=new En.A,i=(0,Vn.v5)("line",0,e.itemHeight/2,e.itemWidth,0,e.lineStyle.stroke,!1);t.add(i),i.setStyle(e.lineStyle);var n=this.getData().getVisual("symbol"),o=this.getData().getVisual("symbolRotate"),a="none"===n?"circle":n,r=.8*e.itemHeight,s=(0,Vn.v5)(a,(e.itemWidth-r)/2,(e.itemHeight-r)/2,r,r,e.itemStyle.fill);t.add(s),s.setStyle(e.itemStyle);var l="inherit"===e.iconRotate?o:e.iconRotate||0;return s.rotation=l*Math.PI/180,s.setOrigin([e.itemWidth/2,e.itemHeight/2]),a.indexOf("empty")>-1&&(s.style.stroke=s.style.fill,s.style.fill="#fff",s.style.lineWidth=2),t},t.type="series.line",t.dependencies=["grid","polar"],t.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},t}(s.A),zn=On,Gn=i(95523);function Bn(e,t){var i=e.mapDimensionsAll("defaultedLabel"),n=i.length;if(1===n){var o=(0,Ri.QE)(e,t,i[0]);return null!=o?o+"":null}if(n){for(var a=[],r=0;r<i.length;r++)a.push((0,Ri.QE)(e,t,i[r]));return a.join(" ")}}function Wn(e,t){var i=e.mapDimensionsAll("defaultedLabel");if(!(0,l.cy)(t))return t+"";for(var n=[],o=0;o<i.length;o++){var a=e.getDimensionIndex(i[o]);a>=0&&n.push(t[a])}return n.join(" ")}var Hn=function(e){function t(t,i,n,o){var a=e.call(this)||this;return a.updateData(t,i,n,o),a}return(0,_e.C6)(t,e),t.prototype._createSymbol=function(e,t,i,n,o){this.removeAll();var a=(0,Vn.v5)(e,-1,-1,2,2,null,o);a.attr({z2:100,culling:!0,scaleX:n[0]/2,scaleY:n[1]/2}),a.drift=Xn,this._symbolType=e,this.add(a)},t.prototype.stopSymbolAnimation=function(e){this.childAt(0).stopAnimation(null,e)},t.prototype.getSymbolType=function(){return this._symbolType},t.prototype.getSymbolPath=function(){return this.childAt(0)},t.prototype.highlight=function(){(0,I.HY)(this.childAt(0))},t.prototype.downplay=function(){(0,I.SD)(this.childAt(0))},t.prototype.setZ=function(e,t){var i=this.childAt(0);i.zlevel=e,i.z=t},t.prototype.setDraggable=function(e,t){var i=this.childAt(0);i.draggable=e,i.cursor=!t&&e?"move":i.cursor},t.prototype.updateData=function(e,i,n,o){this.silent=!1;var a=e.getItemVisual(i,"symbol")||"circle",r=e.hostModel,s=t.getSymbolSize(e,i),l=a!==this._symbolType,u=o&&o.disableAnimation;if(l){var c=e.getItemVisual(i,"symbolKeepAspect");this._createSymbol(a,e,i,s,c)}else{var d=this.childAt(0);d.silent=!1;var h={scaleX:s[0]/2,scaleY:s[1]/2};u?d.attr(h):m.oi(d,h,r,i),(0,m.ap)(d)}if(this._updateCommon(e,i,s,n,o),l){d=this.childAt(0);if(!u){h={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:d.style.opacity}};d.scaleX=d.scaleY=0,d.style.opacity=0,m.LW(d,h,r,i)}}u&&this.childAt(0).stopAnimation("leave")},t.prototype._updateCommon=function(e,t,i,n,o){var a,r,s,u,c,d,h,p,g,f=this.childAt(0),m=e.hostModel;if(n&&(a=n.emphasisItemStyle,r=n.blurItemStyle,s=n.selectItemStyle,u=n.focus,c=n.blurScope,h=n.labelStatesModels,p=n.hoverScale,g=n.cursorStyle,d=n.emphasisDisabled),!n||e.hasItemOption){var y=n&&n.itemModel?n.itemModel:e.getItemModel(t),v=y.getModel("emphasis");a=v.getModel("itemStyle").getItemStyle(),s=y.getModel(["select","itemStyle"]).getItemStyle(),r=y.getModel(["blur","itemStyle"]).getItemStyle(),u=v.get("focus"),c=v.get("blurScope"),d=v.get("disabled"),h=(0,ae.lx)(y),p=v.getShallow("scale"),g=y.getShallow("cursor")}var _=e.getItemVisual(t,"symbolRotate");f.attr("rotation",(_||0)*Math.PI/180||0);var x=(0,Vn.hV)(e.getItemVisual(t,"symbolOffset"),i);x&&(f.x=x[0],f.y=x[1]),g&&f.attr("cursor",g);var b=e.getItemVisual(t,"style"),w=b.fill;if(f instanceof Ge.Ay){var C=f.style;f.useStyle((0,l.X$)({image:C.image,x:C.x,y:C.y,width:C.width,height:C.height},b))}else f.__isEmptyBrush?f.useStyle((0,l.X$)({},b)):f.useStyle(b),f.style.decal=null,f.setColor(w,o&&o.symbolInnerColor),f.style.strokeNoScale=!0;var S=e.getItemVisual(t,"liftZ"),A=this._z2;null!=S?null==A&&(this._z2=f.z2,f.z2+=S):null!=A&&(f.z2=A,this._z2=null);var k=o&&o.useNameLabel;function M(t){return k?e.getName(t):Bn(e,t)}(0,ae.qM)(f,h,{labelFetcher:m,labelDataIndex:t,defaultText:M,inheritColor:w,defaultOpacity:b.opacity}),this._sizeX=i[0]/2,this._sizeY=i[1]/2;var T=f.ensureState("emphasis");T.style=a,f.ensureState("select").style=s,f.ensureState("blur").style=r;var D=null==p||!0===p?Math.max(1.1,3/this._sizeY):isFinite(p)&&p>0?+p:1;T.scaleX=this._sizeX*D,T.scaleY=this._sizeY*D,this.setSymbolScale(1),(0,I.Lm)(this,u,c,d)},t.prototype.setSymbolScale=function(e){this.scaleX=this.scaleY=e},t.prototype.fadeOut=function(e,t,i){var n=this.childAt(0),o=(0,y.z)(this).dataIndex,a=i&&i.animation;if(this.silent=n.silent=!0,i&&i.fadeLabel){var r=n.getTextContent();r&&m.Nz(r,{style:{opacity:0}},t,{dataIndex:o,removeOpt:a,cb:function(){n.removeTextContent()}})}else n.removeTextContent();m.Nz(n,{style:{opacity:0},scaleX:0,scaleY:0},t,{dataIndex:o,cb:e,removeOpt:a})},t.getSymbolSize=function(e,t){return(0,Vn.xU)(e.getItemVisual(t,"symbolSize"))},t}(En.A);function Xn(e,t){this.parent.drift(e,t)}var $n=Hn;function jn(e,t,i,n){return t&&!isNaN(t[0])&&!isNaN(t[1])&&!(n.isIgnore&&n.isIgnore(i))&&!(n.clipShape&&!n.clipShape.contain(t[0],t[1]))&&"none"!==e.getItemVisual(i,"symbol")}function Un(e){return null==e||(0,l.Gv)(e)||(e={isIgnore:e}),e||{}}function Yn(e){var t=e.hostModel,i=t.getModel("emphasis");return{emphasisItemStyle:i.getModel("itemStyle").getItemStyle(),blurItemStyle:t.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:t.getModel(["select","itemStyle"]).getItemStyle(),focus:i.get("focus"),blurScope:i.get("blurScope"),emphasisDisabled:i.get("disabled"),hoverScale:i.get("scale"),labelStatesModels:(0,ae.lx)(t),cursorStyle:t.get("cursor")}}var Zn=function(){function e(e){this.group=new En.A,this._SymbolCtor=e||$n}return e.prototype.updateData=function(e,t){this._progressiveEls=null,t=Un(t);var i=this.group,n=e.hostModel,o=this._data,a=this._SymbolCtor,r=t.disableAnimation,s=Yn(e),l={disableAnimation:r},u=t.getSymbolPoint||function(t){return e.getItemLayout(t)};o||i.removeAll(),e.diff(o).add((function(n){var o=u(n);if(jn(e,o,n,t)){var r=new a(e,n,s,l);r.setPosition(o),e.setItemGraphicEl(n,r),i.add(r)}})).update((function(c,d){var h=o.getItemGraphicEl(d),p=u(c);if(jn(e,p,c,t)){var g=e.getItemVisual(c,"symbol")||"circle",f=h&&h.getSymbolType&&h.getSymbolType();if(!h||f&&f!==g)i.remove(h),h=new a(e,c,s,l),h.setPosition(p);else{h.updateData(e,c,s,l);var y={x:p[0],y:p[1]};r?h.attr(y):m.oi(h,y,n)}i.add(h),e.setItemGraphicEl(c,h)}else i.remove(h)})).remove((function(e){var t=o.getItemGraphicEl(e);t&&t.fadeOut((function(){i.remove(t)}),n)})).execute(),this._getSymbolPoint=u,this._data=e},e.prototype.updateLayout=function(){var e=this,t=this._data;t&&t.eachItemGraphicEl((function(t,i){var n=e._getSymbolPoint(i);t.setPosition(n),t.markRedraw()}))},e.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=Yn(e),this._data=null,this.group.removeAll()},e.prototype.incrementalUpdate=function(e,t,i){function n(e){e.isGroup||(e.incremental=!0,e.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[],i=Un(i);for(var o=e.start;o<e.end;o++){var a=t.getItemLayout(o);if(jn(t,a,o,i)){var r=new this._SymbolCtor(t,o,this._seriesScope);r.traverse(n),r.setPosition(a),this.group.add(r),t.setItemGraphicEl(o,r),this._progressiveEls.push(r)}}},e.prototype.eachRendered=function(e){Gn.traverseElements(this._progressiveEls||this.group,e)},e.prototype.remove=function(e){var t=this.group,i=this._data;i&&e?i.eachItemGraphicEl((function(e){e.fadeOut((function(){t.remove(e)}),i.hostModel)})):t.removeAll()},e}(),qn=Zn;function Kn(e,t,i){var n=e.getBaseAxis(),o=e.getOtherAxis(n),a=Qn(o,i),r=n.dim,s=o.dim,u=t.mapDimension(s),c=t.mapDimension(r),d="x"===s||"radius"===s?1:0,h=(0,l.Tj)(e.dimensions,(function(e){return t.mapDimension(e)})),p=!1,g=t.getCalculationInfo("stackResultDimension");return In(t,h[0])&&(p=!0,h[0]=g),In(t,h[1])&&(p=!0,h[1]=g),{dataDimsForPoint:h,valueStart:a,valueAxisDim:s,baseAxisDim:r,stacked:!!p,valueDim:u,baseDim:c,baseDataOffset:d,stackedOverDimension:t.getCalculationInfo("stackedOverDimension")}}function Qn(e,t){var i=0,n=e.scale.getExtent();return"start"===t?i=n[0]:"end"===t?i=n[1]:(0,l.Et)(t)&&!isNaN(t)?i=t:n[0]>0?i=n[0]:n[1]<0&&(i=n[1]),i}function Jn(e,t,i,n){var o=NaN;e.stacked&&(o=i.get(i.getCalculationInfo("stackedOverDimension"),n)),isNaN(o)&&(o=e.valueStart);var a=e.baseDataOffset,r=[];return r[a]=i.get(e.baseDim,n),r[1-a]=o,t.dataToPoint(r)}var eo="undefined"!==typeof Float32Array,to=eo?Float32Array:Array;function io(e){return(0,l.cy)(e)?eo?new Float32Array(e):e:new to(e)}function no(e,t){var i=[];return t.diff(e).add((function(e){i.push({cmd:"+",idx:e})})).update((function(e,t){i.push({cmd:"=",idx:t,idx1:e})})).remove((function(e){i.push({cmd:"-",idx:e})})).execute(),i}function oo(e,t,i,n,o,a,r,s){for(var l=no(e,t),u=[],c=[],d=[],h=[],p=[],g=[],f=[],m=Kn(o,t,r),y=e.getLayout("points")||[],v=t.getLayout("points")||[],_=0;_<l.length;_++){var x=l[_],b=!0,w=void 0,C=void 0;switch(x.cmd){case"=":w=2*x.idx,C=2*x.idx1;var S=y[w],A=y[w+1],k=v[C],M=v[C+1];(isNaN(S)||isNaN(A))&&(S=k,A=M),u.push(S,A),c.push(k,M),d.push(i[w],i[w+1]),h.push(n[C],n[C+1]),f.push(t.getRawIndex(x.idx1));break;case"+":var I=x.idx,T=m.dataDimsForPoint,D=o.dataToPoint([t.get(T[0],I),t.get(T[1],I)]);C=2*I,u.push(D[0],D[1]),c.push(v[C],v[C+1]);var L=Jn(m,o,t,I);d.push(L[0],L[1]),h.push(n[C],n[C+1]),f.push(t.getRawIndex(I));break;case"-":b=!1}b&&(p.push(x),g.push(g.length))}g.sort((function(e,t){return f[e]-f[t]}));var P=u.length,F=io(P),N=io(P),R=io(P),V=io(P),E=[];for(_=0;_<g.length;_++){var O=g[_],z=2*_,G=2*O;F[z]=u[G],F[z+1]=u[G+1],N[z]=c[G],N[z+1]=c[G+1],R[z]=d[G],R[z+1]=d[G+1],V[z]=h[G],V[z+1]=h[G+1],E[_]=p[O]}return{current:F,next:N,stackedOnCurrent:R,stackedOnNext:V,status:E}}var ao=i(62857),ro=Math.min,so=Math.max;function lo(e,t){return isNaN(e)||isNaN(t)}function uo(e,t,i,n,o,a,r,s,l){for(var u,c,d,h,p,g,f=i,m=0;m<n;m++){var y=t[2*f],v=t[2*f+1];if(f>=o||f<0)break;if(lo(y,v)){if(l){f+=a;continue}break}if(f===i)e[a>0?"moveTo":"lineTo"](y,v),d=y,h=v;else{var _=y-u,x=v-c;if(_*_+x*x<.5){f+=a;continue}if(r>0){var b=f+a,w=t[2*b],C=t[2*b+1];while(w===y&&C===v&&m<n)m++,b+=a,f+=a,w=t[2*b],C=t[2*b+1],y=t[2*f],v=t[2*f+1],_=y-u,x=v-c;var S=m+1;if(l)while(lo(w,C)&&S<n)S++,b+=a,w=t[2*b],C=t[2*b+1];var A=.5,k=0,M=0,I=void 0,T=void 0;if(S>=n||lo(w,C))p=y,g=v;else{k=w-u,M=C-c;var D=y-u,L=w-y,P=v-c,F=C-v,N=void 0,R=void 0;if("x"===s){N=Math.abs(D),R=Math.abs(L);var V=k>0?1:-1;p=y-V*N*r,g=v,I=y+V*R*r,T=v}else if("y"===s){N=Math.abs(P),R=Math.abs(F);var E=M>0?1:-1;p=y,g=v-E*N*r,I=y,T=v+E*R*r}else N=Math.sqrt(D*D+P*P),R=Math.sqrt(L*L+F*F),A=R/(R+N),p=y-k*r*(1-A),g=v-M*r*(1-A),I=y+k*r*A,T=v+M*r*A,I=ro(I,so(w,y)),T=ro(T,so(C,v)),I=so(I,ro(w,y)),T=so(T,ro(C,v)),k=I-y,M=T-v,p=y-k*N/R,g=v-M*N/R,p=ro(p,so(u,y)),g=ro(g,so(c,v)),p=so(p,ro(u,y)),g=so(g,ro(c,v)),k=y-p,M=v-g,I=y+k*R/N,T=v+M*R/N}e.bezierCurveTo(d,h,p,g,y,v),d=I,h=T}else e.lineTo(y,v)}u=y,c=v,f+=a}return m}var co=function(){function e(){this.smooth=0,this.smoothConstraint=!0}return e}(),ho=function(e){function t(t){var i=e.call(this,t)||this;return i.type="ec-polyline",i}return(0,_e.C6)(t,e),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new co},t.prototype.buildPath=function(e,t){var i=t.points,n=0,o=i.length/2;if(t.connectNulls){for(;o>0;o--)if(!lo(i[2*o-2],i[2*o-1]))break;for(;n<o;n++)if(!lo(i[2*n],i[2*n+1]))break}while(n<o)n+=uo(e,i,n,o,o,1,t.smooth,t.smoothMonotone,t.connectNulls)+1},t.prototype.getPointOn=function(e,t){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var i,n,o=this.path,a=o.data,r=C.A.CMD,s="x"===t,l=[],u=0;u<a.length;){var c=a[u++],d=void 0,h=void 0,p=void 0,g=void 0,f=void 0,m=void 0,y=void 0;switch(c){case r.M:i=a[u++],n=a[u++];break;case r.L:if(d=a[u++],h=a[u++],y=s?(e-i)/(d-i):(e-n)/(h-n),y<=1&&y>=0){var v=s?(h-n)*y+n:(d-i)*y+i;return s?[e,v]:[v,e]}i=d,n=h;break;case r.C:d=a[u++],h=a[u++],p=a[u++],g=a[u++],f=a[u++],m=a[u++];var _=s?(0,A._E)(i,d,p,f,e,l):(0,A._E)(n,h,g,m,e,l);if(_>0)for(var x=0;x<_;x++){var b=l[x];if(b<=1&&b>=0){v=s?(0,A.Yb)(n,h,g,m,b):(0,A.Yb)(i,d,p,f,b);return s?[e,v]:[v,e]}}i=f,n=m;break}}},t}(b.Ay),po=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,_e.C6)(t,e),t}(co),go=function(e){function t(t){var i=e.call(this,t)||this;return i.type="ec-polygon",i}return(0,_e.C6)(t,e),t.prototype.getDefaultShape=function(){return new po},t.prototype.buildPath=function(e,t){var i=t.points,n=t.stackedOnPoints,o=0,a=i.length/2,r=t.smoothMonotone;if(t.connectNulls){for(;a>0;a--)if(!lo(i[2*a-2],i[2*a-1]))break;for(;o<a;o++)if(!lo(i[2*o],i[2*o+1]))break}while(o<a){var s=uo(e,i,o,a,a,1,t.smooth,r,t.connectNulls);uo(e,n,o+s-1,s,a,-1,t.stackedOnSmooth,r,t.connectNulls),o+=s+1,e.closePath()}},t}(b.Ay),fo=i(59644),mo=i(69724);function yo(e,t,i,n,o){var a=e.getArea(),r=a.x,s=a.y,u=a.width,c=a.height,d=i.get(["lineStyle","width"])||2;r-=d/2,s-=d/2,u+=d,c+=d,u=Math.ceil(u),r!==Math.floor(r)&&(r=Math.floor(r),u++);var h=new fo.A({shape:{x:r,y:s,width:u,height:c}});if(t){var p=e.getBaseAxis(),g=p.isHorizontal(),f=p.inverse;g?(f&&(h.shape.x+=u),h.shape.width=0):(f||(h.shape.y+=c),h.shape.height=0);var y=(0,l.Tn)(o)?function(e){o(e,h)}:null;m.LW(h,{shape:{width:u,height:c,x:r,y:s}},i,null,n,y)}return h}function vo(e,t,i){var n=e.getArea(),o=(0,v.LI)(n.r0,1),a=(0,v.LI)(n.r,1),r=new mo.A({shape:{cx:(0,v.LI)(e.cx,1),cy:(0,v.LI)(e.cy,1),r0:o,r:a,startAngle:n.startAngle,endAngle:n.endAngle,clockwise:n.clockwise}});if(t){var s="angle"===e.getBaseAxis().dim;s?r.shape.endAngle=n.startAngle:r.shape.r=o,m.LW(r,{shape:{endAngle:n.endAngle,r:a}},i)}return r}function _o(e,t,i,n,o){return e?"polar"===e.type?vo(e,t,i):"cartesian2d"===e.type?yo(e,t,i,n,o):null:null}function xo(e,t){return e.type===t}var bo=i(85539);function wo(e,t){if(e.length===t.length){for(var i=0;i<e.length;i++)if(e[i]!==t[i])return;return!0}}function Co(e){for(var t=1/0,i=1/0,n=-1/0,o=-1/0,a=0;a<e.length;){var r=e[a++],s=e[a++];isNaN(r)||(t=Math.min(r,t),n=Math.max(r,n)),isNaN(s)||(i=Math.min(s,i),o=Math.max(s,o))}return[[t,i],[n,o]]}function So(e,t){var i=Co(e),n=i[0],o=i[1],a=Co(t),r=a[0],s=a[1];return Math.max(Math.abs(n[0]-r[0]),Math.abs(n[1]-r[1]),Math.abs(o[0]-s[0]),Math.abs(o[1]-s[1]))}function Ao(e){return l.Et(e)?e:e?.5:0}function ko(e,t,i){if(!i.valueDim)return[];for(var n=t.count(),o=io(2*n),a=0;a<n;a++){var r=Jn(i,e,t,a);o[2*a]=r[0],o[2*a+1]=r[1]}return o}function Mo(e,t,i,n){var o=t.getBaseAxis(),a="x"===o.dim||"radius"===o.dim?0:1,r=[],s=0,l=[],u=[],c=[],d=[];if(n){for(s=0;s<e.length;s+=2)isNaN(e[s])||isNaN(e[s+1])||d.push(e[s],e[s+1]);e=d}for(s=0;s<e.length-2;s+=2)switch(c[0]=e[s+2],c[1]=e[s+3],u[0]=e[s],u[1]=e[s+1],r.push(u[0],u[1]),i){case"end":l[a]=c[a],l[1-a]=u[1-a],r.push(l[0],l[1]);break;case"middle":var h=(u[a]+c[a])/2,p=[];l[a]=p[a]=h,l[1-a]=u[1-a],p[1-a]=c[1-a],r.push(l[0],l[1]),r.push(p[0],p[1]);break;default:l[a]=u[a],l[1-a]=c[1-a],r.push(l[0],l[1])}return r.push(e[s++],e[s++]),r}function Io(e,t){var i,n,o=[],a=e.length;function r(e,t,i){var n=e.coord,o=(i-n)/(t.coord-n),a=(0,Ft.Cc)(o,[e.color,t.color]);return{coord:i,color:a}}for(var s=0;s<a;s++){var l=e[s],u=l.coord;if(u<0)i=l;else{if(u>t){n?o.push(r(n,l,t)):i&&o.push(r(i,l,0),r(i,l,t));break}i&&(o.push(r(i,l,0)),i=null),o.push(l),n=l}}return o}function To(e,t,i){var n=e.getVisual("visualMeta");if(n&&n.length&&e.count()&&"cartesian2d"===t.type){for(var o,a,r=n.length-1;r>=0;r--){var s=e.getDimensionInfo(n[r].dimension);if(o=s&&s.coordDim,"x"===o||"y"===o){a=n[r];break}}if(a){var u=t.getAxis(o),c=l.Tj(a.stops,(function(e){return{coord:u.toGlobalCoord(u.dataToCoord(e.value)),color:e.color}})),d=c.length,h=a.outerColors.slice();d&&c[0].coord>c[d-1].coord&&(c.reverse(),h.reverse());var p=Io(c,"x"===o?i.getWidth():i.getHeight()),g=p.length;if(!g&&d)return c[0].coord<0?h[1]?h[1]:c[d-1].color:h[0]?h[0]:c[0].color;var f=10,m=p[0].coord-f,y=p[g-1].coord+f,v=y-m;if(v<.001)return"transparent";l.__(p,(function(e){e.offset=(e.coord-m)/v})),p.push({offset:g?p[g-1].offset:.5,color:h[1]||"transparent"}),p.unshift({offset:g?p[0].offset:.5,color:h[0]||"transparent"});var _=new ao.A(0,0,0,0,p,!0);return _[o]=m,_[o+"2"]=y,_}}}function Do(e,t,i){var n=e.get("showAllSymbol"),o="auto"===n;if(!n||o){var a=i.getAxesByScale("ordinal")[0];if(a&&(!o||!Lo(a,t))){var r=t.mapDimension(a.dim),s={};return l.__(a.getViewLabels(),(function(e){var t=a.scale.getRawOrdinalNumber(e.tickValue);s[t]=1})),function(e){return!s.hasOwnProperty(t.get(r,e))}}}}function Lo(e,t){var i=e.getExtent(),n=Math.abs(i[1]-i[0])/e.scale.count();isNaN(n)&&(n=0);for(var o=t.count(),a=Math.max(1,Math.round(o/5)),r=0;r<o;r+=a)if(1.5*$n.getSymbolSize(t,r)[e.isHorizontal()?1:0]>n)return!1;return!0}function Po(e,t){return isNaN(e)||isNaN(t)}function Fo(e){for(var t=e.length/2;t>0;t--)if(!Po(e[2*t-2],e[2*t-1]))break;return t-1}function No(e,t){return[e[2*t],e[2*t+1]]}function Ro(e,t,i){for(var n,o,a=e.length/2,r="x"===i?0:1,s=0,l=-1,u=0;u<a;u++)if(o=e[2*u+r],!isNaN(o)&&!isNaN(e[2*u+1-r]))if(0!==u){if(n<=t&&o>=t||n>=t&&o<=t){l=u;break}s=u,n=o}else n=o;return{range:[s,l],t:(t-n)/(o-n)}}function Vo(e){if(e.get(["endLabel","show"]))return!0;for(var t=0;t<I.BV.length;t++)if(e.get([I.BV[t],"endLabel","show"]))return!0;return!1}function Eo(e,t,i,n){if(xo(t,"cartesian2d")){var o=n.getModel("endLabel"),a=o.get("valueAnimation"),r=n.getData(),s={lastFrameIndex:0},l=Vo(n)?function(i,n){e._endLabelOnDuring(i,n,r,s,a,o,t)}:null,u=t.getBaseAxis().isHorizontal(),c=yo(t,i,n,(function(){var t=e._endLabel;t&&i&&null!=s.originalX&&t.attr({x:s.originalX,y:s.originalY})}),l);if(!n.get("clip",!0)){var d=c.shape,h=Math.max(d.width,d.height);u?(d.y-=h,d.height+=2*h):(d.x-=h,d.width+=2*h)}return l&&l(1,c),c}return vo(t,i,n)}function Oo(e,t){var i=t.getBaseAxis(),n=i.isHorizontal(),o=i.inverse,a=n?o?"right":"left":"center",r=n?"middle":o?"top":"bottom";return{normal:{align:e.get("align")||a,verticalAlign:e.get("verticalAlign")||r}}}var zo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,_e.C6)(t,e),t.prototype.init=function(){var e=new En.A,t=new qn;this.group.add(t.group),this._symbolDraw=t,this._lineGroup=e},t.prototype.render=function(e,t,i){var n=this,o=e.coordinateSystem,a=this.group,r=e.getData(),s=e.getModel("lineStyle"),u=e.getModel("areaStyle"),c=r.getLayout("points")||[],d="polar"===o.type,h=this._coordSys,p=this._symbolDraw,g=this._polyline,f=this._polygon,v=this._lineGroup,_=!t.ssr&&e.get("animation"),x=!u.isEmpty(),b=u.get("origin"),w=Kn(o,r,b),C=x&&ko(o,r,w),S=e.get("showSymbol"),A=e.get("connectNulls"),k=S&&!d&&Do(e,r,o),M=this._data;M&&M.eachItemGraphicEl((function(e,t){e.__temp&&(a.remove(e),M.setItemGraphicEl(t,null))})),S||p.remove(),a.add(v);var T,D=!d&&e.get("step");o&&o.getArea&&e.get("clip",!0)&&(T=o.getArea(),null!=T.width?(T.x-=.1,T.y-=.1,T.width+=.2,T.height+=.2):T.r0&&(T.r0-=.5,T.r+=.5)),this._clipShapeForSymbol=T;var L=To(r,o,i)||r.getVisual("style")[r.getVisual("drawType")];if(g&&h.type===o.type&&D===this._step){x&&!f?f=this._newPolygon(c,C):f&&!x&&(v.remove(f),f=this._polygon=null),d||this._initOrUpdateEndLabel(e,o,(0,bo.he)(L));var P=v.getClipPath();if(P){var F=Eo(this,o,!1,e);m.LW(P,{shape:F.shape},e)}else v.setClipPath(Eo(this,o,!0,e));S&&p.updateData(r,{isIgnore:k,clipShape:T,disableAnimation:!0,getSymbolPoint:function(e){return[c[2*e],c[2*e+1]]}}),wo(this._stackedOnPoints,C)&&wo(this._points,c)||(_?this._doUpdateAnimation(r,C,o,i,D,b,A):(D&&(c=Mo(c,o,D,A),C&&(C=Mo(C,o,D,A))),g.setShape({points:c}),f&&f.setShape({points:c,stackedOnPoints:C})))}else S&&p.updateData(r,{isIgnore:k,clipShape:T,disableAnimation:!0,getSymbolPoint:function(e){return[c[2*e],c[2*e+1]]}}),_&&this._initSymbolLabelAnimation(r,o,T),D&&(c=Mo(c,o,D,A),C&&(C=Mo(C,o,D,A))),g=this._newPolyline(c),x?f=this._newPolygon(c,C):f&&(v.remove(f),f=this._polygon=null),d||this._initOrUpdateEndLabel(e,o,(0,bo.he)(L)),v.setClipPath(Eo(this,o,!0,e));var N=e.getModel("emphasis"),R=N.get("focus"),V=N.get("blurScope"),E=N.get("disabled");if(g.useStyle(l.NT(s.getLineStyle(),{fill:"none",stroke:L,lineJoin:"bevel"})),(0,I.Mx)(g,e,"lineStyle"),g.style.lineWidth>0&&"bolder"===e.get(["emphasis","lineStyle","width"])){var O=g.getState("emphasis").style;O.lineWidth=+g.style.lineWidth+1}(0,y.z)(g).seriesIndex=e.seriesIndex,(0,I.Lm)(g,R,V,E);var z=Ao(e.get("smooth")),G=e.get("smoothMonotone");if(g.setShape({smooth:z,smoothMonotone:G,connectNulls:A}),f){var B=r.getCalculationInfo("stackedOnSeries"),W=0;f.useStyle(l.NT(u.getAreaStyle(),{fill:L,opacity:.7,lineJoin:"bevel",decal:r.getVisual("style").decal})),B&&(W=Ao(B.get("smooth"))),f.setShape({smooth:z,stackedOnSmooth:W,smoothMonotone:G,connectNulls:A}),(0,I.Mx)(f,e,"areaStyle"),(0,y.z)(f).seriesIndex=e.seriesIndex,(0,I.Lm)(f,R,V,E)}var H=function(e){n._changePolyState(e)};r.eachItemGraphicEl((function(e){e&&(e.onHoverStateChange=H)})),this._polyline.onHoverStateChange=H,this._data=r,this._coordSys=o,this._stackedOnPoints=C,this._points=c,this._step=D,this._valueOrigin=b,e.get("triggerLineEvent")&&(this.packEventData(e,g),f&&this.packEventData(e,f))},t.prototype.packEventData=function(e,t){(0,y.z)(t).eventData={componentType:"series",componentSubType:"line",componentIndex:e.componentIndex,seriesIndex:e.seriesIndex,seriesName:e.name,seriesType:"line"}},t.prototype.highlight=function(e,t,i,n){var o=e.getData(),r=g.le(o,n);if(this._changePolyState("emphasis"),!(r instanceof Array)&&null!=r&&r>=0){var s=o.getLayout("points"),l=o.getItemGraphicEl(r);if(!l){var u=s[2*r],c=s[2*r+1];if(isNaN(u)||isNaN(c))return;if(this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(u,c))return;var d=e.get("zlevel")||0,h=e.get("z")||0;l=new $n(o,r),l.x=u,l.y=c,l.setZ(d,h);var p=l.getSymbolPath().getTextContent();p&&(p.zlevel=d,p.z=h,p.z2=this._polyline.z2+1),l.__temp=!0,o.setItemGraphicEl(r,l),l.stopSymbolAnimation(!0),this.group.add(l)}l.highlight()}else a.A.prototype.highlight.call(this,e,t,i,n)},t.prototype.downplay=function(e,t,i,n){var o=e.getData(),r=g.le(o,n);if(this._changePolyState("normal"),null!=r&&r>=0){var s=o.getItemGraphicEl(r);s&&(s.__temp?(o.setItemGraphicEl(r,null),this.group.remove(s)):s.downplay())}else a.A.prototype.downplay.call(this,e,t,i,n)},t.prototype._changePolyState=function(e){var t=this._polygon;(0,I.Pk)(this._polyline,e),t&&(0,I.Pk)(t,e)},t.prototype._newPolyline=function(e){var t=this._polyline;return t&&this._lineGroup.remove(t),t=new ho({shape:{points:e},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(t),this._polyline=t,t},t.prototype._newPolygon=function(e,t){var i=this._polygon;return i&&this._lineGroup.remove(i),i=new go({shape:{points:e,stackedOnPoints:t},segmentIgnoreThreshold:2}),this._lineGroup.add(i),this._polygon=i,i},t.prototype._initSymbolLabelAnimation=function(e,t,i){var n,o,a=t.getBaseAxis(),r=a.inverse;"cartesian2d"===t.type?(n=a.isHorizontal(),o=!1):"polar"===t.type&&(n="angle"===a.dim,o=!0);var s=e.hostModel,u=s.get("animationDuration");l.Tn(u)&&(u=u(null));var c=s.get("animationDelay")||0,d=l.Tn(c)?c(null):c;e.eachItemGraphicEl((function(e,a){var s=e;if(s){var h=[e.x,e.y],p=void 0,g=void 0,f=void 0;if(i)if(o){var m=i,y=t.pointToCoord(h);n?(p=m.startAngle,g=m.endAngle,f=-y[1]/180*Math.PI):(p=m.r0,g=m.r,f=y[0])}else{var v=i;n?(p=v.x,g=v.x+v.width,f=e.x):(p=v.y+v.height,g=v.y,f=e.y)}var _=g===p?0:(f-p)/(g-p);r&&(_=1-_);var x=l.Tn(c)?c(a):u*_+d,b=s.getSymbolPath(),w=b.getTextContent();s.attr({scaleX:0,scaleY:0}),s.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:x}),w&&w.animateFrom({style:{opacity:0}},{duration:300,delay:x}),b.disableLabelAnimation=!0}}))},t.prototype._initOrUpdateEndLabel=function(e,t,i){var n=e.getModel("endLabel");if(Vo(e)){var o=e.getData(),a=this._polyline,r=o.getLayout("points");if(!r)return a.removeTextContent(),void(this._endLabel=null);var s=this._endLabel;s||(s=this._endLabel=new Pt.Ay({z2:200}),s.ignoreClip=!0,a.setTextContent(this._endLabel),a.disableLabelAnimation=!0);var l=Fo(r);l>=0&&((0,ae.qM)(a,(0,ae.lx)(e,"endLabel"),{inheritColor:i,labelFetcher:e,labelDataIndex:l,defaultText:function(e,t,i){return null!=i?Wn(o,i):Bn(o,e)},enableTextSetter:!0},Oo(n,t)),a.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},t.prototype._endLabelOnDuring=function(e,t,i,n,o,a,r){var s=this._endLabel,l=this._polyline;if(s){e<1&&null==n.originalX&&(n.originalX=s.x,n.originalY=s.y);var u=i.getLayout("points"),c=i.hostModel,d=c.get("connectNulls"),h=a.get("precision"),p=a.get("distance")||0,f=r.getBaseAxis(),m=f.isHorizontal(),y=f.inverse,v=t.shape,_=y?m?v.x:v.y+v.height:m?v.x+v.width:v.y,x=(m?p:0)*(y?-1:1),b=(m?0:-p)*(y?-1:1),w=m?"x":"y",C=Ro(u,_,w),S=C.range,A=S[1]-S[0],k=void 0;if(A>=1){if(A>1&&!d){var M=No(u,S[0]);s.attr({x:M[0]+x,y:M[1]+b}),o&&(k=c.getRawValue(S[0]))}else{M=l.getPointOn(_,w);M&&s.attr({x:M[0]+x,y:M[1]+b});var I=c.getRawValue(S[0]),T=c.getRawValue(S[1]);o&&(k=g.Il(i,h,I,T,C.t))}n.lastFrameIndex=S[0]}else{var D=1===e||n.lastFrameIndex>0?S[0]:0;M=No(u,D);o&&(k=c.getRawValue(D)),s.attr({x:M[0]+x,y:M[1]+b})}if(o){var L=(0,ae.Lu)(s);"function"===typeof L.setLabelText&&L.setLabelText(k)}}},t.prototype._doUpdateAnimation=function(e,t,i,n,o,a,r){var s=this._polyline,l=this._polygon,u=e.hostModel,c=oo(this._data,e,this._stackedOnPoints,t,this._coordSys,i,this._valueOrigin,a),d=c.current,h=c.stackedOnCurrent,p=c.next,g=c.stackedOnNext;if(o&&(d=Mo(c.current,i,o,r),h=Mo(c.stackedOnCurrent,i,o,r),p=Mo(c.next,i,o,r),g=Mo(c.stackedOnNext,i,o,r)),So(d,p)>3e3||l&&So(h,g)>3e3)return s.stopAnimation(),s.setShape({points:p}),void(l&&(l.stopAnimation(),l.setShape({points:p,stackedOnPoints:g})));s.shape.__points=c.current,s.shape.points=d;var f={shape:{points:p}};c.current!==d&&(f.shape.__points=c.next),s.stopAnimation(),m.oi(s,f,u),l&&(l.setShape({points:d,stackedOnPoints:h}),l.stopAnimation(),m.oi(l,{shape:{stackedOnPoints:g}},u),s.shape.points!==l.shape.points&&(l.shape.points=s.shape.points));for(var y=[],v=c.status,_=0;_<v.length;_++){var x=v[_].cmd;if("="===x){var b=e.getItemGraphicEl(v[_].idx1);b&&y.push({el:b,ptIdx:_})}}s.animators&&s.animators.length&&s.animators[0].during((function(){l&&l.dirtyShape();for(var e=s.shape.__points,t=0;t<y.length;t++){var i=y[t].el,n=2*y[t].ptIdx;i.x=e[n],i.y=e[n+1],i.markRedraw()}}))},t.prototype.remove=function(e){var t=this.group,i=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),i&&i.eachItemGraphicEl((function(e,n){e.__temp&&(t.remove(e),i.setItemGraphicEl(n,null))})),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},t.type="line",t}(a.A),Go=zo,Bo=i(51567);function Wo(e,t){return{seriesType:e,plan:(0,Bo.A)(),reset:function(e){var i=e.getData(),n=e.coordinateSystem,o=e.pipelineContext,a=t||o.large;if(n){var r=(0,l.Tj)(n.dimensions,(function(e){return i.mapDimension(e)})).slice(0,2),s=r.length,u=i.getCalculationInfo("stackResultDimension");In(i,r[0])&&(r[0]=u),In(i,r[1])&&(r[1]=u);var c=i.getStore(),d=i.getDimensionIndex(r[0]),h=i.getDimensionIndex(r[1]);return s&&{progress:function(e,t){for(var i=e.end-e.start,o=a&&io(i*s),r=[],l=[],u=e.start,p=0;u<e.end;u++){var g=void 0;if(1===s){var f=c.get(d,u);g=n.dataToPoint(f,null,l)}else r[0]=c.get(d,u),r[1]=c.get(h,u),g=n.dataToPoint(r,null,l);a?(o[p++]=g[0],o[p++]=g[1]):t.setItemLayout(u,g.slice())}a&&t.setLayout("points",o)}}}}}}var Ho={average:function(e){for(var t=0,i=0,n=0;n<e.length;n++)isNaN(e[n])||(t+=e[n],i++);return 0===i?NaN:t/i},sum:function(e){for(var t=0,i=0;i<e.length;i++)t+=e[i]||0;return t},max:function(e){for(var t=-1/0,i=0;i<e.length;i++)e[i]>t&&(t=e[i]);return isFinite(t)?t:NaN},min:function(e){for(var t=1/0,i=0;i<e.length;i++)e[i]<t&&(t=e[i]);return isFinite(t)?t:NaN},minmax:function(e){for(var t=-1/0,i=-1/0,n=0;n<e.length;n++){var o=e[n],a=Math.abs(o);a>t&&(t=a,i=o)}return isFinite(i)?i:NaN},nearest:function(e){return e[0]}},Xo=function(e){return Math.round(e.length/2)};function $o(e){return{seriesType:e,reset:function(e,t,i){var n=e.getData(),o=e.get("sampling"),a=e.coordinateSystem,r=n.count();if(r>10&&"cartesian2d"===a.type&&o){var s=a.getBaseAxis(),u=a.getOtherAxis(s),c=s.getExtent(),d=i.getDevicePixelRatio(),h=Math.abs(c[1]-c[0])*(d||1),p=Math.round(r/h);if(isFinite(p)&&p>1){"lttb"===o&&e.setData(n.lttbDownSample(n.mapDimension(u.dim),1/p));var g=void 0;(0,l.Kg)(o)?g=Ho[o]:(0,l.Tn)(o)&&(g=o),g&&e.setData(n.downSample(n.mapDimension(u.dim),1/p,g,Xo))}}}}}function jo(e){e.registerChartView(Go),e.registerSeriesModel(zn),e.registerLayout(Wo("line",!0)),e.registerVisual({seriesType:"line",reset:function(e){var t=e.getData(),i=e.getModel("lineStyle").getLineStyle();i&&!i.stroke&&(i.stroke=t.getVisual("style").fill),t.setVisual("legendLineStyle",i)}}),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,$o("line"))}var Uo="__ec_stack_";function Yo(e){return e.get("stack")||Uo+e.seriesIndex}function Zo(e){return e.dim+e.index}function qo(e){var t=[],i=e.axis,n="axis0";if("category"===i.type){for(var o=i.getBandWidth(),a=0;a<e.count;a++)t.push((0,l.NT)({bandWidth:o,axisKey:n,stackId:Uo+a},e));var r=ea(t),s=[];for(a=0;a<e.count;a++){var u=r[n][Uo+a];u.offsetCenter=u.offset+u.width/2,s.push(u)}return s}}function Ko(e,t){var i=[];return t.eachSeriesByType(e,(function(e){oa(e)&&i.push(e)})),i}function Qo(e){var t={};(0,l.__)(e,(function(e){var i=e.coordinateSystem,n=i.getBaseAxis();if("time"===n.type||"value"===n.type)for(var o=e.getData(),a=n.dim+"_"+n.index,r=o.getDimensionIndex(o.mapDimension(n.dim)),s=o.getStore(),l=0,u=s.count();l<u;++l){var c=s.get(r,l);t[a]?t[a].push(c):t[a]=[c]}}));var i={};for(var n in t)if(t.hasOwnProperty(n)){var o=t[n];if(o){o.sort((function(e,t){return e-t}));for(var a=null,r=1;r<o.length;++r){var s=o[r]-o[r-1];s>0&&(a=null===a?s:Math.min(a,s))}i[n]=a}}return i}function Jo(e){var t=Qo(e),i=[];return(0,l.__)(e,(function(e){var n,o=e.coordinateSystem,a=o.getBaseAxis(),r=a.getExtent();if("category"===a.type)n=a.getBandWidth();else if("value"===a.type||"time"===a.type){var s=a.dim+"_"+a.index,l=t[s],u=Math.abs(r[1]-r[0]),c=a.scale.getExtent(),d=Math.abs(c[1]-c[0]);n=l?u/d*l:u}else{var h=e.getData();n=Math.abs(r[1]-r[0])/h.count()}var p=(0,v.lo)(e.get("barWidth"),n),g=(0,v.lo)(e.get("barMaxWidth"),n),f=(0,v.lo)(e.get("barMinWidth")||(aa(e)?.5:1),n),m=e.get("barGap"),y=e.get("barCategoryGap");i.push({bandWidth:n,barWidth:p,barMaxWidth:g,barMinWidth:f,barGap:m,barCategoryGap:y,axisKey:Zo(a),stackId:Yo(e)})})),ea(i)}function ea(e){var t={};(0,l.__)(e,(function(e,i){var n=e.axisKey,o=e.bandWidth,a=t[n]||{bandWidth:o,remainedWidth:o,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},r=a.stacks;t[n]=a;var s=e.stackId;r[s]||a.autoWidthCount++,r[s]=r[s]||{width:0,maxWidth:0};var l=e.barWidth;l&&!r[s].width&&(r[s].width=l,l=Math.min(a.remainedWidth,l),a.remainedWidth-=l);var u=e.barMaxWidth;u&&(r[s].maxWidth=u);var c=e.barMinWidth;c&&(r[s].minWidth=c);var d=e.barGap;null!=d&&(a.gap=d);var h=e.barCategoryGap;null!=h&&(a.categoryGap=h)}));var i={};return(0,l.__)(t,(function(e,t){i[t]={};var n=e.stacks,o=e.bandWidth,a=e.categoryGap;if(null==a){var r=(0,l.HP)(n).length;a=Math.max(35-4*r,15)+"%"}var s=(0,v.lo)(a,o),u=(0,v.lo)(e.gap,1),c=e.remainedWidth,d=e.autoWidthCount,h=(c-s)/(d+(d-1)*u);h=Math.max(h,0),(0,l.__)(n,(function(e){var t=e.maxWidth,i=e.minWidth;if(e.width){n=e.width;t&&(n=Math.min(n,t)),i&&(n=Math.max(n,i)),e.width=n,c-=n+u*n,d--}else{var n=h;t&&t<n&&(n=Math.min(t,c)),i&&i>n&&(n=i),n!==h&&(e.width=n,c-=n+u*n,d--)}})),h=(c-s)/(d+(d-1)*u),h=Math.max(h,0);var p,g=0;(0,l.__)(n,(function(e,t){e.width||(e.width=h),p=e,g+=e.width*(1+u)})),p&&(g-=p.width*u);var f=-g/2;(0,l.__)(n,(function(e,n){i[t][n]=i[t][n]||{bandWidth:o,offset:f,width:e.width},f+=e.width*(1+u)}))})),i}function ta(e,t,i){if(e&&t){var n=e[Zo(t)];return null!=n&&null!=i?n[Yo(i)]:n}}function ia(e,t){var i=Ko(e,t),n=Jo(i);(0,l.__)(i,(function(e){var t=e.getData(),i=e.coordinateSystem,o=i.getBaseAxis(),a=Yo(e),r=n[Zo(o)][a],s=r.offset,l=r.width;t.setLayout({bandWidth:r.bandWidth,offset:s,size:l})}))}function na(e){return{seriesType:e,plan:(0,Bo.A)(),reset:function(e){if(oa(e)){var t=e.getData(),i=e.coordinateSystem,n=i.getBaseAxis(),o=i.getOtherAxis(n),a=t.getDimensionIndex(t.mapDimension(o.dim)),r=t.getDimensionIndex(t.mapDimension(n.dim)),s=e.get("showBackground",!0),l=t.mapDimension(o.dim),u=t.getCalculationInfo("stackResultDimension"),c=In(t,l)&&!!t.getCalculationInfo("stackedOnSeries"),d=o.isHorizontal(),h=ra(n,o),p=aa(e),g=e.get("barMinHeight")||0,f=u&&t.getDimensionIndex(u),m=t.getLayout("size"),y=t.getLayout("offset");return{progress:function(e,t){var n,o=e.count,l=p&&io(3*o),u=p&&s&&io(3*o),v=p&&io(o),_=i.master.getRect(),x=d?_.width:_.height,b=t.getStore(),w=0;while(null!=(n=e.next())){var C=b.get(c?f:a,n),S=b.get(r,n),A=h,k=void 0;c&&(k=+C-b.get(a,n));var M=void 0,I=void 0,T=void 0,D=void 0;if(d){var L=i.dataToPoint([C,S]);if(c){var P=i.dataToPoint([k,S]);A=P[0]}M=A,I=L[1]+y,T=L[0]-A,D=m,Math.abs(T)<g&&(T=(T<0?-1:1)*g)}else{L=i.dataToPoint([S,C]);if(c){P=i.dataToPoint([S,k]);A=P[1]}M=L[0]+y,I=A,T=m,D=L[1]-A,Math.abs(D)<g&&(D=(D<=0?-1:1)*g)}p?(l[w]=M,l[w+1]=I,l[w+2]=d?T:D,u&&(u[w]=d?_.x:M,u[w+1]=d?I:_.y,u[w+2]=x),v[n]=n):t.setItemLayout(n,{x:M,y:I,width:T,height:D}),w+=3}p&&t.setLayout({largePoints:l,largeDataIndices:v,largeBackgroundPoints:u,valueAxisHorizontal:d})}}}}}}function oa(e){return e.coordinateSystem&&"cartesian2d"===e.coordinateSystem.type}function aa(e){return e.pipelineContext&&e.pipelineContext.large}function ra(e,t){var i=t.model.get("startValue");return i||(i=0),t.toGlobalCoord(t.dataToCoord("log"===t.type?i>0?i:1:i))}var sa=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return(0,_e.C6)(t,e),t.prototype.getInitialData=function(e,t){return Rn(null,this,{useEncodeDefaulter:!0})},t.prototype.getMarkerPosition=function(e,t,i){var n=this.coordinateSystem;if(n&&n.clampData){var o=n.clampData(e),a=n.dataToPoint(o);if(i)(0,l.__)(n.getAxes(),(function(e,i){if("category"===e.type&&null!=t){var n=e.getTicksCoords(),r=e.getTickModel().get("alignWithLabel"),s=o[i],l="x1"===t[i]||"y1"===t[i];if(l&&!r&&(s+=1),n.length<2)return;if(2===n.length)return void(a[i]=e.toGlobalCoord(e.getExtent()[l?1:0]));for(var u=void 0,c=void 0,d=1,h=0;h<n.length;h++){var p=n[h].coord,g=h===n.length-1?n[h-1].tickValue+d:n[h].tickValue;if(g===s){c=p;break}if(g<s)u=p;else if(null!=u&&g>s){c=(p+u)/2;break}1===h&&(d=g-n[0].tickValue)}null==c&&(u?u&&(c=n[n.length-1].coord):c=n[0].coord),a[i]=e.toGlobalCoord(c)}}));else{var r=this.getData(),s=r.getLayout("offset"),u=r.getLayout("size"),c=n.getBaseAxis().isHorizontal()?0:1;a[c]+=s+u/2}return a}return[NaN,NaN]},t.type="series.__base_bar__",t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},t}(s.A);s.A.registerClass(sa);var la=sa,ua=i(52137),ca=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return(0,_e.C6)(t,e),t.prototype.getInitialData=function(){return Rn(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},t.prototype.getProgressive=function(){return!!this.get("large")&&this.get("progressive")},t.prototype.getProgressiveThreshold=function(){var e=this.get("progressiveThreshold"),t=this.get("largeThreshold");return t>e&&(e=t),e},t.prototype.brushSelector=function(e,t,i){return i.rect(t.getItemLayout(e))},t.type="series.bar",t.dependencies=["grid","polar"],t.defaultOption=(0,ua.G_)(la.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),t}(la),da=ca,ha=i(28896),pa=function(){function e(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0}return e}(),ga=function(e){function t(t){var i=e.call(this,t)||this;return i.type="sausage",i}return(0,_e.C6)(t,e),t.prototype.getDefaultShape=function(){return new pa},t.prototype.buildPath=function(e,t){var i=t.cx,n=t.cy,o=Math.max(t.r0||0,0),a=Math.max(t.r,0),r=.5*(a-o),s=o+r,l=t.startAngle,u=t.endAngle,c=t.clockwise,d=2*Math.PI,h=c?u-l<d:l-u<d;h||(l=u-(c?d:-d));var p=Math.cos(l),g=Math.sin(l),f=Math.cos(u),m=Math.sin(u);h?(e.moveTo(p*o+i,g*o+n),e.arc(p*s+i,g*s+n,r,-Math.PI+l,l,!c)):e.moveTo(p*a+i,g*a+n),e.arc(i,n,a,l,u,!c),e.arc(f*s+i,m*s+n,r,u-2*Math.PI,u-Math.PI,!c),0!==o&&e.arc(i,n,o,u,l,c)},t}(b.Ay),fa=ga;function ma(e,t){t=t||{};var i=t.isRoundCap;return function(t,n,o){var a=n.position;if(!a||a instanceof Array)return(0,Be.X4)(t,n,o);var r=e(a),s=null!=n.distance?n.distance:5,l=this.shape,u=l.cx,c=l.cy,d=l.r,h=l.r0,p=(d+h)/2,g=l.startAngle,f=l.endAngle,m=(g+f)/2,y=i?Math.abs(d-h)/2:0,v=Math.cos,_=Math.sin,x=u+d*v(g),b=c+d*_(g),w="left",C="top";switch(r){case"startArc":x=u+(h-s)*v(m),b=c+(h-s)*_(m),w="center",C="top";break;case"insideStartArc":x=u+(h+s)*v(m),b=c+(h+s)*_(m),w="center",C="bottom";break;case"startAngle":x=u+p*v(g)+va(g,s+y,!1),b=c+p*_(g)+_a(g,s+y,!1),w="right",C="middle";break;case"insideStartAngle":x=u+p*v(g)+va(g,-s+y,!1),b=c+p*_(g)+_a(g,-s+y,!1),w="left",C="middle";break;case"middle":x=u+p*v(m),b=c+p*_(m),w="center",C="middle";break;case"endArc":x=u+(d+s)*v(m),b=c+(d+s)*_(m),w="center",C="bottom";break;case"insideEndArc":x=u+(d-s)*v(m),b=c+(d-s)*_(m),w="center",C="top";break;case"endAngle":x=u+p*v(f)+va(f,s+y,!0),b=c+p*_(f)+_a(f,s+y,!0),w="left",C="middle";break;case"insideEndAngle":x=u+p*v(f)+va(f,-s+y,!0),b=c+p*_(f)+_a(f,-s+y,!0),w="right",C="middle";break;default:return(0,Be.X4)(t,n,o)}return t=t||{},t.x=x,t.y=b,t.align=w,t.verticalAlign=C,t}}function ya(e,t,i,n){if((0,l.Et)(n))e.setTextConfig({rotation:n});else if((0,l.cy)(t))e.setTextConfig({rotation:0});else{var o,a=e.shape,r=a.clockwise?a.startAngle:a.endAngle,s=a.clockwise?a.endAngle:a.startAngle,u=(r+s)/2,c=i(t);switch(c){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":o=u;break;case"startAngle":case"insideStartAngle":o=r;break;case"endAngle":case"insideEndAngle":o=s;break;default:return void e.setTextConfig({rotation:0})}var d=1.5*Math.PI-o;"middle"===c&&d>Math.PI/2&&d<1.5*Math.PI&&(d-=Math.PI),e.setTextConfig({rotation:d})}}function va(e,t,i){return t*Math.sin(e)*(i?-1:1)}function _a(e,t,i){return t*Math.cos(e)*(i?1:-1)}function xa(e,t,i){var n=e.get("borderRadius");if(null==n)return i?{cornerRadius:0}:null;(0,l.cy)(n)||(n=[n,n,n,n]);var o=Math.abs(t.r||0-t.r0||0);return{cornerRadius:(0,l.Tj)(n,(function(e){return(0,Be.lo)(e,o)}))}}var ba=Math.max,wa=Math.min;function Ca(e,t){var i=e.getArea&&e.getArea();if(xo(e,"cartesian2d")){var n=e.getBaseAxis();if("category"!==n.type||!n.onBand){var o=t.getLayout("bandWidth");n.isHorizontal()?(i.x-=o,i.width+=2*o):(i.y-=o,i.height+=2*o)}}return i}var Sa=function(e){function t(){var i=e.call(this)||this;return i.type=t.type,i._isFirstFrame=!0,i}return(0,_e.C6)(t,e),t.prototype.render=function(e,t,i,n){this._model=e,this._removeOnRenderedListener(i),this._updateDrawMode(e);var o=e.get("coordinateSystem");("cartesian2d"===o||"polar"===o)&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(e,t,i):this._renderNormal(e,t,i,n))},t.prototype.incrementalPrepareRender=function(e){this._clear(),this._updateDrawMode(e),this._updateLargeClip(e)},t.prototype.incrementalRender=function(e,t){this._progressiveEls=[],this._incrementalRenderLarge(e,t)},t.prototype.eachRendered=function(e){(0,Gn.traverseElements)(this._progressiveEls||this.group,e)},t.prototype._updateDrawMode=function(e){var t=e.pipelineContext.large;null!=this._isLargeDraw&&t===this._isLargeDraw||(this._isLargeDraw=t,this._clear())},t.prototype._renderNormal=function(e,t,i,n){var o,a=this.group,r=e.getData(),s=this._data,l=e.coordinateSystem,u=l.getBaseAxis();"cartesian2d"===l.type?o=u.isHorizontal():"polar"===l.type&&(o="angle"===u.dim);var c=e.isAnimationEnabled()?e:null,d=Ma(e,l);d&&this._enableRealtimeSort(d,r,i);var h=e.get("clip",!0)||d,p=Ca(l,r);a.removeClipPath();var g=e.get("roundCap",!0),f=e.get("showBackground",!0),y=e.getModel("backgroundStyle"),v=y.get("borderRadius")||0,_=[],x=this._backgroundEls,b=n&&n.isInitSort,w=n&&"changeAxisOrder"===n.type;function C(e){var t=Fa[l.type](r,e),i=Xa(l,o,t);return i.useStyle(y.getItemStyle()),"cartesian2d"===l.type?i.setShape("r",v):i.setShape("cornerRadius",v),_[e]=i,i}r.diff(s).add((function(t){var i=r.getItemModel(t),n=Fa[l.type](r,t,i);if(f&&C(t),r.hasValue(t)&&Pa[l.type](n)){var s=!1;h&&(s=Aa[l.type](p,n));var y=ka[l.type](e,r,t,n,o,c,u.model,!1,g);d&&(y.forceLabelAnimation=!0),Va(y,r,t,i,n,e,o,"polar"===l.type),b?y.attr({shape:n}):d?Ia(d,c,y,n,t,o,!1,!1):(0,m.LW)(y,{shape:n},e,t),r.setItemGraphicEl(t,y),a.add(y),y.ignore=s}})).update((function(t,i){var n=r.getItemModel(t),S=Fa[l.type](r,t,n);if(f){var A=void 0;0===x.length?A=C(i):(A=x[i],A.useStyle(y.getItemStyle()),"cartesian2d"===l.type?A.setShape("r",v):A.setShape("cornerRadius",v),_[t]=A);var k=Fa[l.type](r,t),M=Ha(o,k,l);(0,m.oi)(A,{shape:M},c,t)}var I=s.getItemGraphicEl(i);if(r.hasValue(t)&&Pa[l.type](S)){var T=!1;if(h&&(T=Aa[l.type](p,S),T&&a.remove(I)),I?(0,m.ap)(I):I=ka[l.type](e,r,t,S,o,c,u.model,!!I,g),d&&(I.forceLabelAnimation=!0),w){var D=I.getTextContent();if(D){var L=(0,ae.Lu)(D);null!=L.prevValue&&(L.prevValue=L.value)}}else Va(I,r,t,n,S,e,o,"polar"===l.type);b?I.attr({shape:S}):d?Ia(d,c,I,S,t,o,!0,w):(0,m.oi)(I,{shape:S},e,t,null),r.setItemGraphicEl(t,I),I.ignore=T,a.add(I)}else a.remove(I)})).remove((function(t){var i=s.getItemGraphicEl(t);i&&(0,m.t5)(i,e,t)})).execute();var S=this._backgroundGroup||(this._backgroundGroup=new En.A);S.removeAll();for(var A=0;A<_.length;++A)S.add(_[A]);a.add(S),this._backgroundEls=_,this._data=r},t.prototype._renderLarge=function(e,t,i){this._clear(),Ga(e,this.group),this._updateLargeClip(e)},t.prototype._incrementalRenderLarge=function(e,t){this._removeBackground(),Ga(t,this.group,this._progressiveEls,!0)},t.prototype._updateLargeClip=function(e){var t=e.get("clip",!0)&&_o(e.coordinateSystem,!1,e),i=this.group;t?i.setClipPath(t):i.removeClipPath()},t.prototype._enableRealtimeSort=function(e,t,i){var n=this;if(t.count()){var o=e.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(t,e,i),this._isFirstFrame=!1;else{var a=function(e){var i=t.getItemGraphicEl(e),n=i&&i.shape;return n&&Math.abs(o.isHorizontal()?n.height:n.width)||0};this._onRendered=function(){n._updateSortWithinSameData(t,a,o,i)},i.getZr().on("rendered",this._onRendered)}}},t.prototype._dataSort=function(e,t,i){var n=[];return e.each(e.mapDimension(t.dim),(function(e,t){var o=i(t);o=null==o?NaN:o,n.push({dataIndex:t,mappedValue:o,ordinalNumber:e})})),n.sort((function(e,t){return t.mappedValue-e.mappedValue})),{ordinalNumbers:(0,l.Tj)(n,(function(e){return e.ordinalNumber}))}},t.prototype._isOrderChangedWithinSameData=function(e,t,i){for(var n=i.scale,o=e.mapDimension(i.dim),a=Number.MAX_VALUE,r=0,s=n.getOrdinalMeta().categories.length;r<s;++r){var l=e.rawIndexOf(o,n.getRawOrdinalNumber(r)),u=l<0?Number.MIN_VALUE:t(e.indexOfRawIndex(l));if(u>a)return!0;a=u}return!1},t.prototype._isOrderDifferentInView=function(e,t){for(var i=t.scale,n=i.getExtent(),o=Math.max(0,n[0]),a=Math.min(n[1],i.getOrdinalMeta().categories.length-1);o<=a;++o)if(e.ordinalNumbers[o]!==i.getRawOrdinalNumber(o))return!0},t.prototype._updateSortWithinSameData=function(e,t,i,n){if(this._isOrderChangedWithinSameData(e,t,i)){var o=this._dataSort(e,i,t);this._isOrderDifferentInView(o,i)&&(this._removeOnRenderedListener(n),n.dispatchAction({type:"changeAxisOrder",componentType:i.dim+"Axis",axisId:i.index,sortInfo:o}))}},t.prototype._dispatchInitSort=function(e,t,i){var n=t.baseAxis,o=this._dataSort(e,n,(function(i){return e.get(e.mapDimension(t.otherAxis.dim),i)}));i.dispatchAction({type:"changeAxisOrder",componentType:n.dim+"Axis",isInitSort:!0,axisId:n.index,sortInfo:o})},t.prototype.remove=function(e,t){this._clear(this._model),this._removeOnRenderedListener(t)},t.prototype.dispose=function(e,t){this._removeOnRenderedListener(t)},t.prototype._removeOnRenderedListener=function(e){this._onRendered&&(e.getZr().off("rendered",this._onRendered),this._onRendered=null)},t.prototype._clear=function(e){var t=this.group,i=this._data;e&&e.isAnimationEnabled()&&i&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],i.eachItemGraphicEl((function(t){(0,m.t5)(t,e,(0,y.z)(t).dataIndex)}))):t.removeAll(),this._data=null,this._isFirstFrame=!0},t.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},t.type="bar",t}(a.A),Aa={cartesian2d:function(e,t){var i=t.width<0?-1:1,n=t.height<0?-1:1;i<0&&(t.x+=t.width,t.width=-t.width),n<0&&(t.y+=t.height,t.height=-t.height);var o=e.x+e.width,a=e.y+e.height,r=ba(t.x,e.x),s=wa(t.x+t.width,o),l=ba(t.y,e.y),u=wa(t.y+t.height,a),c=s<r,d=u<l;return t.x=c&&r>o?s:r,t.y=d&&l>a?u:l,t.width=c?0:s-r,t.height=d?0:u-l,i<0&&(t.x+=t.width,t.width=-t.width),n<0&&(t.y+=t.height,t.height=-t.height),c||d},polar:function(e,t){var i=t.r0<=t.r?1:-1;if(i<0){var n=t.r;t.r=t.r0,t.r0=n}var o=wa(t.r,e.r),a=ba(t.r0,e.r0);t.r=o,t.r0=a;var r=o-a<0;if(i<0){n=t.r;t.r=t.r0,t.r0=n}return r}},ka={cartesian2d:function(e,t,i,n,o,a,r,s,u){var c=new fo.A({shape:(0,l.X$)({},n),z2:1});if(c.__dataIndex=i,c.name="item",a){var d=c.shape,h=o?"height":"width";d[h]=0}return c},polar:function(e,t,i,n,o,a,r,s,l){var u=!o&&l?fa:mo.A,c=new u({shape:n,z2:1});c.name="item";var d=Ra(o);if(c.calculateTextPosition=ma(d,{isRoundCap:u===fa}),a){var h=c.shape,p=o?"r":"endAngle",g={};h[p]=o?n.r0:n.startAngle,g[p]=n[p],(s?m.oi:m.LW)(c,{shape:g},a)}return c}};function Ma(e,t){var i=e.get("realtimeSort",!0),n=t.getBaseAxis();if(i&&"category"===n.type&&"cartesian2d"===t.type)return{baseAxis:n,otherAxis:t.getOtherAxis(n)}}function Ia(e,t,i,n,o,a,r,s){var l,u;a?(u={x:n.x,width:n.width},l={y:n.y,height:n.height}):(u={y:n.y,height:n.height},l={x:n.x,width:n.width}),s||(r?m.oi:m.LW)(i,{shape:l},t,o,null);var c=t?e.baseAxis.model:null;(r?m.oi:m.LW)(i,{shape:u},c,o)}function Ta(e,t){for(var i=0;i<t.length;i++)if(!isFinite(e[t[i]]))return!0;return!1}var Da=["x","y","width","height"],La=["cx","cy","r","startAngle","endAngle"],Pa={cartesian2d:function(e){return!Ta(e,Da)},polar:function(e){return!Ta(e,La)}},Fa={cartesian2d:function(e,t,i){var n=e.getItemLayout(t),o=i?Ea(i,n):0,a=n.width>0?1:-1,r=n.height>0?1:-1;return{x:n.x+a*o/2,y:n.y+r*o/2,width:n.width-a*o,height:n.height-r*o}},polar:function(e,t,i){var n=e.getItemLayout(t);return{cx:n.cx,cy:n.cy,r0:n.r0,r:n.r,startAngle:n.startAngle,endAngle:n.endAngle,clockwise:n.clockwise}}};function Na(e){return null!=e.startAngle&&null!=e.endAngle&&e.startAngle===e.endAngle}function Ra(e){return function(e){var t=e?"Arc":"Angle";return function(e){switch(e){case"start":case"insideStart":case"end":case"insideEnd":return e+t;default:return e}}}(e)}function Va(e,t,i,n,o,a,r,s){var u=t.getItemVisual(i,"style");if(s){if(!a.get("roundCap")){var c=e.shape,d=xa(n.getModel("itemStyle"),c,!0);(0,l.X$)(c,d),e.setShape(c)}}else{var h=n.get(["itemStyle","borderRadius"])||0;e.setShape("r",h)}e.useStyle(u);var p=n.getShallow("cursor");p&&e.attr("cursor",p);var g=s?r?o.r>=o.r0?"endArc":"startArc":o.endAngle>=o.startAngle?"endAngle":"startAngle":r?o.height>=0?"bottom":"top":o.width>=0?"right":"left",f=(0,ae.lx)(n);(0,ae.qM)(e,f,{labelFetcher:a,labelDataIndex:i,defaultText:Bn(a.getData(),i),inheritColor:u.fill,defaultOpacity:u.opacity,defaultOutsidePosition:g});var m=e.getTextContent();if(s&&m){var y=n.get(["label","position"]);e.textConfig.inside="middle"===y||null,ya(e,"outside"===y?g:y,Ra(r),n.get(["label","rotate"]))}(0,ae.Oh)(m,f,a.getRawValue(i),(function(e){return Wn(t,e)}));var v=n.getModel(["emphasis"]);(0,I.Lm)(e,v.get("focus"),v.get("blurScope"),v.get("disabled")),(0,I.Mx)(e,n),Na(o)&&(e.style.fill="none",e.style.stroke="none",(0,l.__)(e.states,(function(e){e.style&&(e.style.fill=e.style.stroke="none")})))}function Ea(e,t){var i=e.get(["itemStyle","borderColor"]);if(!i||"none"===i)return 0;var n=e.get(["itemStyle","borderWidth"])||0,o=isNaN(t.width)?Number.MAX_VALUE:Math.abs(t.width),a=isNaN(t.height)?Number.MAX_VALUE:Math.abs(t.height);return Math.min(n,o,a)}var Oa=function(){function e(){}return e}(),za=function(e){function t(t){var i=e.call(this,t)||this;return i.type="largeBar",i}return(0,_e.C6)(t,e),t.prototype.getDefaultShape=function(){return new Oa},t.prototype.buildPath=function(e,t){for(var i=t.points,n=this.baseDimIdx,o=1-this.baseDimIdx,a=[],r=[],s=this.barWidth,l=0;l<i.length;l+=3)r[n]=s,r[o]=i[l+2],a[n]=i[l+n],a[o]=i[l+o],e.rect(a[0],a[1],r[0],r[1])},t}(b.Ay);function Ga(e,t,i,n){var o=e.getData(),a=o.getLayout("valueAxisHorizontal")?1:0,r=o.getLayout("largeDataIndices"),s=o.getLayout("size"),l=e.getModel("backgroundStyle"),u=o.getLayout("largeBackgroundPoints");if(u){var c=new za({shape:{points:u},incremental:!!n,silent:!0,z2:0});c.baseDimIdx=a,c.largeDataIndices=r,c.barWidth=s,c.useStyle(l.getItemStyle()),t.add(c),i&&i.push(c)}var d=new za({shape:{points:o.getLayout("largePoints")},incremental:!!n,ignoreCoarsePointer:!0,z2:1});d.baseDimIdx=a,d.largeDataIndices=r,d.barWidth=s,t.add(d),d.useStyle(o.getVisual("style")),(0,y.z)(d).seriesIndex=e.seriesIndex,e.get("silent")||(d.on("mousedown",Ba),d.on("mousemove",Ba)),i&&i.push(d)}var Ba=(0,ha.nF)((function(e){var t=this,i=Wa(t,e.offsetX,e.offsetY);(0,y.z)(t).dataIndex=i>=0?i:null}),30,!1);function Wa(e,t,i){for(var n=e.baseDimIdx,o=1-n,a=e.shape.points,r=e.largeDataIndices,s=[],l=[],u=e.barWidth,c=0,d=a.length/3;c<d;c++){var h=3*c;if(l[n]=u,l[o]=a[h+2],s[n]=a[h+n],s[o]=a[h+o],l[o]<0&&(s[o]+=l[o],l[o]=-l[o]),t>=s[0]&&t<=s[0]+l[0]&&i>=s[1]&&i<=s[1]+l[1])return r[c]}return-1}function Ha(e,t,i){if(xo(i,"cartesian2d")){var n=t,o=i.getArea();return{x:e?n.x:o.x,y:e?o.y:n.y,width:e?n.width:o.width,height:e?o.height:n.height}}o=i.getArea();var a=t;return{cx:o.cx,cy:o.cy,r0:e?o.r0:a.r0,r:e?o.r:a.r,startAngle:e?a.startAngle:0,endAngle:e?a.endAngle:2*Math.PI}}function Xa(e,t,i){var n="polar"===e.type?mo.A:fo.A;return new n({shape:Ha(t,i,e),silent:!0,z2:0})}var $a=Sa;function ja(e){e.registerChartView($a),e.registerSeriesModel(da),e.registerLayout(e.PRIORITY.VISUAL.LAYOUT,l.cF(ia,"bar")),e.registerLayout(e.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,na("bar")),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,$o("bar")),e.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},(function(e,t){var i=e.componentType||"series";t.eachComponent({mainType:i,query:e},(function(t){e.sortInfo&&t.axis.setCategorySortInfo(e.sortInfo)}))}))}var Ua=i(31447),Ya=i(96210),Za=2*Math.PI,qa=Math.PI/180;function Ka(e,t){return Ya.dV(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function Qa(e,t){var i=Ka(e,t),n=e.get("center"),o=e.get("radius");l.cy(o)||(o=[0,o]);var a,r,s=(0,v.lo)(i.width,t.getWidth()),u=(0,v.lo)(i.height,t.getHeight()),c=Math.min(s,u),d=(0,v.lo)(o[0],c/2),h=(0,v.lo)(o[1],c/2),p=e.coordinateSystem;if(p){var g=p.dataToPoint(n);a=g[0]||0,r=g[1]||0}else l.cy(n)||(n=[n,n]),a=(0,v.lo)(n[0],s)+i.x,r=(0,v.lo)(n[1],u)+i.y;return{cx:a,cy:r,r0:d,r:h}}function Ja(e,t,i){t.eachSeriesByType(e,(function(e){var t=e.getData(),n=t.mapDimension("value"),o=Ka(e,i),a=Qa(e,i),r=a.cx,s=a.cy,l=a.r,u=a.r0,c=-e.get("startAngle")*qa,d=e.get("endAngle"),h=e.get("padAngle")*qa;d="auto"===d?c-Za:-d*qa;var p=e.get("minAngle")*qa,g=p+h,f=0;t.each(n,(function(e){!isNaN(e)&&f++}));var m=t.getSum(n),y=Math.PI/(m||f)*2,_=e.get("clockwise"),x=e.get("roseType"),b=e.get("stillShowZeroSum"),w=t.getDataExtent(n);w[0]=0;var S=_?1:-1,A=[c,d],k=S*h/2;(0,C.q)(A,!_),c=A[0],d=A[1];var M=er(e);M.startAngle=c,M.endAngle=d,M.clockwise=_;var I=Math.abs(d-c),T=I,D=0,L=c;if(t.setLayout({viewRect:o,r:l}),t.each(n,(function(e,i){var n;if(isNaN(e))t.setItemLayout(i,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:_,cx:r,cy:s,r0:u,r:x?NaN:l});else{n="area"!==x?0===m&&b?y:e*y:I/f,n<g?(n=g,T-=g):D+=e;var o=L+S*n,a=0,c=0;h>n?(a=L+S*n/2,c=a):(a=L+k,c=o-k),t.setItemLayout(i,{angle:n,startAngle:a,endAngle:c,clockwise:_,cx:r,cy:s,r0:u,r:x?(0,v.Cb)(e,w,[u,l]):l}),L=o}})),T<Za&&f)if(T<=.001){var P=I/f;t.each(n,(function(e,i){if(!isNaN(e)){var n=t.getItemLayout(i);n.angle=P;var o=0,a=0;P<h?(o=c+S*(i+.5)*P,a=o):(o=c+S*i*P+k,a=c+S*(i+1)*P-k),n.startAngle=o,n.endAngle=a}}))}else y=T/D,L=c,t.each(n,(function(e,i){if(!isNaN(e)){var n=t.getItemLayout(i),o=n.angle===g?g:e*y,a=0,r=0;o<h?(a=L+S*o/2,r=a):(a=L+k,r=L+S*o-k),n.startAngle=a,n.endAngle=r,L+=S*o}}))}))}var er=(0,g.$r)();function tr(e){return{seriesType:e,reset:function(e,t){var i=t.findComponents({mainType:"legend"});if(i&&i.length){var n=e.getData();n.filterSelf((function(e){for(var t=n.getName(e),o=0;o<i.length;o++)if(!i[o].isSelected(t))return!1;return!0}))}}}}var ir=Math.PI/180;function nr(e,t,i,n,o,a,r,s,l,u){if(!(e.length<2)){for(var c=e.length,d=0;d<c;d++)if("outer"===e[d].position&&"labelLine"===e[d].labelAlignTo){var h=e[d].label.x-u;e[d].linePoints[1][0]+=h,e[d].label.x=u}ne(e,l,l+r)&&g(e)}function p(e){for(var a=e.rB,r=a*a,s=0;s<e.list.length;s++){var l=e.list[s],u=Math.abs(l.label.y-i),c=n+l.len,d=c*c,h=Math.sqrt((1-Math.abs(u*u/r))*d),p=t+(h+l.len2)*o,g=p-l.label.x,f=l.targetTextWidth-g*o;ar(l,f,!0),l.label.x=p}}function g(e){for(var a={list:[],maxY:0},r={list:[],maxY:0},s=0;s<e.length;s++)if("none"===e[s].labelAlignTo){var l=e[s],u=l.label.y>i?r:a,c=Math.abs(l.label.y-i);if(c>=u.maxY){var d=l.label.x-t-l.len2*o,h=n+l.len,g=Math.abs(d)<h?Math.sqrt(c*c/(1-d*d/h/h)):h;u.rB=g,u.maxY=c}u.list.push(l)}p(a),p(r)}}function or(e,t,i,n,o,a,r,s){for(var l=[],u=[],c=Number.MAX_VALUE,d=-Number.MAX_VALUE,h=0;h<e.length;h++){var p=e[h].label;rr(e[h])||(p.x<t?(c=Math.min(c,p.x),l.push(e[h])):(d=Math.max(d,p.x),u.push(e[h])))}for(h=0;h<e.length;h++){var g=e[h];if(!rr(g)&&g.linePoints){if(null!=g.labelStyleWidth)continue;p=g.label;var f=g.linePoints,m=void 0;m="edge"===g.labelAlignTo?p.x<t?f[2][0]-g.labelDistance-r-g.edgeDistance:r+o-g.edgeDistance-f[2][0]-g.labelDistance:"labelLine"===g.labelAlignTo?p.x<t?c-r-g.bleedMargin:r+o-d-g.bleedMargin:p.x<t?p.x-r-g.bleedMargin:r+o-p.x-g.bleedMargin,g.targetTextWidth=m,ar(g,m)}}nr(u,t,i,n,1,o,a,r,s,d),nr(l,t,i,n,-1,o,a,r,s,c);for(h=0;h<e.length;h++){g=e[h];if(!rr(g)&&g.linePoints){p=g.label,f=g.linePoints;var y="edge"===g.labelAlignTo,v=p.style.padding,_=v?v[1]+v[3]:0,x=p.style.backgroundColor?0:_,b=g.rect.width+x,w=f[1][0]-f[2][0];y?p.x<t?f[2][0]=r+g.edgeDistance+b+g.labelDistance:f[2][0]=r+o-g.edgeDistance-b-g.labelDistance:(p.x<t?f[2][0]=p.x+g.labelDistance:f[2][0]=p.x-g.labelDistance,f[1][0]=f[2][0]+w),f[1][1]=f[2][1]=p.y}}}function ar(e,t,i){if(void 0===i&&(i=!1),null==e.labelStyleWidth){var n=e.label,o=n.style,a=e.rect,r=o.backgroundColor,s=o.padding,l=s?s[1]+s[3]:0,u=o.overflow,c=a.width+(r?0:l);if(t<c||i){var d=a.height;if(u&&u.match("break")){n.setStyle("backgroundColor",null),n.setStyle("width",t-l);var h=n.getBoundingRect();n.setStyle("width",Math.ceil(h.width)),n.setStyle("backgroundColor",r)}else{var p=t-l,g=t<c?p:i?p>e.unconstrainedWidth?null:p:null;n.setStyle("width",g)}var f=n.getBoundingRect();a.width=f.width;var m=(n.style.margin||0)+2.1;a.height=f.height+m,a.y-=(a.height-d)/2}}}function rr(e){return"center"===e.position}function sr(e){var t,i,n=e.getData(),o=[],a=!1,r=(e.get("minShowLabelAngle")||0)*ir,s=n.getLayout("viewRect"),u=n.getLayout("r"),c=s.width,d=s.x,h=s.y,p=s.height;function g(e){e.ignore=!0}function f(e){if(!e.ignore)return!0;for(var t in e.states)if(!1===e.states[t].ignore)return!0;return!1}n.each((function(e){var s=n.getItemGraphicEl(e),h=s.shape,p=s.getTextContent(),m=s.getTextGuideLine(),y=n.getItemModel(e),_=y.getModel("label"),b=_.get("position")||y.get(["emphasis","label","position"]),w=_.get("distanceToLabelLine"),C=_.get("alignTo"),S=(0,v.lo)(_.get("edgeDistance"),c),A=_.get("bleedMargin"),k=y.getModel("labelLine"),M=k.get("length");M=(0,v.lo)(M,c);var I=k.get("length2");if(I=(0,v.lo)(I,c),Math.abs(h.endAngle-h.startAngle)<r)return(0,l.__)(p.states,g),p.ignore=!0,void(m&&((0,l.__)(m.states,g),m.ignore=!0));if(f(p)){var T,D,L,P,F=(h.startAngle+h.endAngle)/2,N=Math.cos(F),R=Math.sin(F);t=h.cx,i=h.cy;var V="inside"===b||"inner"===b;if("center"===b)T=h.cx,D=h.cy,P="center";else{var E=(V?(h.r+h.r0)/2*N:h.r*N)+t,O=(V?(h.r+h.r0)/2*R:h.r*R)+i;if(T=E+3*N,D=O+3*R,!V){var z=E+N*(M+u-h.r),G=O+R*(M+u-h.r),B=z+(N<0?-1:1)*I,W=G;T="edge"===C?N<0?d+S:d+c-S:B+(N<0?-w:w),D=W,L=[[E,O],[z,G],[B,W]]}P=V?"center":"edge"===C?N>0?"right":"left":N>0?"left":"right"}var H=Math.PI,X=0,$=_.get("rotate");if((0,l.Et)($))X=$*(H/180);else if("center"===b)X=0;else if("radial"===$||!0===$){var j=N<0?-F+H:-F;X=j}else if("tangential"===$&&"outside"!==b&&"outer"!==b){var U=Math.atan2(N,R);U<0&&(U=2*H+U);var Y=R>0;Y&&(U=H+U),X=U-H}if(a=!!X,p.x=T,p.y=D,p.rotation=X,p.setStyle({verticalAlign:"middle"}),V){p.setStyle({align:P});var Z=p.states.select;Z&&(Z.x+=p.x,Z.y+=p.y)}else{var q=p.getBoundingRect().clone();q.applyTransform(p.getComputedTransform());var K=(p.style.margin||0)+2.1;q.y-=K/2,q.height+=K,o.push({label:p,labelLine:m,position:b,len:M,len2:I,minTurnAngle:k.get("minTurnAngle"),maxSurfaceAngle:k.get("maxSurfaceAngle"),surfaceNormal:new x.A(N,R),linePoints:L,textAlign:P,labelDistance:w,labelAlignTo:C,edgeDistance:S,bleedMargin:A,rect:q,unconstrainedWidth:q.width,labelStyleWidth:p.style.width})}s.setTextConfig({inside:V})}})),!a&&e.get("avoidLabelOverlap")&&or(o,t,i,u,c,p,d,h);for(var m=0;m<o.length;m++){var y=o[m],_=y.label,b=y.labelLine,w=isNaN(_.x)||isNaN(_.y);if(_){_.setStyle({align:y.textAlign}),w&&((0,l.__)(_.states,g),_.ignore=!0);var C=_.states.select;C&&(C.x+=_.x,C.y+=_.y)}if(b){var S=y.linePoints;w||!S?((0,l.__)(b.states,g),b.ignore=!0):(U(S,y.minTurnAngle),Y(S,y.surfaceNormal,y.maxSurfaceAngle),b.setShape({points:S}),_.__hostTarget.textGuideLineConfig={anchor:new x.A(S[0][0],S[0][1])})}}}var lr=function(e){function t(t,i,n){var o=e.call(this)||this;o.z2=2;var a=new Pt.Ay;return o.setTextContent(a),o.updateData(t,i,n,!0),o}return(0,_e.C6)(t,e),t.prototype.updateData=function(e,t,i,n){var o=this,a=e.hostModel,r=e.getItemModel(t),s=r.getModel("emphasis"),u=e.getItemLayout(t),c=(0,l.X$)(xa(r.getModel("itemStyle"),u,!0),u);if(isNaN(c.startAngle))o.setShape(c);else{if(n){o.setShape(c);var d=a.getShallow("animationType");a.ecModel.ssr?(m.LW(o,{scaleX:0,scaleY:0},a,{dataIndex:t,isFrom:!0}),o.originX=c.cx,o.originY=c.cy):"scale"===d?(o.shape.r=u.r0,m.LW(o,{shape:{r:u.r}},a,t)):null!=i?(o.setShape({startAngle:i,endAngle:i}),m.LW(o,{shape:{startAngle:u.startAngle,endAngle:u.endAngle}},a,t)):(o.shape.endAngle=u.startAngle,m.oi(o,{shape:{endAngle:u.endAngle}},a,t))}else(0,m.ap)(o),m.oi(o,{shape:c},a,t);o.useStyle(e.getItemVisual(t,"style")),(0,I.Mx)(o,r);var h=(u.startAngle+u.endAngle)/2,p=a.get("selectedOffset"),g=Math.cos(h)*p,f=Math.sin(h)*p,y=r.getShallow("cursor");y&&o.attr("cursor",y),this._updateLabel(a,e,t),o.ensureState("emphasis").shape=(0,l.X$)({r:u.r+(s.get("scale")&&s.get("scaleSize")||0)},xa(s.getModel("itemStyle"),u)),(0,l.X$)(o.ensureState("select"),{x:g,y:f,shape:xa(r.getModel(["select","itemStyle"]),u)}),(0,l.X$)(o.ensureState("blur"),{shape:xa(r.getModel(["blur","itemStyle"]),u)});var v=o.getTextGuideLine(),_=o.getTextContent();v&&(0,l.X$)(v.ensureState("select"),{x:g,y:f}),(0,l.X$)(_.ensureState("select"),{x:g,y:f}),(0,I.Lm)(this,s.get("focus"),s.get("blurScope"),s.get("disabled"))}},t.prototype._updateLabel=function(e,t,i){var n=this,o=t.getItemModel(i),a=o.getModel("labelLine"),r=t.getItemVisual(i,"style"),s=r&&r.fill,u=r&&r.opacity;(0,ae.qM)(n,(0,ae.lx)(o),{labelFetcher:t.hostModel,labelDataIndex:i,inheritColor:s,defaultOpacity:u,defaultText:e.getFormattedLabel(i,"normal")||t.getName(i)});var c=n.getTextContent();n.setTextConfig({position:null,rotation:null}),c.attr({z2:10});var d=e.get(["label","position"]);if("outside"!==d&&"outer"!==d)n.removeTextGuideLine();else{var h=this.getTextGuideLine();h||(h=new w.A,this.setTextGuideLine(h)),K(this,Q(o),{stroke:s,opacity:(0,l.WV)(a.get(["lineStyle","opacity"]),u,1)})}},t}(mo.A),ur=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ignoreLabelLineUpdate=!0,t}return(0,_e.C6)(t,e),t.prototype.render=function(e,t,i,n){var o,a=e.getData(),r=this._data,s=this.group;if(!r&&a.count()>0){for(var u=a.getItemLayout(0),c=1;isNaN(u&&u.startAngle)&&c<a.count();++c)u=a.getItemLayout(c);u&&(o=u.startAngle)}if(this._emptyCircleSector&&s.remove(this._emptyCircleSector),0===a.count()&&e.get("showEmptyCircle")){var d=er(e),h=new mo.A({shape:(0,l.X$)(Qa(e,i),d)});h.useStyle(e.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=h,s.add(h)}a.diff(r).add((function(e){var t=new lr(a,e,o);a.setItemGraphicEl(e,t),s.add(t)})).update((function(e,t){var i=r.getItemGraphicEl(t);i.updateData(a,e,o),i.off("click"),s.add(i),a.setItemGraphicEl(e,i)})).remove((function(t){var i=r.getItemGraphicEl(t);m.t5(i,e,t)})).execute(),sr(e),"expansion"!==e.get("animationTypeUpdate")&&(this._data=a)},t.prototype.dispose=function(){},t.prototype.containPoint=function(e,t){var i=t.getData(),n=i.getItemLayout(0);if(n){var o=e[0]-n.cx,a=e[1]-n.cy,r=Math.sqrt(o*o+a*a);return r<=n.r&&r>=n.r0}},t.type="pie",t}(a.A),cr=ur;function dr(e,t,i){t=(0,l.cy)(t)&&{coordDimensions:t}||(0,l.X$)({encodeDefine:e.getEncode()},t);var n=e.getSource(),o=yn(n,t).dimensions,a=new fn(o,e);return a.initData(n,i),a}var hr=function(){function e(e,t){this._getDataWithEncodedVisual=e,this._getRawData=t}return e.prototype.getAllNames=function(){var e=this._getRawData();return e.mapArray(e.getName)},e.prototype.containName=function(e){var t=this._getRawData();return t.indexOfName(e)>=0},e.prototype.indexOfName=function(e){var t=this._getDataWithEncodedVisual();return t.indexOfName(e)},e.prototype.getItemVisual=function(e,t){var i=this._getDataWithEncodedVisual();return i.getItemVisual(e,t)},e}(),pr=hr,gr=g.$r(),fr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,_e.C6)(t,e),t.prototype.init=function(t){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new pr(l.oI(this.getData,this),l.oI(this.getRawData,this)),this._defaultLabelLine(t)},t.prototype.mergeOption=function(){e.prototype.mergeOption.apply(this,arguments)},t.prototype.getInitialData=function(){return dr(this,{coordDimensions:["value"],encodeDefaulter:l.cF(mn.ln,this)})},t.prototype.getDataParams=function(t){var i=this.getData(),n=gr(i),o=n.seats;if(!o){var a=[];i.each(i.mapDimension("value"),(function(e){a.push(e)})),o=n.seats=(0,v.kM)(a,i.hostModel.get("percentPrecision"))}var r=e.prototype.getDataParams.call(this,t);return r.percent=o[t]||0,r.$vars.push("percent"),r},t.prototype._defaultLabelLine=function(e){g.M5(e,"labelLine",["show"]);var t=e.labelLine,i=e.emphasis.labelLine;t.show=t.show&&e.label.show,i.show=i.show&&e.emphasis.label.show},t.type="series.pie",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,endAngle:"auto",padAngle:0,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},t}(s.A),mr=fr;function yr(e){return{seriesType:e,reset:function(e,t){var i=e.getData();i.filterSelf((function(e){var t=i.mapDimension("value"),n=i.get(t,e);return!((0,l.Et)(n)&&!isNaN(n)&&n<0)}))}}}function vr(e){e.registerChartView(cr),e.registerSeriesModel(mr),(0,Ua.I)("pie",e.registerAction),e.registerLayout((0,l.cF)(Ja,"pie")),e.registerProcessor(tr("pie")),e.registerProcessor(yr("pie"))}var _r=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i.hasSymbolVisual=!0,i}return(0,_e.C6)(t,e),t.prototype.getInitialData=function(e,t){return Rn(null,this,{useEncodeDefaulter:!0})},t.prototype.getProgressive=function(){var e=this.option.progressive;return null==e?this.option.large?5e3:this.get("progressive"):e},t.prototype.getProgressiveThreshold=function(){var e=this.option.progressiveThreshold;return null==e?this.option.large?1e4:this.get("progressiveThreshold"):e},t.prototype.brushSelector=function(e,t,i){return i.point(t.getItemLayout(e))},t.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},t.type="series.scatter",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},t}(s.A),xr=_r,br=4,wr=function(){function e(){}return e}(),Cr=function(e){function t(t){var i=e.call(this,t)||this;return i._off=0,i.hoverDataIdx=-1,i}return(0,_e.C6)(t,e),t.prototype.getDefaultShape=function(){return new wr},t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.buildPath=function(e,t){var i,n=t.points,o=t.size,a=this.symbolProxy,r=a.shape,s=e.getContext?e.getContext():e,l=s&&o[0]<br,u=this.softClipShape;if(l)this._ctx=s;else{for(this._ctx=null,i=this._off;i<n.length;){var c=n[i++],d=n[i++];isNaN(c)||isNaN(d)||(u&&!u.contain(c,d)||(r.x=c-o[0]/2,r.y=d-o[1]/2,r.width=o[0],r.height=o[1],a.buildPath(e,r,!0)))}this.incremental&&(this._off=i,this.notClear=!0)}},t.prototype.afterBrush=function(){var e,t=this.shape,i=t.points,n=t.size,o=this._ctx,a=this.softClipShape;if(o){for(e=this._off;e<i.length;){var r=i[e++],s=i[e++];isNaN(r)||isNaN(s)||(a&&!a.contain(r,s)||o.fillRect(r-n[0]/2,s-n[1]/2,n[0],n[1]))}this.incremental&&(this._off=e,this.notClear=!0)}},t.prototype.findDataIndex=function(e,t){for(var i=this.shape,n=i.points,o=i.size,a=Math.max(o[0],4),r=Math.max(o[1],4),s=n.length/2-1;s>=0;s--){var l=2*s,u=n[l]-a/2,c=n[l+1]-r/2;if(e>=u&&t>=c&&e<=u+a&&t<=c+r)return s}return-1},t.prototype.contain=function(e,t){var i=this.transformCoordToLocal(e,t),n=this.getBoundingRect();if(e=i[0],t=i[1],n.contain(e,t)){var o=this.hoverDataIdx=this.findDataIndex(e,t);return o>=0}return this.hoverDataIdx=-1,!1},t.prototype.getBoundingRect=function(){var e=this._rect;if(!e){for(var t=this.shape,i=t.points,n=t.size,o=n[0],a=n[1],r=1/0,s=1/0,l=-1/0,u=-1/0,c=0;c<i.length;){var d=i[c++],h=i[c++];r=Math.min(d,r),l=Math.max(d,l),s=Math.min(h,s),u=Math.max(h,u)}e=this._rect=new f.A(r-o/2,s-a/2,l-r+o,u-s+a)}return e},t}(b.Ay),Sr=function(){function e(){this.group=new En.A}return e.prototype.updateData=function(e,t){this._clear();var i=this._create();i.setShape({points:e.getLayout("points")}),this._setCommon(i,e,t)},e.prototype.updateLayout=function(e){var t=e.getLayout("points");this.group.eachChild((function(e){if(null!=e.startIndex){var i=2*(e.endIndex-e.startIndex),n=4*e.startIndex*2;t=new Float32Array(t.buffer,n,i)}e.setShape("points",t),e.reset()}))},e.prototype.incrementalPrepareUpdate=function(e){this._clear()},e.prototype.incrementalUpdate=function(e,t,i){var n=this._newAdded[0],o=t.getLayout("points"),a=n&&n.shape.points;if(a&&a.length<2e4){var r=a.length,s=new Float32Array(r+o.length);s.set(a),s.set(o,r),n.endIndex=e.end,n.setShape({points:s})}else{this._newAdded=[];var l=this._create();l.startIndex=e.start,l.endIndex=e.end,l.incremental=!0,l.setShape({points:o}),this._setCommon(l,t,i)}},e.prototype.eachRendered=function(e){this._newAdded[0]&&e(this._newAdded[0])},e.prototype._create=function(){var e=new Cr({cursor:"default"});return e.ignoreCoarsePointer=!0,this.group.add(e),this._newAdded.push(e),e},e.prototype._setCommon=function(e,t,i){var n=t.hostModel;i=i||{};var o=t.getVisual("symbolSize");e.setShape("size",o instanceof Array?o:[o,o]),e.softClipShape=i.clipShape||null,e.symbolProxy=(0,Vn.v5)(t.getVisual("symbol"),0,0,0,0),e.setColor=e.symbolProxy.setColor;var a=e.shape.size[0]<br;e.useStyle(n.getModel("itemStyle").getItemStyle(a?["color","shadowBlur","shadowColor"]:["color"]));var r=t.getVisual("style"),s=r&&r.fill;s&&e.setColor(s);var l=(0,y.z)(e);l.seriesIndex=n.seriesIndex,e.on("mousemove",(function(t){l.dataIndex=null;var i=e.hoverDataIdx;i>=0&&(l.dataIndex=i+(e.startIndex||0))}))},e.prototype.remove=function(){this._clear()},e.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},e}(),Ar=Sr,kr=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return(0,_e.C6)(t,e),t.prototype.render=function(e,t,i){var n=e.getData(),o=this._updateSymbolDraw(n,e);o.updateData(n,{clipShape:this._getClipShape(e)}),this._finished=!0},t.prototype.incrementalPrepareRender=function(e,t,i){var n=e.getData(),o=this._updateSymbolDraw(n,e);o.incrementalPrepareUpdate(n),this._finished=!1},t.prototype.incrementalRender=function(e,t,i){this._symbolDraw.incrementalUpdate(e,t.getData(),{clipShape:this._getClipShape(t)}),this._finished=e.end===t.getData().count()},t.prototype.updateTransform=function(e,t,i){var n=e.getData();if(this.group.dirty(),!this._finished||n.count()>1e4)return{update:!0};var o=Wo("").reset(e,t,i);o.progress&&o.progress({start:0,end:n.count(),count:n.count()},n),this._symbolDraw.updateLayout(n)},t.prototype.eachRendered=function(e){this._symbolDraw&&this._symbolDraw.eachRendered(e)},t.prototype._getClipShape=function(e){if(e.get("clip",!0)){var t=e.coordinateSystem;return t&&t.getArea&&t.getArea(.1)}},t.prototype._updateSymbolDraw=function(e,t){var i=this._symbolDraw,n=t.pipelineContext,o=n.large;return i&&o===this._isLargeDraw||(i&&i.remove(),i=this._symbolDraw=o?new Ar:new qn,this._isLargeDraw=o,this.group.removeAll()),this.group.add(i.group),i},t.prototype.remove=function(e,t){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},t.prototype.dispose=function(){},t.type="scatter",t}(a.A),Mr=kr,Ir=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,_e.C6)(t,e),t.type="grid",t.dependencies=["xAxis","yAxis"],t.layoutMode="box",t.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},t}(r.A),Tr=Ir,Dr=function(){function e(){}return e.prototype.getNeedCrossZero=function(){var e=this.option;return!e.scale},e.prototype.getCoordSysModel=function(){},e}(),Lr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,_e.C6)(t,e),t.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",g.US).models[0]},t.type="cartesian2dAxis",t}(r.A);l.co(Lr,Dr);var Pr={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},Fr=l.h1({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},Pr),Nr=l.h1({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},Pr),Rr=l.h1({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},Nr),Vr=l.NT({logBase:10},Nr),Er={category:Fr,value:Nr,time:Rr,log:Vr},Or=0,zr=function(){function e(e){this.categories=e.categories||[],this._needCollect=e.needCollect,this._deduplication=e.deduplication,this.uid=++Or}return e.createByAxisModel=function(t){var i=t.option,n=i.data,o=n&&(0,l.Tj)(n,Gr);return new e({categories:o,needCollect:!o,deduplication:!1!==i.dedplication})},e.prototype.getOrdinal=function(e){return this._getOrCreateMap().get(e)},e.prototype.parseAndCollect=function(e){var t,i=this._needCollect;if(!(0,l.Kg)(e)&&!i)return e;if(i&&!this._deduplication)return t=this.categories.length,this.categories[t]=e,t;var n=this._getOrCreateMap();return t=n.get(e),null==t&&(i?(t=this.categories.length,this.categories[t]=e,n.set(e,t)):t=NaN),t},e.prototype._getOrCreateMap=function(){return this._map||(this._map=(0,l.nt)(this.categories))},e}();function Gr(e){return(0,l.Gv)(e)&&null!=e.value?e.value:e+""}var Br=zr,Wr={value:1,category:1,time:1,log:1};function Hr(e,t,i,n){(0,l.__)(Wr,(function(o,a){var r=(0,l.h1)((0,l.h1)({},Er[a],!0),n,!0),s=function(e){function i(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t+"Axis."+a,i}return(0,_e.C6)(i,e),i.prototype.mergeDefaultAndTheme=function(e,t){var i=(0,Ya.ad)(this),n=i?(0,Ya.vs)(e):{},o=t.getTheme();(0,l.h1)(e,o.get(a+"Axis")),(0,l.h1)(e,this.getDefaultOption()),e.type=Xr(e),i&&(0,Ya.YA)(e,n,i)},i.prototype.optionUpdated=function(){var e=this.option;"category"===e.type&&(this.__ordinalMeta=Br.createByAxisModel(this))},i.prototype.getCategories=function(e){var t=this.option;if("category"===t.type)return e?t.data:this.__ordinalMeta.categories},i.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},i.type=t+"Axis."+a,i.defaultOption=r,i}(i);e.registerComponentModel(s)})),e.registerSubTypeDefaulter(t+"Axis",Xr)}function Xr(e){return e.type||(e.data?"category":"value")}var $r=i(61692),jr=function(){function e(e){this._setting=e||{},this._extent=[1/0,-1/0]}return e.prototype.getSetting=function(e){return this._setting[e]},e.prototype.unionExtent=function(e){var t=this._extent;e[0]<t[0]&&(t[0]=e[0]),e[1]>t[1]&&(t[1]=e[1])},e.prototype.unionExtentFromData=function(e,t){this.unionExtent(e.getApproximateExtent(t))},e.prototype.getExtent=function(){return this._extent.slice()},e.prototype.setExtent=function(e,t){var i=this._extent;isNaN(e)||(i[0]=e),isNaN(t)||(i[1]=t)},e.prototype.isInExtentRange=function(e){return this._extent[0]<=e&&this._extent[1]>=e},e.prototype.isBlank=function(){return this._isBlank},e.prototype.setBlank=function(e){this._isBlank=e},e}();$r.tQ(jr);var Ur=jr;function Yr(e){return"interval"===e.type||"log"===e.type}function Zr(e,t,i,n){var o={},a=e[1]-e[0],r=o.interval=(0,v.Cm)(a/t,!0);null!=i&&r<i&&(r=o.interval=i),null!=n&&r>n&&(r=o.interval=n);var s=o.intervalPrecision=Kr(r),l=o.niceTickExtent=[(0,v.LI)(Math.ceil(e[0]/r)*r,s),(0,v.LI)(Math.floor(e[1]/r)*r,s)];return Jr(l,e),o}function qr(e){var t=Math.pow(10,(0,v.NX)(e)),i=e/t;return i?2===i?i=3:3===i?i=5:i*=2:i=1,(0,v.LI)(i*t)}function Kr(e){return(0,v.XV)(e)+2}function Qr(e,t,i){e[t]=Math.max(Math.min(e[t],i[1]),i[0])}function Jr(e,t){!isFinite(e[0])&&(e[0]=t[0]),!isFinite(e[1])&&(e[1]=t[1]),Qr(e,0,t),Qr(e,1,t),e[0]>e[1]&&(e[0]=e[1])}function es(e,t){return e>=t[0]&&e<=t[1]}function ts(e,t){return t[1]===t[0]?.5:(e-t[0])/(t[1]-t[0])}function is(e,t){return e*(t[1]-t[0])+t[0]}var ns=function(e){function t(t){var i=e.call(this,t)||this;i.type="ordinal";var n=i.getSetting("ordinalMeta");return n||(n=new Br({})),(0,l.cy)(n)&&(n=new Br({categories:(0,l.Tj)(n,(function(e){return(0,l.Gv)(e)?e.value:e}))})),i._ordinalMeta=n,i._extent=i.getSetting("extent")||[0,n.categories.length-1],i}return(0,_e.C6)(t,e),t.prototype.parse=function(e){return null==e?NaN:(0,l.Kg)(e)?this._ordinalMeta.getOrdinal(e):Math.round(e)},t.prototype.contain=function(e){return e=this.parse(e),es(e,this._extent)&&null!=this._ordinalMeta.categories[e]},t.prototype.normalize=function(e){return e=this._getTickNumber(this.parse(e)),ts(e,this._extent)},t.prototype.scale=function(e){return e=Math.round(is(e,this._extent)),this.getRawOrdinalNumber(e)},t.prototype.getTicks=function(){var e=[],t=this._extent,i=t[0];while(i<=t[1])e.push({value:i}),i++;return e},t.prototype.getMinorTicks=function(e){},t.prototype.setSortInfo=function(e){if(null!=e){for(var t=e.ordinalNumbers,i=this._ordinalNumbersByTick=[],n=this._ticksByOrdinalNumber=[],o=0,a=this._ordinalMeta.categories.length,r=Math.min(a,t.length);o<r;++o){var s=t[o];i[o]=s,n[s]=o}for(var l=0;o<a;++o){while(null!=n[l])l++;i.push(l),n[l]=o}}else this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null},t.prototype._getTickNumber=function(e){var t=this._ticksByOrdinalNumber;return t&&e>=0&&e<t.length?t[e]:e},t.prototype.getRawOrdinalNumber=function(e){var t=this._ordinalNumbersByTick;return t&&e>=0&&e<t.length?t[e]:e},t.prototype.getLabel=function(e){if(!this.isBlank()){var t=this.getRawOrdinalNumber(e.value),i=this._ordinalMeta.categories[t];return null==i?"":i+""}},t.prototype.count=function(){return this._extent[1]-this._extent[0]+1},t.prototype.unionExtentFromData=function(e,t){this.unionExtent(e.getApproximateExtent(t))},t.prototype.isInExtentRange=function(e){return e=this._getTickNumber(e),this._extent[0]<=e&&this._extent[1]>=e},t.prototype.getOrdinalMeta=function(){return this._ordinalMeta},t.prototype.calcNiceTicks=function(){},t.prototype.calcNiceExtent=function(){},t.type="ordinal",t}(Ur);Ur.registerClass(ns);var os=ns,as=v.LI,rs=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="interval",t._interval=0,t._intervalPrecision=2,t}return(0,_e.C6)(t,e),t.prototype.parse=function(e){return e},t.prototype.contain=function(e){return es(e,this._extent)},t.prototype.normalize=function(e){return ts(e,this._extent)},t.prototype.scale=function(e){return is(e,this._extent)},t.prototype.setExtent=function(e,t){var i=this._extent;isNaN(e)||(i[0]=parseFloat(e)),isNaN(t)||(i[1]=parseFloat(t))},t.prototype.unionExtent=function(e){var t=this._extent;e[0]<t[0]&&(t[0]=e[0]),e[1]>t[1]&&(t[1]=e[1]),this.setExtent(t[0],t[1])},t.prototype.getInterval=function(){return this._interval},t.prototype.setInterval=function(e){this._interval=e,this._niceExtent=this._extent.slice(),this._intervalPrecision=Kr(e)},t.prototype.getTicks=function(e){var t=this._interval,i=this._extent,n=this._niceExtent,o=this._intervalPrecision,a=[];if(!t)return a;var r=1e4;i[0]<n[0]&&(e?a.push({value:as(n[0]-t,o)}):a.push({value:i[0]}));var s=n[0];while(s<=n[1]){if(a.push({value:s}),s=as(s+t,o),s===a[a.length-1].value)break;if(a.length>r)return[]}var l=a.length?a[a.length-1].value:n[1];return i[1]>l&&(e?a.push({value:as(l+t,o)}):a.push({value:i[1]})),a},t.prototype.getMinorTicks=function(e){for(var t=this.getTicks(!0),i=[],n=this.getExtent(),o=1;o<t.length;o++){var a=t[o],r=t[o-1],s=0,l=[],u=a.value-r.value,c=u/e;while(s<e-1){var d=as(r.value+(s+1)*c);d>n[0]&&d<n[1]&&l.push(d),s++}i.push(l)}return i},t.prototype.getLabel=function(e,t){if(null==e)return"";var i=t&&t.precision;null==i?i=v.XV(e.value)||0:"auto"===i&&(i=this._intervalPrecision);var n=as(e.value,i,!0);return bo.ob(n)},t.prototype.calcNiceTicks=function(e,t,i){e=e||5;var n=this._extent,o=n[1]-n[0];if(isFinite(o)){o<0&&(o=-o,n.reverse());var a=Zr(n,e,t,i);this._intervalPrecision=a.intervalPrecision,this._interval=a.interval,this._niceExtent=a.niceTickExtent}},t.prototype.calcNiceExtent=function(e){var t=this._extent;if(t[0]===t[1])if(0!==t[0]){var i=Math.abs(t[0]);e.fixMax||(t[1]+=i/2),t[0]-=i/2}else t[1]=1;var n=t[1]-t[0];isFinite(n)||(t[0]=0,t[1]=1),this.calcNiceTicks(e.splitNumber,e.minInterval,e.maxInterval);var o=this._interval;e.fixMin||(t[0]=as(Math.floor(t[0]/o)*o)),e.fixMax||(t[1]=as(Math.ceil(t[1]/o)*o))},t.prototype.setNiceExtent=function(e,t){this._niceExtent=[e,t]},t.type="interval",t}(Ur);Ur.registerClass(rs);var ss=rs,ls=i(14693),us=function(e,t,i,n){while(i<n){var o=i+n>>>1;e[o][1]<t?i=o+1:n=o}return i},cs=function(e){function t(t){var i=e.call(this,t)||this;return i.type="time",i}return(0,_e.C6)(t,e),t.prototype.getLabel=function(e){var t=this.getSetting("useUTC");return(0,ls.GP)(e.value,ls.Lm[(0,ls.$9)((0,ls.ym)(this._minLevelUnit))]||ls.Lm.second,t,this.getSetting("locale"))},t.prototype.getFormattedLabel=function(e,t,i){var n=this.getSetting("useUTC"),o=this.getSetting("locale");return(0,ls.X_)(e,t,i,o,n)},t.prototype.getTicks=function(){var e=this._interval,t=this._extent,i=[];if(!e)return i;i.push({value:t[0],level:0});var n=this.getSetting("useUTC"),o=_s(this._minLevelUnit,this._approxInterval,n,t);return i=i.concat(o),i.push({value:t[1],level:0}),i},t.prototype.calcNiceExtent=function(e){var t=this._extent;if(t[0]===t[1]&&(t[0]-=ls.CZ,t[1]+=ls.CZ),t[1]===-1/0&&t[0]===1/0){var i=new Date;t[1]=+new Date(i.getFullYear(),i.getMonth(),i.getDate()),t[0]=t[1]-ls.CZ}this.calcNiceTicks(e.splitNumber,e.minInterval,e.maxInterval)},t.prototype.calcNiceTicks=function(e,t,i){e=e||10;var n=this._extent,o=n[1]-n[0];this._approxInterval=o/e,null!=t&&this._approxInterval<t&&(this._approxInterval=t),null!=i&&this._approxInterval>i&&(this._approxInterval=i);var a=ds.length,r=Math.min(us(ds,this._approxInterval,0,a),a-1);this._interval=ds[r][1],this._minLevelUnit=ds[Math.max(r-1,0)][0]},t.prototype.parse=function(e){return(0,l.Et)(e)?e:+v._U(e)},t.prototype.contain=function(e){return es(this.parse(e),this._extent)},t.prototype.normalize=function(e){return ts(this.parse(e),this._extent)},t.prototype.scale=function(e){return is(e,this._extent)},t.type="time",t}(ss),ds=[["second",ls.OY],["minute",ls.iW],["hour",ls.MA],["quarter-day",6*ls.MA],["half-day",12*ls.MA],["day",1.2*ls.CZ],["half-week",3.5*ls.CZ],["week",7*ls.CZ],["month",31*ls.CZ],["quarter",95*ls.CZ],["half-year",ls.$H/2],["year",ls.$H]];function hs(e,t,i,n){var o=v._U(t),a=v._U(i),r=function(e){return(0,ls.g0)(o,e,n)===(0,ls.g0)(a,e,n)},s=function(){return r("year")},l=function(){return s()&&r("month")},u=function(){return l()&&r("day")},c=function(){return u()&&r("hour")},d=function(){return c()&&r("minute")},h=function(){return d()&&r("second")},p=function(){return h()&&r("millisecond")};switch(e){case"year":return s();case"month":return l();case"day":return u();case"hour":return c();case"minute":return d();case"second":return h();case"millisecond":return p()}}function ps(e,t){return e/=ls.CZ,e>16?16:e>7.5?7:e>3.5?4:e>1.5?2:1}function gs(e){var t=30*ls.CZ;return e/=t,e>6?6:e>3?3:e>2?2:1}function fs(e){return e/=ls.MA,e>12?12:e>6?6:e>3.5?4:e>2?2:1}function ms(e,t){return e/=t?ls.iW:ls.OY,e>30?30:e>20?20:e>15?15:e>10?10:e>5?5:e>2?2:1}function ys(e){return v.Cm(e,!0)}function vs(e,t,i){var n=new Date(e);switch((0,ls.ym)(t)){case"year":case"month":n[(0,ls.xu)(i)](0);case"day":n[(0,ls.ti)(i)](1);case"hour":n[(0,ls.Yd)(i)](0);case"minute":n[(0,ls.KF)(i)](0);case"second":n[(0,ls.ww)(i)](0),n[(0,ls.FP)(i)](0)}return n.getTime()}function _s(e,t,i,n){var o=1e4,a=ls.F7,r=0;function s(e,t,i,o,a,r,s){var l=new Date(t),u=t,c=l[o]();while(u<i&&u<=n[1])s.push({value:u}),c+=e,l[a](c),u=l.getTime();s.push({value:u,notAdd:!0})}function u(e,o,a){var r=[],l=!o.length;if(!hs((0,ls.ym)(e),n[0],n[1],i)){l&&(o=[{value:vs(new Date(n[0]),e,i)},{value:n[1]}]);for(var u=0;u<o.length-1;u++){var c=o[u].value,d=o[u+1].value;if(c!==d){var h=void 0,p=void 0,g=void 0,f=!1;switch(e){case"year":h=Math.max(1,Math.round(t/ls.CZ/365)),p=(0,ls.hY)(i),g=(0,ls.tM)(i);break;case"half-year":case"quarter":case"month":h=gs(t),p=(0,ls.jJ)(i),g=(0,ls.xu)(i);break;case"week":case"half-week":case"day":h=ps(t,31),p=(0,ls.bP)(i),g=(0,ls.ti)(i),f=!0;break;case"half-day":case"quarter-day":case"hour":h=fs(t),p=(0,ls.iC)(i),g=(0,ls.Yd)(i);break;case"minute":h=ms(t,!0),p=(0,ls.yB)(i),g=(0,ls.KF)(i);break;case"second":h=ms(t,!1),p=(0,ls.Wf)(i),g=(0,ls.ww)(i);break;case"millisecond":h=ys(t),p=(0,ls.Zz)(i),g=(0,ls.FP)(i);break}s(h,c,d,p,g,f,r),"year"===e&&a.length>1&&0===u&&a.unshift({value:a[0].value-h})}}for(u=0;u<r.length;u++)a.push(r[u]);return r}}for(var c=[],d=[],h=0,p=0,g=0;g<a.length&&r++<o;++g){var f=(0,ls.ym)(a[g]);if((0,ls.ce)(a[g])){u(a[g],c[c.length-1]||[],d);var m=a[g+1]?(0,ls.ym)(a[g+1]):null;if(f!==m){if(d.length){p=h,d.sort((function(e,t){return e.value-t.value}));for(var y=[],v=0;v<d.length;++v){var _=d[v].value;0!==v&&d[v-1].value===_||(y.push(d[v]),_>=n[0]&&_<=n[1]&&h++)}var x=(n[1]-n[0])/t;if(h>1.5*x&&p>x/1.5)break;if(c.push(y),h>x||e===a[g])break}d=[]}}}var b=(0,l.pb)((0,l.Tj)(c,(function(e){return(0,l.pb)(e,(function(e){return e.value>=n[0]&&e.value<=n[1]&&!e.notAdd}))})),(function(e){return e.length>0})),w=[],C=b.length-1;for(g=0;g<b.length;++g)for(var S=b[g],A=0;A<S.length;++A)w.push({value:S[A].value,level:C-g});w.sort((function(e,t){return e.value-t.value}));var k=[];for(g=0;g<w.length;++g)0!==g&&w[g].value===w[g-1].value||k.push(w[g]);return k}Ur.registerClass(cs);var xs=cs,bs=Ur.prototype,ws=ss.prototype,Cs=v.LI,Ss=Math.floor,As=Math.ceil,ks=Math.pow,Ms=Math.log,Is=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="log",t.base=10,t._originalScale=new ss,t._interval=0,t}return(0,_e.C6)(t,e),t.prototype.getTicks=function(e){var t=this._originalScale,i=this._extent,n=t.getExtent(),o=ws.getTicks.call(this,e);return l.Tj(o,(function(e){var t=e.value,o=v.LI(ks(this.base,t));return o=t===i[0]&&this._fixMin?Ds(o,n[0]):o,o=t===i[1]&&this._fixMax?Ds(o,n[1]):o,{value:o}}),this)},t.prototype.setExtent=function(e,t){var i=Ms(this.base);e=Ms(Math.max(0,e))/i,t=Ms(Math.max(0,t))/i,ws.setExtent.call(this,e,t)},t.prototype.getExtent=function(){var e=this.base,t=bs.getExtent.call(this);t[0]=ks(e,t[0]),t[1]=ks(e,t[1]);var i=this._originalScale,n=i.getExtent();return this._fixMin&&(t[0]=Ds(t[0],n[0])),this._fixMax&&(t[1]=Ds(t[1],n[1])),t},t.prototype.unionExtent=function(e){this._originalScale.unionExtent(e);var t=this.base;e[0]=Ms(e[0])/Ms(t),e[1]=Ms(e[1])/Ms(t),bs.unionExtent.call(this,e)},t.prototype.unionExtentFromData=function(e,t){this.unionExtent(e.getApproximateExtent(t))},t.prototype.calcNiceTicks=function(e){e=e||10;var t=this._extent,i=t[1]-t[0];if(!(i===1/0||i<=0)){var n=v.au(i),o=e/i*n;o<=.5&&(n*=10);while(!isNaN(n)&&Math.abs(n)<1&&Math.abs(n)>0)n*=10;var a=[v.LI(As(t[0]/n)*n),v.LI(Ss(t[1]/n)*n)];this._interval=n,this._niceExtent=a}},t.prototype.calcNiceExtent=function(e){ws.calcNiceExtent.call(this,e),this._fixMin=e.fixMin,this._fixMax=e.fixMax},t.prototype.parse=function(e){return e},t.prototype.contain=function(e){return e=Ms(e)/Ms(this.base),es(e,this._extent)},t.prototype.normalize=function(e){return e=Ms(e)/Ms(this.base),ts(e,this._extent)},t.prototype.scale=function(e){return e=is(e,this._extent),ks(this.base,e)},t.type="log",t}(Ur),Ts=Is.prototype;function Ds(e,t){return Cs(e,v.XV(t))}Ts.getMinorTicks=ws.getMinorTicks,Ts.getLabel=ws.getLabel,Ur.registerClass(Is);var Ls=Is,Ps=function(){function e(e,t,i){this._prepareParams(e,t,i)}return e.prototype._prepareParams=function(e,t,i){i[1]<i[0]&&(i=[NaN,NaN]),this._dataMin=i[0],this._dataMax=i[1];var n=this._isOrdinal="ordinal"===e.type;this._needCrossZero="interval"===e.type&&t.getNeedCrossZero&&t.getNeedCrossZero();var o=t.get("min",!0);null==o&&(o=t.get("startValue",!0));var a=this._modelMinRaw=o;(0,l.Tn)(a)?this._modelMinNum=Vs(e,a({min:i[0],max:i[1]})):"dataMin"!==a&&(this._modelMinNum=Vs(e,a));var r=this._modelMaxRaw=t.get("max",!0);if((0,l.Tn)(r)?this._modelMaxNum=Vs(e,r({min:i[0],max:i[1]})):"dataMax"!==r&&(this._modelMaxNum=Vs(e,r)),n)this._axisDataLen=t.getCategories().length;else{var s=t.get("boundaryGap"),u=(0,l.cy)(s)?s:[s||0,s||0];"boolean"===typeof u[0]||"boolean"===typeof u[1]?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[(0,Be.lo)(u[0],1),(0,Be.lo)(u[1],1)]}},e.prototype.calculate=function(){var e=this._isOrdinal,t=this._dataMin,i=this._dataMax,n=this._axisDataLen,o=this._boundaryGapInner,a=e?null:i-t||Math.abs(t),r="dataMin"===this._modelMinRaw?t:this._modelMinNum,s="dataMax"===this._modelMaxRaw?i:this._modelMaxNum,u=null!=r,c=null!=s;null==r&&(r=e?n?0:NaN:t-o[0]*a),null==s&&(s=e?n?n-1:NaN:i+o[1]*a),(null==r||!isFinite(r))&&(r=NaN),(null==s||!isFinite(s))&&(s=NaN);var d=(0,l.Yp)(r)||(0,l.Yp)(s)||e&&!n;this._needCrossZero&&(r>0&&s>0&&!u&&(r=0),r<0&&s<0&&!c&&(s=0));var h=this._determinedMin,p=this._determinedMax;return null!=h&&(r=h,u=!0),null!=p&&(s=p,c=!0),{min:r,max:s,minFixed:u,maxFixed:c,isBlank:d}},e.prototype.modifyDataMinMax=function(e,t){this[Ns[e]]=t},e.prototype.setDeterminedMinMax=function(e,t){var i=Fs[e];this[i]=t},e.prototype.freeze=function(){this.frozen=!0},e}(),Fs={min:"_determinedMin",max:"_determinedMax"},Ns={min:"_dataMin",max:"_dataMax"};function Rs(e,t,i){var n=e.rawExtentInfo;return n||(n=new Ps(e,t,i),e.rawExtentInfo=n,n)}function Vs(e,t){return null==t?null:(0,l.Yp)(t)?NaN:e.parse(t)}function Es(e,t){var i=e.type,n=Rs(e,t,e.getExtent()).calculate();e.setBlank(n.isBlank);var o=n.min,a=n.max,r=t.ecModel;if(r&&"time"===i){var s=Ko("bar",r),u=!1;if(l.__(s,(function(e){u=u||e.getBaseAxis()===t.axis})),u){var c=Jo(s),d=Os(o,a,t,c);o=d.min,a=d.max}}return{extent:[o,a],fixMin:n.minFixed,fixMax:n.maxFixed}}function Os(e,t,i,n){var o=i.axis.getExtent(),a=o[1]-o[0],r=ta(n,i.axis);if(void 0===r)return{min:e,max:t};var s=1/0;l.__(r,(function(e){s=Math.min(e.offset,s)}));var u=-1/0;l.__(r,(function(e){u=Math.max(e.offset+e.width,u)})),s=Math.abs(s),u=Math.abs(u);var c=s+u,d=t-e,h=1-(s+u)/a,p=d/h-d;return t+=p*(u/c),e-=p*(s/c),{min:e,max:t}}function zs(e,t){var i=t,n=Es(e,i),o=n.extent,a=i.get("splitNumber");e instanceof Ls&&(e.base=i.get("logBase"));var r=e.type,s=i.get("interval"),l="interval"===r||"time"===r;e.setExtent(o[0],o[1]),e.calcNiceExtent({splitNumber:a,fixMin:n.fixMin,fixMax:n.fixMax,minInterval:l?i.get("minInterval"):null,maxInterval:l?i.get("maxInterval"):null}),null!=s&&e.setInterval&&e.setInterval(s)}function Gs(e,t){if(t=t||e.get("type"),t)switch(t){case"category":return new os({ordinalMeta:e.getOrdinalMeta?e.getOrdinalMeta():e.getCategories(),extent:[1/0,-1/0]});case"time":return new xs({locale:e.ecModel.getLocaleModel(),useUTC:e.ecModel.get("useUTC")});default:return new(Ur.getClass(t)||ss)}}function Bs(e){var t=e.scale.getExtent(),i=t[0],n=t[1];return!(i>0&&n>0||i<0&&n<0)}function Ws(e){var t=e.getLabelModel().get("formatter"),i="category"===e.type?e.scale.getExtent()[0]:null;return"time"===e.scale.type?function(t){return function(i,n){return e.scale.getFormattedLabel(i,n,t)}}(t):l.Kg(t)?function(t){return function(i){var n=e.scale.getLabel(i),o=t.replace("{value}",null!=n?n:"");return o}}(t):l.Tn(t)?function(t){return function(n,o){return null!=i&&(o=n.value-i),t(Hs(e,n),o,null!=n.level?{level:n.level}:null)}}(t):function(t){return e.scale.getLabel(t)}}function Hs(e,t){return"category"===e.type?e.scale.getLabel(t):t.value}function Xs(e){var t=e.model,i=e.scale;if(t.get(["axisLabel","show"])&&!i.isBlank()){var n,o,a=i.getExtent();i instanceof os?o=i.count():(n=i.getTicks(),o=n.length);var r,s=e.getLabelModel(),l=Ws(e),u=1;o>40&&(u=Math.ceil(o/40));for(var c=0;c<o;c+=u){var d=n?n[c]:{value:a[0]+c},h=l(d,c),p=s.getTextRect(h),g=$s(p,s.get("rotate")||0);r?r.union(g):r=g}return r}}function $s(e,t){var i=t*Math.PI/180,n=e.width,o=e.height,a=n*Math.abs(Math.cos(i))+Math.abs(o*Math.sin(i)),r=n*Math.abs(Math.sin(i))+Math.abs(o*Math.cos(i)),s=new f.A(e.x,e.y,a,r);return s}function js(e){var t=e.get("interval");return null==t?"auto":t}function Us(e){return"category"===e.type&&0===js(e.getLabelModel())}function Ys(e,t){var i={};return l.__(e.mapDimensionsAll(t),(function(t){i[Tn(e,t)]=!0})),l.HP(i)}function Zs(e,t,i){t&&l.__(Ys(t,i),(function(i){var n=t.getApproximateExtent(i);n[0]<e[0]&&(e[0]=n[0]),n[1]>e[1]&&(e[1]=n[1])}))}var qs=function(){function e(e){this.type="cartesian",this._dimList=[],this._axes={},this.name=e||""}return e.prototype.getAxis=function(e){return this._axes[e]},e.prototype.getAxes=function(){return l.Tj(this._dimList,(function(e){return this._axes[e]}),this)},e.prototype.getAxesByScale=function(e){return e=e.toLowerCase(),l.pb(this.getAxes(),(function(t){return t.scale.type===e}))},e.prototype.addAxis=function(e){var t=e.dim;this._axes[t]=e,this._dimList.push(t)},e}(),Ks=qs,Qs=["x","y"];function Js(e){return"interval"===e.type||"time"===e.type}var el=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="cartesian2d",t.dimensions=Qs,t}return(0,_e.C6)(t,e),t.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var e=this.getAxis("x").scale,t=this.getAxis("y").scale;if(Js(e)&&Js(t)){var i=e.getExtent(),n=t.getExtent(),o=this.dataToPoint([i[0],n[0]]),a=this.dataToPoint([i[1],n[1]]),r=i[1]-i[0],s=n[1]-n[0];if(r&&s){var l=(a[0]-o[0])/r,u=(a[1]-o[1])/s,c=o[0]-i[0]*l,d=o[1]-n[0]*u,h=this._transform=[l,0,0,u,c,d];this._invTransform=(0,k.B8)([],h)}}},t.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},t.prototype.containPoint=function(e){var t=this.getAxis("x"),i=this.getAxis("y");return t.contain(t.toLocalCoord(e[0]))&&i.contain(i.toLocalCoord(e[1]))},t.prototype.containData=function(e){return this.getAxis("x").containData(e[0])&&this.getAxis("y").containData(e[1])},t.prototype.containZone=function(e,t){var i=this.dataToPoint(e),n=this.dataToPoint(t),o=this.getArea(),a=new f.A(i[0],i[1],n[0]-i[0],n[1]-i[1]);return o.intersect(a)},t.prototype.dataToPoint=function(e,t,i){i=i||[];var n=e[0],o=e[1];if(this._transform&&null!=n&&isFinite(n)&&null!=o&&isFinite(o))return(0,M.NW)(i,e,this._transform);var a=this.getAxis("x"),r=this.getAxis("y");return i[0]=a.toGlobalCoord(a.dataToCoord(n,t)),i[1]=r.toGlobalCoord(r.dataToCoord(o,t)),i},t.prototype.clampData=function(e,t){var i=this.getAxis("x").scale,n=this.getAxis("y").scale,o=i.getExtent(),a=n.getExtent(),r=i.parse(e[0]),s=n.parse(e[1]);return t=t||[],t[0]=Math.min(Math.max(Math.min(o[0],o[1]),r),Math.max(o[0],o[1])),t[1]=Math.min(Math.max(Math.min(a[0],a[1]),s),Math.max(a[0],a[1])),t},t.prototype.pointToData=function(e,t){var i=[];if(this._invTransform)return(0,M.NW)(i,e,this._invTransform);var n=this.getAxis("x"),o=this.getAxis("y");return i[0]=n.coordToData(n.toLocalCoord(e[0]),t),i[1]=o.coordToData(o.toLocalCoord(e[1]),t),i},t.prototype.getOtherAxis=function(e){return this.getAxis("x"===e.dim?"y":"x")},t.prototype.getArea=function(e){e=e||0;var t=this.getAxis("x").getGlobalExtent(),i=this.getAxis("y").getGlobalExtent(),n=Math.min(t[0],t[1])-e,o=Math.min(i[0],i[1])-e,a=Math.max(t[0],t[1])-n+e,r=Math.max(i[0],i[1])-o+e;return new f.A(n,o,a,r)},t}(Ks),tl=el,il=(0,g.$r)();function nl(e,t){var i=l.Tj(t,(function(t){return e.scale.parse(t)}));return"time"===e.type&&i.length>0&&(i.sort(),i.unshift(i[0]),i.push(i[i.length-1])),i}function ol(e){var t=e.getLabelModel().get("customValues");if(t){var i=Ws(e);return{labels:nl(e,t).map((function(t){var n={value:t};return{formattedLabel:i(n),rawLabel:e.scale.getLabel(n),tickValue:t}}))}}return"category"===e.type?rl(e):ul(e)}function al(e,t){var i=e.getTickModel().get("customValues");return i?{ticks:nl(e,i)}:"category"===e.type?ll(e,t):{ticks:l.Tj(e.scale.getTicks(),(function(e){return e.value}))}}function rl(e){var t=e.getLabelModel(),i=sl(e,t);return!t.get("show")||e.scale.isBlank()?{labels:[],labelCategoryInterval:i.labelCategoryInterval}:i}function sl(e,t){var i,n,o=cl(e,"labels"),a=js(t),r=dl(o,a);return r||(l.Tn(a)?i=yl(e,a):(n="auto"===a?pl(e):a,i=ml(e,n)),hl(o,a,{labels:i,labelCategoryInterval:n}))}function ll(e,t){var i,n,o=cl(e,"ticks"),a=js(t),r=dl(o,a);if(r)return r;if(t.get("show")&&!e.scale.isBlank()||(i=[]),l.Tn(a))i=yl(e,a,!0);else if("auto"===a){var s=sl(e,e.getLabelModel());n=s.labelCategoryInterval,i=l.Tj(s.labels,(function(e){return e.tickValue}))}else n=a,i=ml(e,n,!0);return hl(o,a,{ticks:i,tickCategoryInterval:n})}function ul(e){var t=e.scale.getTicks(),i=Ws(e);return{labels:l.Tj(t,(function(t,n){return{level:t.level,formattedLabel:i(t,n),rawLabel:e.scale.getLabel(t),tickValue:t.value}}))}}function cl(e,t){return il(e)[t]||(il(e)[t]=[])}function dl(e,t){for(var i=0;i<e.length;i++)if(e[i].key===t)return e[i].value}function hl(e,t,i){return e.push({key:t,value:i}),i}function pl(e){var t=il(e).autoInterval;return null!=t?t:il(e).autoInterval=e.calculateCategoryInterval()}function gl(e){var t=fl(e),i=Ws(e),n=(t.axisRotate-t.labelRotate)/180*Math.PI,o=e.scale,a=o.getExtent(),r=o.count();if(a[1]-a[0]<1)return 0;var s=1;r>40&&(s=Math.max(1,Math.floor(r/40)));for(var l=a[0],u=e.dataToCoord(l+1)-e.dataToCoord(l),c=Math.abs(u*Math.cos(n)),d=Math.abs(u*Math.sin(n)),h=0,p=0;l<=a[1];l+=s){var g=0,f=0,m=Be.NO(i({value:l}),t.font,"center","top");g=1.3*m.width,f=1.3*m.height,h=Math.max(h,g,7),p=Math.max(p,f,7)}var y=h/c,v=p/d;isNaN(y)&&(y=1/0),isNaN(v)&&(v=1/0);var _=Math.max(0,Math.floor(Math.min(y,v))),x=il(e.model),b=e.getExtent(),w=x.lastAutoInterval,C=x.lastTickCount;return null!=w&&null!=C&&Math.abs(w-_)<=1&&Math.abs(C-r)<=1&&w>_&&x.axisExtent0===b[0]&&x.axisExtent1===b[1]?_=w:(x.lastTickCount=r,x.lastAutoInterval=_,x.axisExtent0=b[0],x.axisExtent1=b[1]),_}function fl(e){var t=e.getLabelModel();return{axisRotate:e.getRotate?e.getRotate():e.isHorizontal&&!e.isHorizontal()?90:0,labelRotate:t.get("rotate")||0,font:t.getFont()}}function ml(e,t,i){var n=Ws(e),o=e.scale,a=o.getExtent(),r=e.getLabelModel(),s=[],l=Math.max((t||0)+1,1),u=a[0],c=o.count();0!==u&&l>1&&c/l>2&&(u=Math.round(Math.ceil(u/l)*l));var d=Us(e),h=r.get("showMinLabel")||d,p=r.get("showMaxLabel")||d;h&&u!==a[0]&&f(a[0]);for(var g=u;g<=a[1];g+=l)f(g);function f(e){var t={value:e};s.push(i?e:{formattedLabel:n(t),rawLabel:o.getLabel(t),tickValue:e})}return p&&g-l!==a[1]&&f(a[1]),s}function yl(e,t,i){var n=e.scale,o=Ws(e),a=[];return l.__(n.getTicks(),(function(e){var r=n.getLabel(e),s=e.value;t(e.value,r)&&a.push(i?s:{formattedLabel:o(e),rawLabel:r,tickValue:s})})),a}var vl=[0,1],_l=function(){function e(e,t,i){this.onBand=!1,this.inverse=!1,this.dim=e,this.scale=t,this._extent=i||[0,0]}return e.prototype.contain=function(e){var t=this._extent,i=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]);return e>=i&&e<=n},e.prototype.containData=function(e){return this.scale.contain(e)},e.prototype.getExtent=function(){return this._extent.slice()},e.prototype.getPixelPrecision=function(e){return(0,v.hb)(e||this.scale.getExtent(),this._extent)},e.prototype.setExtent=function(e,t){var i=this._extent;i[0]=e,i[1]=t},e.prototype.dataToCoord=function(e,t){var i=this._extent,n=this.scale;return e=n.normalize(e),this.onBand&&"ordinal"===n.type&&(i=i.slice(),xl(i,n.count())),(0,v.Cb)(e,vl,i,t)},e.prototype.coordToData=function(e,t){var i=this._extent,n=this.scale;this.onBand&&"ordinal"===n.type&&(i=i.slice(),xl(i,n.count()));var o=(0,v.Cb)(e,i,vl,t);return this.scale.scale(o)},e.prototype.pointToData=function(e,t){},e.prototype.getTicksCoords=function(e){e=e||{};var t=e.tickModel||this.getTickModel(),i=al(this,t),n=i.ticks,o=(0,l.Tj)(n,(function(e){return{coord:this.dataToCoord("ordinal"===this.scale.type?this.scale.getRawOrdinalNumber(e):e),tickValue:e}}),this),a=t.get("alignWithLabel");return bl(this,o,a,e.clamp),o},e.prototype.getMinorTicksCoords=function(){if("ordinal"===this.scale.type)return[];var e=this.model.getModel("minorTick"),t=e.get("splitNumber");t>0&&t<100||(t=5);var i=this.scale.getMinorTicks(t),n=(0,l.Tj)(i,(function(e){return(0,l.Tj)(e,(function(e){return{coord:this.dataToCoord(e),tickValue:e}}),this)}),this);return n},e.prototype.getViewLabels=function(){return ol(this).labels},e.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},e.prototype.getTickModel=function(){return this.model.getModel("axisTick")},e.prototype.getBandWidth=function(){var e=this._extent,t=this.scale.getExtent(),i=t[1]-t[0]+(this.onBand?1:0);0===i&&(i=1);var n=Math.abs(e[1]-e[0]);return Math.abs(n)/i},e.prototype.calculateCategoryInterval=function(){return gl(this)},e}();function xl(e,t){var i=e[1]-e[0],n=t,o=i/n/2;e[0]+=o,e[1]-=o}function bl(e,t,i,n){var o=t.length;if(e.onBand&&!i&&o){var a,r,s=e.getExtent();if(1===o)t[0].coord=s[0],a=t[1]={coord:s[1]};else{var u=t[o-1].tickValue-t[0].tickValue,c=(t[o-1].coord-t[0].coord)/u;(0,l.__)(t,(function(e){e.coord-=c/2}));var d=e.scale.getExtent();r=1+d[1]-t[o-1].tickValue,a={coord:t[o-1].coord+c*r},t.push(a)}var h=s[0]>s[1];p(t[0].coord,s[0])&&(n?t[0].coord=s[0]:t.shift()),n&&p(s[0],t[0].coord)&&t.unshift({coord:s[0]}),p(s[1],a.coord)&&(n?a.coord=s[1]:t.pop()),n&&p(a.coord,s[1])&&t.push({coord:s[1]})}function p(e,t){return e=(0,v.LI)(e),t=(0,v.LI)(t),h?e>t:e<t}}var wl=_l,Cl=function(e){function t(t,i,n,o,a){var r=e.call(this,t,i,n)||this;return r.index=0,r.type=o||"value",r.position=a||"bottom",r}return(0,_e.C6)(t,e),t.prototype.isHorizontal=function(){var e=this.position;return"top"===e||"bottom"===e},t.prototype.getGlobalExtent=function(e){var t=this.getExtent();return t[0]=this.toGlobalCoord(t[0]),t[1]=this.toGlobalCoord(t[1]),e&&t[0]>t[1]&&t.reverse(),t},t.prototype.pointToData=function(e,t){return this.coordToData(this.toLocalCoord(e["x"===this.dim?0:1]),t)},t.prototype.setCategorySortInfo=function(e){if("category"!==this.type)return!1;this.model.option.categorySortInfo=e,this.scale.setSortInfo(e)},t}(wl),Sl=Cl;function Al(e,t,i){i=i||{};var n=e.coordinateSystem,o=t.axis,a={},r=o.getAxesOnZeroOf()[0],s=o.position,u=r?"onZero":s,c=o.dim,d=n.getRect(),h=[d.x,d.x+d.width,d.y,d.y+d.height],p={left:0,right:1,top:0,bottom:1,onZero:2},g=t.get("offset")||0,f="x"===c?[h[2]-g,h[3]+g]:[h[0]-g,h[1]+g];if(r){var m=r.toGlobalCoord(r.dataToCoord(0));f[p.onZero]=Math.max(Math.min(m,f[1]),f[0])}a.position=["y"===c?f[p[u]]:h[0],"x"===c?f[p[u]]:h[3]],a.rotation=Math.PI/2*("x"===c?0:1);var y={top:-1,bottom:1,left:-1,right:1};a.labelDirection=a.tickDirection=a.nameDirection=y[s],a.labelOffset=r?f[p[s]]-f[p.onZero]:0,t.get(["axisTick","inside"])&&(a.tickDirection=-a.tickDirection),l.Je(i.labelInside,t.get(["axisLabel","inside"]))&&(a.labelDirection=-a.labelDirection);var v=t.get(["axisLabel","rotate"]);return a.labelRotate="top"===u?-v:v,a.z2=1,a}function kl(e){return"cartesian2d"===e.get("coordinateSystem")}function Ml(e){var t={xAxisModel:null,yAxisModel:null};return l.__(t,(function(i,n){var o=n.replace(/Model$/,""),a=e.getReferringComponents(o,g.US).models[0];t[n]=a})),t}var Il=Math.log;function Tl(e,t,i){var n=ss.prototype,o=n.getTicks.call(i),a=n.getTicks.call(i,!0),r=o.length-1,s=n.getInterval.call(i),l=Es(e,t),u=l.extent,c=l.fixMin,d=l.fixMax;if("log"===e.type){var h=Il(e.base);u=[Il(u[0])/h,Il(u[1])/h]}e.setExtent(u[0],u[1]),e.calcNiceExtent({splitNumber:r,fixMin:c,fixMax:d});var p=n.getExtent.call(e);c&&(u[0]=p[0]),d&&(u[1]=p[1]);var g=n.getInterval.call(e),f=u[0],m=u[1];if(c&&d)g=(m-f)/r;else if(c){m=u[0]+g*r;while(m<u[1]&&isFinite(m)&&isFinite(u[1]))g=qr(g),m=u[0]+g*r}else if(d){f=u[1]-g*r;while(f>u[0]&&isFinite(f)&&isFinite(u[0]))g=qr(g),f=u[1]-g*r}else{var y=e.getTicks().length-1;y>r&&(g=qr(g));var _=g*r;m=Math.ceil(u[1]/g)*g,f=(0,v.LI)(m-_),f<0&&u[0]>=0?(f=0,m=(0,v.LI)(_)):m>0&&u[1]<=0&&(m=0,f=-(0,v.LI)(_))}var x=(o[0].value-a[0].value)/s,b=(o[r].value-a[r].value)/s;n.setExtent.call(e,f+g*x,m+g*b),n.setInterval.call(e,g),(x||b)&&n.setNiceExtent.call(e,f+g,m-g)}var Dl=function(){function e(e,t,i){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=Qs,this._initCartesian(e,t,i),this.model=e}return e.prototype.getRect=function(){return this._rect},e.prototype.update=function(e,t){var i=this._axesMap;function n(e){var t,i=(0,l.HP)(e),n=i.length;if(n){for(var o=[],a=n-1;a>=0;a--){var r=+i[a],s=e[r],u=s.model,c=s.scale;Yr(c)&&u.get("alignTicks")&&null==u.get("interval")?o.push(s):(zs(c,u),Yr(c)&&(t=s))}o.length&&(t||(t=o.pop(),zs(t.scale,t.model)),(0,l.__)(o,(function(e){Tl(e.scale,e.model,t.scale)})))}}this._updateScale(e,this.model),n(i.x),n(i.y);var o={};(0,l.__)(i.x,(function(e){Pl(i,"y",e,o)})),(0,l.__)(i.y,(function(e){Pl(i,"x",e,o)})),this.resize(this.model,t)},e.prototype.resize=function(e,t,i){var n=e.getBoxLayoutParams(),o=!i&&e.get("containLabel"),a=(0,Ya.dV)(n,{width:t.getWidth(),height:t.getHeight()});this._rect=a;var r=this._axesList;function s(){(0,l.__)(r,(function(e){var t=e.isHorizontal(),i=t?[0,a.width]:[0,a.height],n=e.inverse?1:0;e.setExtent(i[n],i[1-n]),Nl(e,t?a.x:a.y)}))}s(),o&&((0,l.__)(r,(function(e){if(!e.model.get(["axisLabel","inside"])){var t=Xs(e);if(t){var i=e.isHorizontal()?"height":"width",n=e.model.get(["axisLabel","margin"]);a[i]-=t[i]+n,"top"===e.position?a.y+=t.height+n:"left"===e.position&&(a.x+=t.width+n)}}})),s()),(0,l.__)(this._coordsList,(function(e){e.calcAffineTransform()}))},e.prototype.getAxis=function(e,t){var i=this._axesMap[e];if(null!=i)return i[t||0]},e.prototype.getAxes=function(){return this._axesList.slice()},e.prototype.getCartesian=function(e,t){if(null!=e&&null!=t){var i="x"+e+"y"+t;return this._coordsMap[i]}(0,l.Gv)(e)&&(t=e.yAxisIndex,e=e.xAxisIndex);for(var n=0,o=this._coordsList;n<o.length;n++)if(o[n].getAxis("x").index===e||o[n].getAxis("y").index===t)return o[n]},e.prototype.getCartesians=function(){return this._coordsList.slice()},e.prototype.convertToPixel=function(e,t,i){var n=this._findConvertTarget(t);return n.cartesian?n.cartesian.dataToPoint(i):n.axis?n.axis.toGlobalCoord(n.axis.dataToCoord(i)):null},e.prototype.convertFromPixel=function(e,t,i){var n=this._findConvertTarget(t);return n.cartesian?n.cartesian.pointToData(i):n.axis?n.axis.coordToData(n.axis.toLocalCoord(i)):null},e.prototype._findConvertTarget=function(e){var t,i,n=e.seriesModel,o=e.xAxisModel||n&&n.getReferringComponents("xAxis",g.US).models[0],a=e.yAxisModel||n&&n.getReferringComponents("yAxis",g.US).models[0],r=e.gridModel,s=this._coordsList;if(n)t=n.coordinateSystem,(0,l.qh)(s,t)<0&&(t=null);else if(o&&a)t=this.getCartesian(o.componentIndex,a.componentIndex);else if(o)i=this.getAxis("x",o.componentIndex);else if(a)i=this.getAxis("y",a.componentIndex);else if(r){var u=r.coordinateSystem;u===this&&(t=this._coordsList[0])}return{cartesian:t,axis:i}},e.prototype.containPoint=function(e){var t=this._coordsList[0];if(t)return t.containPoint(e)},e.prototype._initCartesian=function(e,t,i){var n=this,o=this,a={left:!1,right:!1,top:!1,bottom:!1},r={x:{},y:{}},s={x:0,y:0};if(t.eachComponent("xAxis",u("x"),this),t.eachComponent("yAxis",u("y"),this),!s.x||!s.y)return this._axesMap={},void(this._axesList=[]);function u(t){return function(i,n){if(Ll(i,e)){var l=i.get("position");"x"===t?"top"!==l&&"bottom"!==l&&(l=a.bottom?"top":"bottom"):"left"!==l&&"right"!==l&&(l=a.left?"right":"left"),a[l]=!0;var u=new Sl(t,Gs(i),[0,0],i.get("type"),l),c="category"===u.type;u.onBand=c&&i.get("boundaryGap"),u.inverse=i.get("inverse"),i.axis=u,u.model=i,u.grid=o,u.index=n,o._axesList.push(u),r[t][n]=u,s[t]++}}}this._axesMap=r,(0,l.__)(r.x,(function(t,i){(0,l.__)(r.y,(function(o,a){var r="x"+i+"y"+a,s=new tl(r);s.master=n,s.model=e,n._coordsMap[r]=s,n._coordsList.push(s),s.addAxis(t),s.addAxis(o)}))}))},e.prototype._updateScale=function(e,t){function i(e,t){(0,l.__)(Ys(e,t.dim),(function(i){t.scale.unionExtentFromData(e,i)}))}(0,l.__)(this._axesList,(function(e){if(e.scale.setExtent(1/0,-1/0),"category"===e.type){var t=e.model.get("categorySortInfo");e.scale.setSortInfo(t)}})),e.eachSeries((function(e){if(kl(e)){var n=Ml(e),o=n.xAxisModel,a=n.yAxisModel;if(!Ll(o,t)||!Ll(a,t))return;var r=this.getCartesian(o.componentIndex,a.componentIndex),s=e.getData(),l=r.getAxis("x"),u=r.getAxis("y");i(s,l),i(s,u)}}),this)},e.prototype.getTooltipAxes=function(e){var t=[],i=[];return(0,l.__)(this.getCartesians(),(function(n){var o=null!=e&&"auto"!==e?n.getAxis(e):n.getBaseAxis(),a=n.getOtherAxis(o);(0,l.qh)(t,o)<0&&t.push(o),(0,l.qh)(i,a)<0&&i.push(a)})),{baseAxes:t,otherAxes:i}},e.create=function(t,i){var n=[];return t.eachComponent("grid",(function(o,a){var r=new e(o,t,i);r.name="grid_"+a,r.resize(o,i,!0),o.coordinateSystem=r,n.push(r)})),t.eachSeries((function(e){if(kl(e)){var t=Ml(e),i=t.xAxisModel,n=t.yAxisModel,o=i.getCoordSysModel();0;var a=o.coordinateSystem;e.coordinateSystem=a.getCartesian(i.componentIndex,n.componentIndex)}})),n},e.dimensions=Qs,e}();function Ll(e,t){return e.getCoordSysModel()===t}function Pl(e,t,i,n){i.getAxesOnZeroOf=function(){return o?[o]:[]};var o,a=e[t],r=i.model,s=r.get(["axisLine","onZero"]),l=r.get(["axisLine","onZeroAxisIndex"]);if(s){if(null!=l)Fl(a[l])&&(o=a[l]);else for(var u in a)if(a.hasOwnProperty(u)&&Fl(a[u])&&!n[c(a[u])]){o=a[u];break}o&&(n[c(o)]=!0)}function c(e){return e.dim+"_"+e.index}}function Fl(e){return e&&"category"!==e.type&&"time"!==e.type&&Bs(e)}function Nl(e,t){var i=e.getExtent(),n=i[0]+i[1];e.toGlobalCoord="x"===e.dim?function(e){return e+t}:function(e){return n-e+t},e.toLocalCoord="x"===e.dim?function(e){return e-t}:function(e){return n-e+t}}var Rl=Dl,Vl=i(1572),El=Math.PI,Ol=function(){function e(e,t){this.group=new En.A,this.opt=t,this.axisModel=e,(0,l.NT)(t,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var i=new En.A({x:t.position[0],y:t.position[1],rotation:t.rotation});i.updateTransform(),this._transformGroup=i}return e.prototype.hasBuilder=function(e){return!!zl[e]},e.prototype.add=function(e){zl[e](this.opt,this.axisModel,this.group,this._transformGroup)},e.prototype.getGroup=function(){return this.group},e.innerTextLayout=function(e,t,i){var n,o,a=(0,v._7)(t-e);return(0,v.dh)(a)?(o=i>0?"top":"bottom",n="center"):(0,v.dh)(a-El)?(o=i>0?"bottom":"top",n="center"):(o="middle",n=a>0&&a<El?i>0?"right":"left":i>0?"left":"right"),{rotation:a,textAlign:n,textVerticalAlign:o}},e.makeAxisEventDataBase=function(e){var t={componentType:e.mainType,componentIndex:e.componentIndex};return t[e.mainType+"Index"]=e.componentIndex,t},e.isLabelSilent=function(e){var t=e.get("tooltip");return e.get("silent")||!(e.get("triggerEvent")||t&&t.show)},e}(),zl={axisLine:function(e,t,i,n){var o=t.get(["axisLine","show"]);if("auto"===o&&e.handleAutoShown&&(o=e.handleAutoShown("axisLine")),o){var a=t.axis.getExtent(),r=n.transform,s=[a[0],0],u=[a[1],0],c=s[0]>u[0];r&&((0,M.NW)(s,s,r),(0,M.NW)(u,u,r));var d=(0,l.X$)({lineCap:"round"},t.getModel(["axisLine","lineStyle"]).getLineStyle()),h=new Vl.A({shape:{x1:s[0],y1:s[1],x2:u[0],y2:u[1]},style:d,strokeContainThreshold:e.strokeContainThreshold||5,silent:!0,z2:1});Gn.subPixelOptimizeLine(h.shape,h.style.lineWidth),h.anid="line",i.add(h);var p=t.get(["axisLine","symbol"]);if(null!=p){var g=t.get(["axisLine","symbolSize"]);(0,l.Kg)(p)&&(p=[p,p]),((0,l.Kg)(g)||(0,l.Et)(g))&&(g=[g,g]);var f=(0,Vn.hV)(t.get(["axisLine","symbolOffset"])||0,g),m=g[0],y=g[1];(0,l.__)([{rotate:e.rotation+Math.PI/2,offset:f[0],r:0},{rotate:e.rotation-Math.PI/2,offset:f[1],r:Math.sqrt((s[0]-u[0])*(s[0]-u[0])+(s[1]-u[1])*(s[1]-u[1]))}],(function(t,n){if("none"!==p[n]&&null!=p[n]){var o=(0,Vn.v5)(p[n],-m/2,-y/2,m,y,d.stroke,!0),a=t.r+t.offset,r=c?u:s;o.attr({rotation:t.rotate,x:r[0]+a*Math.cos(e.rotation),y:r[1]-a*Math.sin(e.rotation),silent:!0,z2:11}),i.add(o)}}))}}},axisTickLabel:function(e,t,i,n){var o=jl(i,n,t,e),a=Yl(i,n,t,e);if(Bl(t,a,o),Ul(i,n,t,e.tickDirection),t.get(["axisLabel","hideOverlap"])){var r=ee((0,l.Tj)(a,(function(e){return{label:e,priority:e.z2,defaultAttr:{ignore:e.ignore}}})));oe(r)}},axisName:function(e,t,i,n){var o=(0,l.Je)(e.axisName,t.get("name"));if(o){var a,r,s=t.get("nameLocation"),u=e.nameDirection,c=t.getModel("nameTextStyle"),d=t.get("nameGap")||0,h=t.axis.getExtent(),p=h[0]>h[1]?-1:1,g=["start"===s?h[0]-p*d:"end"===s?h[1]+p*d:(h[0]+h[1])/2,Xl(s)?e.labelOffset+u*d:0],f=t.get("nameRotate");null!=f&&(f=f*El/180),Xl(s)?a=Ol.innerTextLayout(e.rotation,null!=f?f:e.rotation,u):(a=Gl(e.rotation,s,f||0,h),r=e.axisNameAvailableWidth,null!=r&&(r=Math.abs(r/Math.sin(a.rotation)),!isFinite(r)&&(r=null)));var m=c.getFont(),v=t.get("nameTruncate",!0)||{},_=v.ellipsis,x=(0,l.Je)(e.nameTruncateMaxWidth,v.maxWidth,r),b=new Pt.Ay({x:g[0],y:g[1],rotation:a.rotation,silent:Ol.isLabelSilent(t),style:(0,ae.VB)(c,{text:o,font:m,overflow:"truncate",width:x,ellipsis:_,fill:c.getTextColor()||t.get(["axisLine","lineStyle","color"]),align:c.get("align")||a.textAlign,verticalAlign:c.get("verticalAlign")||a.textVerticalAlign}),z2:1});if(Gn.setTooltipConfig({el:b,componentModel:t,itemName:o}),b.__fullText=o,b.anid="name",t.get("triggerEvent")){var w=Ol.makeAxisEventDataBase(t);w.targetType="axisName",w.name=o,(0,y.z)(b).eventData=w}n.add(b),b.updateTransform(),i.add(b),b.decomposeTransform()}}};function Gl(e,t,i,n){var o,a,r=(0,v._7)(i-e),s=n[0]>n[1],l="start"===t&&!s||"start"!==t&&s;return(0,v.dh)(r-El/2)?(a=l?"bottom":"top",o="center"):(0,v.dh)(r-1.5*El)?(a=l?"top":"bottom",o="center"):(a="middle",o=r<1.5*El&&r>El/2?l?"left":"right":l?"right":"left"),{rotation:r,textAlign:o,textVerticalAlign:a}}function Bl(e,t,i){if(!Us(e.axis)){var n=e.get(["axisLabel","showMinLabel"]),o=e.get(["axisLabel","showMaxLabel"]);t=t||[],i=i||[];var a=t[0],r=t[1],s=t[t.length-1],l=t[t.length-2],u=i[0],c=i[1],d=i[i.length-1],h=i[i.length-2];!1===n?(Wl(a),Wl(u)):Hl(a,r)&&(n?(Wl(r),Wl(c)):(Wl(a),Wl(u))),!1===o?(Wl(s),Wl(d)):Hl(l,s)&&(o?(Wl(l),Wl(h)):(Wl(s),Wl(d)))}}function Wl(e){e&&(e.ignore=!0)}function Hl(e,t){var i=e&&e.getBoundingRect().clone(),n=t&&t.getBoundingRect().clone();if(i&&n){var o=k.D_([]);return k.e$(o,o,-e.rotation),i.applyTransform(k.lK([],o,e.getLocalTransform())),n.applyTransform(k.lK([],o,t.getLocalTransform())),i.intersect(n)}}function Xl(e){return"middle"===e||"center"===e}function $l(e,t,i,n,o){for(var a=[],r=[],s=[],l=0;l<e.length;l++){var u=e[l].coord;r[0]=u,r[1]=0,s[0]=u,s[1]=i,t&&((0,M.NW)(r,r,t),(0,M.NW)(s,s,t));var c=new Vl.A({shape:{x1:r[0],y1:r[1],x2:s[0],y2:s[1]},style:n,z2:2,autoBatch:!0,silent:!0});Gn.subPixelOptimizeLine(c.shape,c.style.lineWidth),c.anid=o+"_"+e[l].tickValue,a.push(c)}return a}function jl(e,t,i,n){var o=i.axis,a=i.getModel("axisTick"),r=a.get("show");if("auto"===r&&n.handleAutoShown&&(r=n.handleAutoShown("axisTick")),r&&!o.scale.isBlank()){for(var s=a.getModel("lineStyle"),u=n.tickDirection*a.get("length"),c=o.getTicksCoords(),d=$l(c,t.transform,u,(0,l.NT)(s.getLineStyle(),{stroke:i.get(["axisLine","lineStyle","color"])}),"ticks"),h=0;h<d.length;h++)e.add(d[h]);return d}}function Ul(e,t,i,n){var o=i.axis,a=i.getModel("minorTick");if(a.get("show")&&!o.scale.isBlank()){var r=o.getMinorTicksCoords();if(r.length)for(var s=a.getModel("lineStyle"),u=n*a.get("length"),c=(0,l.NT)(s.getLineStyle(),(0,l.NT)(i.getModel("axisTick").getLineStyle(),{stroke:i.get(["axisLine","lineStyle","color"])})),d=0;d<r.length;d++)for(var h=$l(r[d],t.transform,u,c,"minorticks_"+d),p=0;p<h.length;p++)e.add(h[p])}}function Yl(e,t,i,n){var o=i.axis,a=(0,l.Je)(n.axisLabelShow,i.get(["axisLabel","show"]));if(a&&!o.scale.isBlank()){var r=i.getModel("axisLabel"),s=r.get("margin"),u=o.getViewLabels(),c=((0,l.Je)(n.labelRotate,r.get("rotate"))||0)*El/180,d=Ol.innerTextLayout(n.rotation,c,n.labelDirection),h=i.getCategories&&i.getCategories(!0),p=[],g=Ol.isLabelSilent(i),f=i.get("triggerEvent");return(0,l.__)(u,(function(a,c){var m="ordinal"===o.scale.type?o.scale.getRawOrdinalNumber(a.tickValue):a.tickValue,v=a.formattedLabel,_=a.rawLabel,x=r;if(h&&h[m]){var b=h[m];(0,l.Gv)(b)&&b.textStyle&&(x=new Di.A(b.textStyle,r,i.ecModel))}var w=x.getTextColor()||i.get(["axisLine","lineStyle","color"]),C=o.dataToCoord(m),S=x.getShallow("align",!0)||d.textAlign,A=(0,l.bZ)(x.getShallow("alignMinLabel",!0),S),k=(0,l.bZ)(x.getShallow("alignMaxLabel",!0),S),M=x.getShallow("verticalAlign",!0)||x.getShallow("baseline",!0)||d.textVerticalAlign,I=(0,l.bZ)(x.getShallow("verticalAlignMinLabel",!0),M),T=(0,l.bZ)(x.getShallow("verticalAlignMaxLabel",!0),M),D=new Pt.Ay({x:C,y:n.labelOffset+n.labelDirection*s,rotation:d.rotation,silent:g,z2:10+(a.level||0),style:(0,ae.VB)(x,{text:v,align:0===c?A:c===u.length-1?k:S,verticalAlign:0===c?I:c===u.length-1?T:M,fill:(0,l.Tn)(w)?w("category"===o.type?_:"value"===o.type?m+"":m,c):w})});if(D.anid="label_"+m,f){var L=Ol.makeAxisEventDataBase(i);L.targetType="axisLabel",L.value=_,L.tickIndex=c,"category"===o.type&&(L.dataIndex=m),(0,y.z)(D).eventData=L}t.add(D),D.updateTransform(),p.push(D),e.add(D),D.decomposeTransform()})),p}}var Zl=Ol;function ql(e,t){var i={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return Kl(i,e,t),i.seriesInvolved&&Jl(i,e),i}function Kl(e,t,i){var n=t.getComponent("tooltip"),o=t.getComponent("axisPointer"),a=o.get("link",!0)||[],r=[];(0,l.__)(i.getCoordinateSystems(),(function(i){if(i.axisPointerEnabled){var s=ru(i.model),u=e.coordSysAxesInfo[s]={};e.coordSysMap[s]=i;var c=i.model,d=c.getModel("tooltip",n);if((0,l.__)(i.getAxes(),(0,l.cF)(f,!1,null)),i.getTooltipAxes&&n&&d.get("show")){var h="axis"===d.get("trigger"),p="cross"===d.get(["axisPointer","type"]),g=i.getTooltipAxes(d.get(["axisPointer","axis"]));(h||p)&&(0,l.__)(g.baseAxes,(0,l.cF)(f,!p||"cross",h)),p&&(0,l.__)(g.otherAxes,(0,l.cF)(f,"cross",!1))}}function f(n,s,l){var c=l.model.getModel("axisPointer",o),h=c.get("show");if(h&&("auto"!==h||n||au(c))){null==s&&(s=c.get("triggerTooltip")),c=n?Ql(l,d,o,t,n,s):c;var p=c.get("snap"),g=c.get("triggerEmphasis"),f=ru(l.model),m=s||p||"category"===l.type,y=e.axesInfo[f]={key:f,axis:l,coordSys:i,axisPointerModel:c,triggerTooltip:s,triggerEmphasis:g,involveSeries:m,snap:p,useHandle:au(c),seriesModels:[],linkGroup:null};u[f]=y,e.seriesInvolved=e.seriesInvolved||m;var v=eu(a,l);if(null!=v){var _=r[v]||(r[v]={axesInfo:{}});_.axesInfo[f]=y,_.mapper=a[v].mapper,y.linkGroup=_}}}}))}function Ql(e,t,i,n,o,a){var r=t.getModel("axisPointer"),s=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],u={};(0,l.__)(s,(function(e){u[e]=(0,l.o8)(r.get(e))})),u.snap="category"!==e.type&&!!a,"cross"===r.get("type")&&(u.type="line");var c=u.label||(u.label={});if(null==c.show&&(c.show=!1),"cross"===o){var d=r.get(["label","show"]);if(c.show=null==d||d,!a){var h=u.lineStyle=r.get("crossStyle");h&&(0,l.NT)(c,h.textStyle)}}return e.model.getModel("axisPointer",new Di.A(u,i,n))}function Jl(e,t){t.eachSeries((function(t){var i=t.coordinateSystem,n=t.get(["tooltip","trigger"],!0),o=t.get(["tooltip","show"],!0);i&&"none"!==n&&!1!==n&&"item"!==n&&!1!==o&&!1!==t.get(["axisPointer","show"],!0)&&(0,l.__)(e.coordSysAxesInfo[ru(i.model)],(function(e){var n=e.axis;i.getAxis(n.dim)===n&&(e.seriesModels.push(t),null==e.seriesDataCount&&(e.seriesDataCount=0),e.seriesDataCount+=t.getData().count())}))}))}function eu(e,t){for(var i=t.model,n=t.dim,o=0;o<e.length;o++){var a=e[o]||{};if(tu(a[n+"AxisId"],i.id)||tu(a[n+"AxisIndex"],i.componentIndex)||tu(a[n+"AxisName"],i.name))return o}}function tu(e,t){return"all"===e||(0,l.cy)(e)&&(0,l.qh)(e,t)>=0||e===t}function iu(e){var t=nu(e);if(t){var i=t.axisPointerModel,n=t.axis.scale,o=i.option,a=i.get("status"),r=i.get("value");null!=r&&(r=n.parse(r));var s=au(i);null==a&&(o.status=s?"show":"hide");var l=n.getExtent().slice();l[0]>l[1]&&l.reverse(),(null==r||r>l[1])&&(r=l[1]),r<l[0]&&(r=l[0]),o.value=r,s&&(o.status=t.axis.scale.isBlank()?"hide":"show")}}function nu(e){var t=(e.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return t&&t.axesInfo[ru(e)]}function ou(e){var t=nu(e);return t&&t.axisPointerModel}function au(e){return!!e.get(["handle","show"])}function ru(e){return e.type+"||"+e.id}var su={},lu=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return(0,_e.C6)(t,e),t.prototype.render=function(t,i,n,o){this.axisPointerClass&&iu(t),e.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(t,n,!0)},t.prototype.updateAxisPointer=function(e,t,i,n){this._doUpdateAxisPointerClass(e,i,!1)},t.prototype.remove=function(e,t){var i=this._axisPointer;i&&i.remove(t)},t.prototype.dispose=function(t,i){this._disposeAxisPointer(i),e.prototype.dispose.apply(this,arguments)},t.prototype._doUpdateAxisPointerClass=function(e,i,n){var o=t.getAxisPointerClass(this.axisPointerClass);if(o){var a=ou(e);a?(this._axisPointer||(this._axisPointer=new o)).render(e,a,i,n):this._disposeAxisPointer(i)}},t.prototype._disposeAxisPointer=function(e){this._axisPointer&&this._axisPointer.dispose(e),this._axisPointer=null},t.registerAxisPointerClass=function(e,t){su[e]=t},t.getAxisPointerClass=function(e){return e&&su[e]},t.type="axis",t}(o.A),uu=lu,cu=(0,g.$r)();function du(e,t,i,n){var o=i.axis;if(!o.scale.isBlank()){var a=i.getModel("splitArea"),r=a.getModel("areaStyle"),s=r.get("color"),u=n.coordinateSystem.getRect(),c=o.getTicksCoords({tickModel:a,clamp:!0});if(c.length){var d=s.length,h=cu(e).splitAreaColors,p=l.nt(),g=0;if(h)for(var f=0;f<c.length;f++){var m=h.get(c[f].tickValue);if(null!=m){g=(m+(d-1)*f)%d;break}}var y=o.toGlobalCoord(c[0].coord),v=r.getAreaStyle();s=l.cy(s)?s:[s];for(f=1;f<c.length;f++){var _=o.toGlobalCoord(c[f].coord),x=void 0,b=void 0,w=void 0,C=void 0;o.isHorizontal()?(x=y,b=u.y,w=_-x,C=u.height,y=x+w):(x=u.x,b=y,w=u.width,C=_-b,y=b+C);var S=c[f-1].tickValue;null!=S&&p.set(S,g),t.add(new fo.A({anid:null!=S?"area_"+S:null,shape:{x:x,y:b,width:w,height:C},style:l.NT({fill:s[g]},v),autoBatch:!0,silent:!0})),g=(g+1)%d}cu(e).splitAreaColors=p}}}function hu(e){cu(e).splitAreaColors=null}var pu=["axisLine","axisTickLabel","axisName"],gu=["splitArea","splitLine","minorSplitLine"],fu=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i.axisPointerClass="CartesianAxisPointer",i}return(0,_e.C6)(t,e),t.prototype.render=function(t,i,n,o){this.group.removeAll();var a=this._axisGroup;if(this._axisGroup=new En.A,this.group.add(this._axisGroup),t.get("show")){var r=t.getCoordSysModel(),s=Al(r,t),u=new Zl(t,l.X$({handleAutoShown:function(e){for(var i=r.coordinateSystem.getCartesians(),n=0;n<i.length;n++)if(Yr(i[n].getOtherAxis(t.axis).scale))return!0;return!1}},s));l.__(pu,u.add,u),this._axisGroup.add(u.getGroup()),l.__(gu,(function(e){t.get([e,"show"])&&mu[e](this,this._axisGroup,t,r)}),this);var c=o&&"changeAxisOrder"===o.type&&o.isInitSort;c||Gn.groupTransition(a,this._axisGroup,t),e.prototype.render.call(this,t,i,n,o)}},t.prototype.remove=function(){hu(this)},t.type="cartesianAxis",t}(uu),mu={splitLine:function(e,t,i,n){var o=i.axis;if(!o.scale.isBlank()){var a=i.getModel("splitLine"),r=a.getModel("lineStyle"),s=r.get("color");s=l.cy(s)?s:[s];for(var u=n.coordinateSystem.getRect(),c=o.isHorizontal(),d=0,h=o.getTicksCoords({tickModel:a}),p=[],g=[],f=r.getLineStyle(),m=0;m<h.length;m++){var y=o.toGlobalCoord(h[m].coord);c?(p[0]=y,p[1]=u.y,g[0]=y,g[1]=u.y+u.height):(p[0]=u.x,p[1]=y,g[0]=u.x+u.width,g[1]=y);var v=d++%s.length,_=h[m].tickValue,x=new Vl.A({anid:null!=_?"line_"+h[m].tickValue:null,autoBatch:!0,shape:{x1:p[0],y1:p[1],x2:g[0],y2:g[1]},style:l.NT({stroke:s[v]},f),silent:!0});Gn.subPixelOptimizeLine(x.shape,f.lineWidth),t.add(x)}}},minorSplitLine:function(e,t,i,n){var o=i.axis,a=i.getModel("minorSplitLine"),r=a.getModel("lineStyle"),s=n.coordinateSystem.getRect(),l=o.isHorizontal(),u=o.getMinorTicksCoords();if(u.length)for(var c=[],d=[],h=r.getLineStyle(),p=0;p<u.length;p++)for(var g=0;g<u[p].length;g++){var f=o.toGlobalCoord(u[p][g].coord);l?(c[0]=f,c[1]=s.y,d[0]=f,d[1]=s.y+s.height):(c[0]=s.x,c[1]=f,d[0]=s.x+s.width,d[1]=f);var m=new Vl.A({anid:"minor_line_"+u[p][g].tickValue,autoBatch:!0,shape:{x1:c[0],y1:c[1],x2:d[0],y2:d[1]},style:h,silent:!0});Gn.subPixelOptimizeLine(m.shape,h.lineWidth),t.add(m)}},splitArea:function(e,t,i,n){du(e,t,i,n)}},yu=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return(0,_e.C6)(t,e),t.type="xAxis",t}(fu),vu=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=yu.type,t}return(0,_e.C6)(t,e),t.type="yAxis",t}(fu),_u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="grid",t}return(0,_e.C6)(t,e),t.prototype.render=function(e,t){this.group.removeAll(),e.get("show")&&this.group.add(new fo.A({shape:e.coordinateSystem.getRect(),style:(0,l.NT)({fill:e.get("backgroundColor")},e.getItemStyle()),silent:!0,z2:-1}))},t.type="grid",t}(o.A),xu={offset:0};function bu(e){e.registerComponentView(_u),e.registerComponentModel(Tr),e.registerCoordinateSystem("cartesian2d",Rl),Hr(e,"x",Lr,xu),Hr(e,"y",Lr,xu),e.registerComponentView(yu),e.registerComponentView(vu),e.registerPreprocessor((function(e){e.xAxis&&e.yAxis&&!e.grid&&(e.grid={})}))}function wu(e){p(bu),e.registerSeriesModel(xr),e.registerChartView(Mr),e.registerLayout(Wo("scatter"))}function Cu(e){e.eachSeriesByType("radar",(function(e){var t=e.getData(),i=[],n=e.coordinateSystem;if(n){var o=n.getIndicatorAxes();l.__(o,(function(e,a){t.each(t.mapDimension(o[a].dim),(function(e,t){i[t]=i[t]||[];var o=n.dataToPoint(e,a);i[t][a]=Su(o)?o:Au(n)}))})),t.each((function(e){var o=l.I6(i[e],(function(e){return Su(e)}))||Au(n);i[e].push(o.slice()),t.setItemLayout(e,i[e])}))}}))}function Su(e){return!isNaN(e[0])&&!isNaN(e[1])}function Au(e){return[e.cx,e.cy]}function ku(e){var t=e.polar;if(t){l.cy(t)||(t=[t]);var i=[];l.__(t,(function(t,n){t.indicator?(t.type&&!t.shape&&(t.shape=t.type),e.radar=e.radar||[],l.cy(e.radar)||(e.radar=[e.radar]),e.radar.push(t)):i.push(t)})),e.polar=i}l.__(e.series,(function(e){e&&"radar"===e.type&&e.polarIndex&&(e.radarIndex=e.polarIndex)}))}var Mu=i(6122),Iu=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return(0,_e.C6)(t,e),t.prototype.render=function(e,t,i){var n=e.coordinateSystem,o=this.group,a=e.getData(),r=this._data;function s(e,t){var i=e.getItemVisual(t,"symbol")||"circle";if("none"!==i){var n=Vn.xU(e.getItemVisual(t,"symbolSize")),o=Vn.v5(i,-1,-1,2,2),a=e.getItemVisual(t,"symbolRotate")||0;return o.attr({style:{strokeNoScale:!0},z2:100,scaleX:n[0]/2,scaleY:n[1]/2,rotation:a*Math.PI/180||0}),o}}function u(t,i,n,o,a,r){n.removeAll();for(var l=0;l<i.length-1;l++){var u=s(o,a);u&&(u.__dimIdx=l,t[l]?(u.setPosition(t[l]),Gn[r?"initProps":"updateProps"](u,{x:i[l][0],y:i[l][1]},e,a)):u.setPosition(i[l]),n.add(u))}}function c(e){return l.Tj(e,(function(e){return[n.cx,n.cy]}))}a.diff(r).add((function(t){var i=a.getItemLayout(t);if(i){var n=new Mu.A,o=new w.A,r={shape:{points:i}};n.shape.points=c(i),o.shape.points=c(i),m.LW(n,r,e,t),m.LW(o,r,e,t);var s=new En.A,l=new En.A;s.add(o),s.add(n),s.add(l),u(o.shape.points,i,l,a,t,!0),a.setItemGraphicEl(t,s)}})).update((function(t,i){var n=r.getItemGraphicEl(i),o=n.childAt(0),s=n.childAt(1),l=n.childAt(2),c={shape:{points:a.getItemLayout(t)}};c.shape.points&&(u(o.shape.points,c.shape.points,l,a,t,!1),(0,m.ap)(s),(0,m.ap)(o),m.oi(o,c,e),m.oi(s,c,e),a.setItemGraphicEl(t,n))})).remove((function(e){o.remove(r.getItemGraphicEl(e))})).execute(),a.eachItemGraphicEl((function(e,t){var i=a.getItemModel(t),n=e.childAt(0),r=e.childAt(1),s=e.childAt(2),u=a.getItemVisual(t,"style"),c=u.fill;o.add(e),n.useStyle(l.NT(i.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:c})),(0,I.Mx)(n,i,"lineStyle"),(0,I.Mx)(r,i,"areaStyle");var d=i.getModel("areaStyle"),h=d.isEmpty()&&d.parentModel.isEmpty();r.ignore=h,l.__(["emphasis","select","blur"],(function(e){var t=i.getModel([e,"areaStyle"]),n=t.isEmpty()&&t.parentModel.isEmpty();r.ensureState(e).ignore=n&&h})),r.useStyle(l.NT(d.getAreaStyle(),{fill:c,opacity:.7,decal:u.decal}));var p=i.getModel("emphasis"),g=p.getModel("itemStyle").getItemStyle();s.eachChild((function(e){if(e instanceof Ge.Ay){var n=e.style;e.useStyle(l.X$({image:n.image,x:n.x,y:n.y,width:n.width,height:n.height},u))}else e.useStyle(u),e.setColor(c),e.style.strokeNoScale=!0;var o=e.ensureState("emphasis");o.style=l.o8(g);var r=a.getStore().get(a.getDimensionIndex(e.__dimIdx),t);(null==r||isNaN(r))&&(r=""),(0,ae.qM)(e,(0,ae.lx)(i),{labelFetcher:a.hostModel,labelDataIndex:t,labelDimIndex:e.__dimIdx,defaultText:r,inheritColor:c,defaultOpacity:u.opacity})})),(0,I.Lm)(e,p.get("focus"),p.get("blurScope"),p.get("disabled"))})),this._data=a},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.type="radar",t}(a.A),Tu=Iu,Du=i(83426),Lu=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i.hasSymbolVisual=!0,i}return(0,_e.C6)(t,e),t.prototype.init=function(t){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new pr(l.oI(this.getData,this),l.oI(this.getRawData,this))},t.prototype.getInitialData=function(e,t){return dr(this,{generateCoord:"indicator_",generateCoordCount:1/0})},t.prototype.formatTooltip=function(e,t,i){var n=this.getData(),o=this.coordinateSystem,a=o.getIndicatorAxes(),r=this.getData().getName(e),s=""===r?this.name:r,u=(0,Du.aw)(this,e);return(0,Du.Qx)("section",{header:s,sortBlocks:!0,blocks:l.Tj(a,(function(t){var i=n.get(n.mapDimension(t.dim),e);return(0,Du.Qx)("nameValue",{markerType:"subItem",markerColor:u,name:t.name,value:i,sortParam:i})}))})},t.prototype.getTooltipPosition=function(e){if(null!=e)for(var t=this.getData(),i=this.coordinateSystem,n=t.getValues(l.Tj(i.dimensions,(function(e){return t.mapDimension(e)})),e),o=0,a=n.length;o<a;o++)if(!isNaN(n[o])){var r=i.getIndicatorAxes();return i.coordToPoint(r[o].dataToCoord(n[o]),o)}},t.type="series.radar",t.dependencies=["radar"],t.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},t}(s.A),Pu=Lu,Fu=Er.value;function Nu(e,t){return l.NT({show:t},e)}var Ru=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return(0,_e.C6)(t,e),t.prototype.optionUpdated=function(){var e=this.get("boundaryGap"),t=this.get("splitNumber"),i=this.get("scale"),n=this.get("axisLine"),o=this.get("axisTick"),a=this.get("axisLabel"),r=this.get("axisName"),s=this.get(["axisName","show"]),u=this.get(["axisName","formatter"]),c=this.get("axisNameGap"),d=this.get("triggerEvent"),h=l.Tj(this.get("indicator")||[],(function(h){null!=h.max&&h.max>0&&!h.min?h.min=0:null!=h.min&&h.min<0&&!h.max&&(h.max=0);var p=r;null!=h.color&&(p=l.NT({color:h.color},r));var g=l.h1(l.o8(h),{boundaryGap:e,splitNumber:t,scale:i,axisLine:n,axisTick:o,axisLabel:a,name:h.text,showName:s,nameLocation:"end",nameGap:c,nameTextStyle:p,triggerEvent:d},!1);if(l.Kg(u)){var f=g.name;g.name=u.replace("{value}",null!=f?f:"")}else l.Tn(u)&&(g.name=u(g.name,g));var m=new Di.A(g,null,this.ecModel);return l.co(m,Dr.prototype),m.mainType="radar",m.componentIndex=this.componentIndex,m}),this);this._indicatorModels=h},t.prototype.getIndicatorModels=function(){return this._indicatorModels},t.type="radar",t.defaultOption={z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:l.h1({lineStyle:{color:"#bbb"}},Fu.axisLine),axisLabel:Nu(Fu.axisLabel,!1),axisTick:Nu(Fu.axisTick,!1),splitLine:Nu(Fu.splitLine,!0),splitArea:Nu(Fu.splitArea,!0),indicator:[]},t}(r.A),Vu=Ru,Eu=i(39050),Ou=i(70456),zu=["axisLine","axisTickLabel","axisName"],Gu=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return(0,_e.C6)(t,e),t.prototype.render=function(e,t,i){var n=this.group;n.removeAll(),this._buildAxes(e),this._buildSplitLineAndArea(e)},t.prototype._buildAxes=function(e){var t=e.coordinateSystem,i=t.getIndicatorAxes(),n=l.Tj(i,(function(e){var i=e.model.get("showName")?e.name:"",n=new Zl(e.model,{axisName:i,position:[t.cx,t.cy],rotation:e.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return n}));l.__(n,(function(e){l.__(zu,e.add,e),this.group.add(e.getGroup())}),this)},t.prototype._buildSplitLineAndArea=function(e){var t=e.coordinateSystem,i=t.getIndicatorAxes();if(i.length){var n=e.get("shape"),o=e.getModel("splitLine"),a=e.getModel("splitArea"),r=o.getModel("lineStyle"),s=a.getModel("areaStyle"),u=o.get("show"),c=a.get("show"),d=r.get("color"),h=s.get("color"),p=l.cy(d)?d:[d],g=l.cy(h)?h:[h],f=[],m=[];if("circle"===n)for(var y=i[0].getTicksCoords(),v=t.cx,_=t.cy,x=0;x<y.length;x++){if(u){var b=D(f,p,x);f[b].push(new Eu.A({shape:{cx:v,cy:_,r:y[x].coord}}))}if(c&&x<y.length-1){b=D(m,g,x);m[b].push(new Ou.A({shape:{cx:v,cy:_,r0:y[x].coord,r:y[x+1].coord}}))}}else{var C,S=l.Tj(i,(function(e,i){var n=e.getTicksCoords();return C=null==C?n.length-1:Math.min(n.length-1,C),l.Tj(n,(function(e){return t.coordToPoint(e.coord,i)}))})),A=[];for(x=0;x<=C;x++){for(var k=[],M=0;M<i.length;M++)k.push(S[M][x]);if(k[0]&&k.push(k[0].slice()),u){b=D(f,p,x);f[b].push(new w.A({shape:{points:k}}))}if(c&&A){b=D(m,g,x-1);m[b].push(new Mu.A({shape:{points:k.concat(A)}}))}A=k.slice().reverse()}}var I=r.getLineStyle(),T=s.getAreaStyle();l.__(m,(function(e,t){this.group.add(Gn.mergePath(e,{style:l.NT({stroke:"none",fill:g[t%g.length]},T),silent:!0}))}),this),l.__(f,(function(e,t){this.group.add(Gn.mergePath(e,{style:l.NT({fill:"none",stroke:p[t%p.length]},I),silent:!0}))}),this)}function D(e,t,i){var n=i%t.length;return e[n]=e[n]||[],n}},t.type="radar",t}(o.A),Bu=Gu,Wu=function(e){function t(t,i,n){var o=e.call(this,t,i,n)||this;return o.type="value",o.angle=0,o.name="",o}return(0,_e.C6)(t,e),t}(wl),Hu=Wu,Xu=function(){function e(e,t,i){this.dimensions=[],this._model=e,this._indicatorAxes=(0,l.Tj)(e.getIndicatorModels(),(function(e,t){var i="indicator_"+t,n=new Hu(i,new ss);return n.name=e.get("name"),n.model=e,e.axis=n,this.dimensions.push(i),n}),this),this.resize(e,i)}return e.prototype.getIndicatorAxes=function(){return this._indicatorAxes},e.prototype.dataToPoint=function(e,t){var i=this._indicatorAxes[t];return this.coordToPoint(i.dataToCoord(e),t)},e.prototype.coordToPoint=function(e,t){var i=this._indicatorAxes[t],n=i.angle,o=this.cx+e*Math.cos(n),a=this.cy-e*Math.sin(n);return[o,a]},e.prototype.pointToData=function(e){var t=e[0]-this.cx,i=e[1]-this.cy,n=Math.sqrt(t*t+i*i);t/=n,i/=n;for(var o,a=Math.atan2(-i,t),r=1/0,s=-1,l=0;l<this._indicatorAxes.length;l++){var u=this._indicatorAxes[l],c=Math.abs(a-u.angle);c<r&&(o=u,s=l,r=c)}return[s,+(o&&o.coordToData(n))]},e.prototype.resize=function(e,t){var i=e.get("center"),n=t.getWidth(),o=t.getHeight(),a=Math.min(n,o)/2;this.cx=v.lo(i[0],n),this.cy=v.lo(i[1],o),this.startAngle=e.get("startAngle")*Math.PI/180;var r=e.get("radius");((0,l.Kg)(r)||(0,l.Et)(r))&&(r=[0,r]),this.r0=v.lo(r[0],a),this.r=v.lo(r[1],a),(0,l.__)(this._indicatorAxes,(function(e,t){e.setExtent(this.r0,this.r);var i=this.startAngle+t*Math.PI*2/this._indicatorAxes.length;i=Math.atan2(Math.sin(i),Math.cos(i)),e.angle=i}),this)},e.prototype.update=function(e,t){var i=this._indicatorAxes,n=this._model;(0,l.__)(i,(function(e){e.scale.setExtent(1/0,-1/0)})),e.eachSeriesByType("radar",(function(t,o){if("radar"===t.get("coordinateSystem")&&e.getComponent("radar",t.get("radarIndex"))===n){var a=t.getData();(0,l.__)(i,(function(e){e.scale.unionExtentFromData(a,a.mapDimension(e.dim))}))}}),this);var o=n.get("splitNumber"),a=new ss;a.setExtent(0,o),a.setInterval(1),(0,l.__)(i,(function(e,t){Tl(e.scale,e.model,a)}))},e.prototype.convertToPixel=function(e,t,i){return console.warn("Not implemented."),null},e.prototype.convertFromPixel=function(e,t,i){return console.warn("Not implemented."),null},e.prototype.containPoint=function(e){return console.warn("Not implemented."),!1},e.create=function(t,i){var n=[];return t.eachComponent("radar",(function(o){var a=new e(o,t,i);n.push(a),o.coordinateSystem=a})),t.eachSeriesByType("radar",(function(e){"radar"===e.get("coordinateSystem")&&(e.coordinateSystem=n[e.get("radarIndex")||0])})),n},e.dimensions=[],e}(),$u=Xu;function ju(e){e.registerCoordinateSystem("radar",$u),e.registerComponentModel(Vu),e.registerComponentView(Bu),e.registerVisual({seriesType:"radar",reset:function(e){var t=e.getData();t.each((function(e){t.setItemVisual(e,"legendIcon","roundRect")})),t.setVisual("legendIcon","roundRect")}})}function Uu(e){p(ju),e.registerChartView(Tu),e.registerSeriesModel(Pu),e.registerLayout(Cu),e.registerProcessor(tr("radar")),e.registerPreprocessor(ku)}var Yu=i(4745),Zu="\0_ec_interaction_mutex";function qu(e,t,i){var n=Ju(e);n[t]=i}function Ku(e,t,i){var n=Ju(e),o=n[t];o===i&&(n[t]=null)}function Qu(e,t){return!!Ju(e)[t]}function Ju(e){return e[Zu]||(e[Zu]={})}n.OH({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},l.lQ);var ec=function(e){function t(t){var i=e.call(this)||this;i._zr=t;var n=(0,l.oI)(i._mousedownHandler,i),o=(0,l.oI)(i._mousemoveHandler,i),a=(0,l.oI)(i._mouseupHandler,i),r=(0,l.oI)(i._mousewheelHandler,i),s=(0,l.oI)(i._pinchHandler,i);return i.enable=function(e,i){this.disable(),this._opt=(0,l.NT)((0,l.o8)(i)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==e&&(e=!0),!0!==e&&"move"!==e&&"pan"!==e||(t.on("mousedown",n),t.on("mousemove",o),t.on("mouseup",a)),!0!==e&&"scale"!==e&&"zoom"!==e||(t.on("mousewheel",r),t.on("pinch",s))},i.disable=function(){t.off("mousedown",n),t.off("mousemove",o),t.off("mouseup",a),t.off("mousewheel",r),t.off("pinch",s)},i}return(0,_e.C6)(t,e),t.prototype.isDragging=function(){return this._dragging},t.prototype.isPinching=function(){return this._pinching},t.prototype.setPointerChecker=function(e){this.pointerChecker=e},t.prototype.dispose=function(){this.disable()},t.prototype._mousedownHandler=function(e){if(!Yu.W5(e)){var t=e.target;while(t){if(t.draggable)return;t=t.__hostTarget||t.parent}var i=e.offsetX,n=e.offsetY;this.pointerChecker&&this.pointerChecker(e,i,n)&&(this._x=i,this._y=n,this._dragging=!0)}},t.prototype._mousemoveHandler=function(e){if(this._dragging&&nc("moveOnMouseMove",e,this._opt)&&"pinch"!==e.gestureEvent&&!Qu(this._zr,"globalPan")){var t=e.offsetX,i=e.offsetY,n=this._x,o=this._y,a=t-n,r=i-o;this._x=t,this._y=i,this._opt.preventDefaultMouseMove&&Yu.ds(e.event),ic(this,"pan","moveOnMouseMove",e,{dx:a,dy:r,oldX:n,oldY:o,newX:t,newY:i,isAvailableBehavior:null})}},t.prototype._mouseupHandler=function(e){Yu.W5(e)||(this._dragging=!1)},t.prototype._mousewheelHandler=function(e){var t=nc("zoomOnMouseWheel",e,this._opt),i=nc("moveOnMouseWheel",e,this._opt),n=e.wheelDelta,o=Math.abs(n),a=e.offsetX,r=e.offsetY;if(0!==n&&(t||i)){if(t){var s=o>3?1.4:o>1?1.2:1.1,l=n>0?s:1/s;tc(this,"zoom","zoomOnMouseWheel",e,{scale:l,originX:a,originY:r,isAvailableBehavior:null})}if(i){var u=Math.abs(n),c=(n>0?1:-1)*(u>3?.4:u>1?.15:.05);tc(this,"scrollMove","moveOnMouseWheel",e,{scrollDelta:c,originX:a,originY:r,isAvailableBehavior:null})}}},t.prototype._pinchHandler=function(e){if(!Qu(this._zr,"globalPan")){var t=e.pinchScale>1?1.1:1/1.1;tc(this,"zoom",null,e,{scale:t,originX:e.pinchX,originY:e.pinchY,isAvailableBehavior:null})}},t}(xe.A);function tc(e,t,i,n,o){e.pointerChecker&&e.pointerChecker(n,o.originX,o.originY)&&(Yu.ds(n.event),ic(e,t,i,n,o))}function ic(e,t,i,n,o){o.isAvailableBehavior=(0,l.oI)(nc,null,i,n),e.trigger(t,o)}function nc(e,t,i){var n=i[e];return!e||n&&(!(0,l.Kg)(n)||t.event[n+"Key"])}var oc=ec;function ac(e,t,i){var n=e.target;n.x+=t,n.y+=i,n.dirty()}function rc(e,t,i,n){var o=e.target,a=e.zoomLimit,r=e.zoom=e.zoom||1;if(r*=t,a){var s=a.min||0,l=a.max||1/0;r=Math.max(Math.min(l,r),s)}var u=r/e.zoom;e.zoom=r,o.x-=(i-o.x)*(u-1),o.y-=(n-o.y)*(u-1),o.scaleX*=u,o.scaleY*=u,o.dirty()}var sc={axisPointer:1,tooltip:1,brush:1};function lc(e,t,i){var n=t.getComponentByElement(e.topTarget),o=n&&n.coordinateSystem;return n&&n!==i&&!sc.hasOwnProperty(n.mainType)&&o&&o.model!==i}var uc,cc=i(1514),dc=i(262),hc=i(53203);function pc(e){if((0,l.Kg)(e)){var t=new DOMParser;e=t.parseFromString(e,"text/xml")}var i=e;9===i.nodeType&&(i=i.firstChild);while("svg"!==i.nodeName.toLowerCase()||1!==i.nodeType)i=i.nextSibling;return i}var gc={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},fc=(0,l.HP)(gc),mc={"alignment-baseline":"textBaseline","stop-color":"stopColor"},yc=(0,l.HP)(mc),vc=function(){function e(){this._defs={},this._root=null}return e.prototype.parse=function(e,t){t=t||{};var i=pc(e);this._defsUsePending=[];var n=new En.A;this._root=n;var o=[],a=i.getAttribute("viewBox")||"",r=parseFloat(i.getAttribute("width")||t.width),s=parseFloat(i.getAttribute("height")||t.height);isNaN(r)&&(r=null),isNaN(s)&&(s=null),Sc(i,n,null,!0,!1);var l,u,c=i.firstChild;while(c)this._parseNode(c,n,o,null,!1,!1),c=c.nextSibling;if(Ic(this._defs,this._defsUsePending),this._defsUsePending=[],a){var d=Dc(a);d.length>=4&&(l={x:parseFloat(d[0]||0),y:parseFloat(d[1]||0),width:parseFloat(d[2]),height:parseFloat(d[3])})}if(l&&null!=r&&null!=s&&(u=Ec(l,{x:0,y:0,width:r,height:s}),!t.ignoreViewBox)){var h=n;n=new En.A,n.add(h),h.scaleX=h.scaleY=u.scale,h.x=u.x,h.y=u.y}return t.ignoreRootClip||null==r||null==s||n.setClipPath(new fo.A({shape:{x:0,y:0,width:r,height:s}})),{root:n,width:r,height:s,viewBoxRect:l,viewBoxTransform:u,named:o}},e.prototype._parseNode=function(e,t,i,n,o,a){var r,s=e.nodeName.toLowerCase(),u=n;if("defs"===s&&(o=!0),"text"===s&&(a=!0),"defs"===s||"switch"===s)r=t;else{if(!o){var c=uc[s];if(c&&(0,l.$3)(uc,s)){r=c.call(this,e,t);var d=e.getAttribute("name");if(d){var h={name:d,namedFrom:null,svgNodeTagLower:s,el:r};i.push(h),"g"===s&&(u=h)}else n&&i.push({name:n.name,namedFrom:n,svgNodeTagLower:s,el:r});t.add(r)}}var p=_c[s];if(p&&(0,l.$3)(_c,s)){var g=p.call(this,e),f=e.getAttribute("id");f&&(this._defs[f]=g)}}if(r&&r.isGroup){var m=e.firstChild;while(m)1===m.nodeType?this._parseNode(m,r,i,u,o,a):3===m.nodeType&&a&&this._parseText(m,r),m=m.nextSibling}},e.prototype._parseText=function(e,t){var i=new We.A({style:{text:e.textContent},silent:!0,x:this._textX||0,y:this._textY||0});wc(t,i),Sc(e,i,this._defsUsePending,!1,!1),Ac(i,t);var n=i.style,o=n.fontSize;o&&o<9&&(n.fontSize=9,i.scaleX*=o/9,i.scaleY*=o/9);var a=(n.fontSize||n.fontFamily)&&[n.fontStyle,n.fontWeight,(n.fontSize||12)+"px",n.fontFamily||"sans-serif"].join(" ");n.font=a;var r=i.getBoundingRect();return this._textX+=r.width,t.add(i),i},e.internalField=function(){uc={g:function(e,t){var i=new En.A;return wc(t,i),Sc(e,i,this._defsUsePending,!1,!1),i},rect:function(e,t){var i=new fo.A;return wc(t,i),Sc(e,i,this._defsUsePending,!1,!1),i.setShape({x:parseFloat(e.getAttribute("x")||"0"),y:parseFloat(e.getAttribute("y")||"0"),width:parseFloat(e.getAttribute("width")||"0"),height:parseFloat(e.getAttribute("height")||"0")}),i.silent=!0,i},circle:function(e,t){var i=new Eu.A;return wc(t,i),Sc(e,i,this._defsUsePending,!1,!1),i.setShape({cx:parseFloat(e.getAttribute("cx")||"0"),cy:parseFloat(e.getAttribute("cy")||"0"),r:parseFloat(e.getAttribute("r")||"0")}),i.silent=!0,i},line:function(e,t){var i=new Vl.A;return wc(t,i),Sc(e,i,this._defsUsePending,!1,!1),i.setShape({x1:parseFloat(e.getAttribute("x1")||"0"),y1:parseFloat(e.getAttribute("y1")||"0"),x2:parseFloat(e.getAttribute("x2")||"0"),y2:parseFloat(e.getAttribute("y2")||"0")}),i.silent=!0,i},ellipse:function(e,t){var i=new cc.A;return wc(t,i),Sc(e,i,this._defsUsePending,!1,!1),i.setShape({cx:parseFloat(e.getAttribute("cx")||"0"),cy:parseFloat(e.getAttribute("cy")||"0"),rx:parseFloat(e.getAttribute("rx")||"0"),ry:parseFloat(e.getAttribute("ry")||"0")}),i.silent=!0,i},polygon:function(e,t){var i,n=e.getAttribute("points");n&&(i=Cc(n));var o=new Mu.A({shape:{points:i||[]},silent:!0});return wc(t,o),Sc(e,o,this._defsUsePending,!1,!1),o},polyline:function(e,t){var i,n=e.getAttribute("points");n&&(i=Cc(n));var o=new w.A({shape:{points:i||[]},silent:!0});return wc(t,o),Sc(e,o,this._defsUsePending,!1,!1),o},image:function(e,t){var i=new Ge.Ay;return wc(t,i),Sc(e,i,this._defsUsePending,!1,!1),i.setStyle({image:e.getAttribute("xlink:href")||e.getAttribute("href"),x:+e.getAttribute("x"),y:+e.getAttribute("y"),width:+e.getAttribute("width"),height:+e.getAttribute("height")}),i.silent=!0,i},text:function(e,t){var i=e.getAttribute("x")||"0",n=e.getAttribute("y")||"0",o=e.getAttribute("dx")||"0",a=e.getAttribute("dy")||"0";this._textX=parseFloat(i)+parseFloat(o),this._textY=parseFloat(n)+parseFloat(a);var r=new En.A;return wc(t,r),Sc(e,r,this._defsUsePending,!1,!0),r},tspan:function(e,t){var i=e.getAttribute("x"),n=e.getAttribute("y");null!=i&&(this._textX=parseFloat(i)),null!=n&&(this._textY=parseFloat(n));var o=e.getAttribute("dx")||"0",a=e.getAttribute("dy")||"0",r=new En.A;return wc(t,r),Sc(e,r,this._defsUsePending,!1,!0),this._textX+=parseFloat(o),this._textY+=parseFloat(a),r},path:function(e,t){var i=e.getAttribute("d")||"",n=(0,dc.UJ)(i);return wc(t,n),Sc(e,n,this._defsUsePending,!1,!1),n.silent=!0,n}}}(),e}(),_c={lineargradient:function(e){var t=parseInt(e.getAttribute("x1")||"0",10),i=parseInt(e.getAttribute("y1")||"0",10),n=parseInt(e.getAttribute("x2")||"10",10),o=parseInt(e.getAttribute("y2")||"0",10),a=new ao.A(t,i,n,o);return xc(e,a),bc(e,a),a},radialgradient:function(e){var t=parseInt(e.getAttribute("cx")||"0",10),i=parseInt(e.getAttribute("cy")||"0",10),n=parseInt(e.getAttribute("r")||"0",10),o=new hc.A(t,i,n);return xc(e,o),bc(e,o),o}};function xc(e,t){var i=e.getAttribute("gradientUnits");"userSpaceOnUse"===i&&(t.global=!0)}function bc(e,t){var i=e.firstChild;while(i){if(1===i.nodeType&&"stop"===i.nodeName.toLocaleLowerCase()){var n=i.getAttribute("offset"),o=void 0;o=n&&n.indexOf("%")>0?parseInt(n,10)/100:n?parseFloat(n):0;var a={};Rc(i,a,a);var r=a.stopColor||i.getAttribute("stop-color")||"#000000";t.colorStops.push({offset:o,color:r})}i=i.nextSibling}}function wc(e,t){e&&e.__inheritedStyle&&(t.__inheritedStyle||(t.__inheritedStyle={}),(0,l.NT)(t.__inheritedStyle,e.__inheritedStyle))}function Cc(e){for(var t=Dc(e),i=[],n=0;n<t.length;n+=2){var o=parseFloat(t[n]),a=parseFloat(t[n+1]);i.push([o,a])}return i}function Sc(e,t,i,n,o){var a=t,r=a.__inheritedStyle=a.__inheritedStyle||{},s={};1===e.nodeType&&(Fc(e,t),Rc(e,r,s),n||Vc(e,r,s)),a.style=a.style||{},null!=r.fill&&(a.style.fill=Mc(a,"fill",r.fill,i)),null!=r.stroke&&(a.style.stroke=Mc(a,"stroke",r.stroke,i)),(0,l.__)(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],(function(e){null!=r[e]&&(a.style[e]=parseFloat(r[e]))})),(0,l.__)(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],(function(e){null!=r[e]&&(a.style[e]=r[e])})),o&&(a.__selfStyle=s),r.lineDash&&(a.style.lineDash=(0,l.Tj)(Dc(r.lineDash),(function(e){return parseFloat(e)}))),"hidden"!==r.visibility&&"collapse"!==r.visibility||(a.invisible=!0),"none"===r.display&&(a.ignore=!0)}function Ac(e,t){var i=t.__selfStyle;if(i){var n=i.textBaseline,o=n;n&&"auto"!==n?"baseline"===n?o="alphabetic":"before-edge"===n||"text-before-edge"===n?o="top":"after-edge"===n||"text-after-edge"===n?o="bottom":"central"!==n&&"mathematical"!==n||(o="middle"):o="alphabetic",e.style.textBaseline=o}var a=t.__inheritedStyle;if(a){var r=a.textAlign,s=r;r&&("middle"===r&&(s="center"),e.style.textAlign=s)}}var kc=/^url\(\s*#(.*?)\)/;function Mc(e,t,i,n){var o=i&&i.match(kc);if(!o)return"none"===i&&(i=null),i;var a=(0,l.Bq)(o[1]);n.push([e,t,a])}function Ic(e,t){for(var i=0;i<t.length;i++){var n=t[i];n[0].style[n[1]]=e[n[2]]}}var Tc=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function Dc(e){return e.match(Tc)||[]}var Lc=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,Pc=Math.PI/180;function Fc(e,t){var i=e.getAttribute("transform");if(i){i=i.replace(/,/g," ");var n=[],o=null;i.replace(Lc,(function(e,t,i){return n.push(t,i),""}));for(var a=n.length-1;a>0;a-=2){var r=n[a],s=n[a-1],l=Dc(r);switch(o=o||k.vt(),s){case"translate":k.Tl(o,o,[parseFloat(l[0]),parseFloat(l[1]||"0")]);break;case"scale":k.hs(o,o,[parseFloat(l[0]),parseFloat(l[1]||l[0])]);break;case"rotate":k.e$(o,o,-parseFloat(l[0])*Pc,[parseFloat(l[1]||"0"),parseFloat(l[2]||"0")]);break;case"skewX":var u=Math.tan(parseFloat(l[0])*Pc);k.lK(o,[1,0,u,1,0,0],o);break;case"skewY":var c=Math.tan(parseFloat(l[0])*Pc);k.lK(o,[1,c,0,1,0,0],o);break;case"matrix":o[0]=parseFloat(l[0]),o[1]=parseFloat(l[1]),o[2]=parseFloat(l[2]),o[3]=parseFloat(l[3]),o[4]=parseFloat(l[4]),o[5]=parseFloat(l[5]);break}}t.setLocalTransform(o)}}var Nc=/([^\s:;]+)\s*:\s*([^:;]+)/g;function Rc(e,t,i){var n=e.getAttribute("style");if(n){var o;Nc.lastIndex=0;while(null!=(o=Nc.exec(n))){var a=o[1],r=(0,l.$3)(gc,a)?gc[a]:null;r&&(t[r]=o[2]);var s=(0,l.$3)(mc,a)?mc[a]:null;s&&(i[s]=o[2])}}}function Vc(e,t,i){for(var n=0;n<fc.length;n++){var o=fc[n],a=e.getAttribute(o);null!=a&&(t[gc[o]]=a)}for(n=0;n<yc.length;n++){o=yc[n],a=e.getAttribute(o);null!=a&&(i[mc[o]]=a)}}function Ec(e,t){var i=t.width/e.width,n=t.height/e.height,o=Math.min(i,n);return{scale:o,x:-(e.x+e.width/2)*o+(t.x+t.width/2),y:-(e.y+e.height/2)*o+(t.y+t.height/2)}}function Oc(e,t){var i=new vc;return i.parse(e,t)}var zc=i(22750),Gc=1e-8;function Bc(e,t){return Math.abs(e-t)<Gc}function Wc(e,t,i){var n=0,o=e[0];if(!o)return!1;for(var a=1;a<e.length;a++){var r=e[a];n+=(0,zc.A)(o[0],o[1],r[0],r[1],t,i),o=r}var s=e[0];return Bc(o[0],s[0])&&Bc(o[1],s[1])||(n+=(0,zc.A)(o[0],o[1],s[0],s[1],t,i)),0!==n}var Hc=[];function Xc(e,t){for(var i=0;i<e.length;i++)M.NW(e[i],e[i],t)}function $c(e,t,i,n){for(var o=0;o<e.length;o++){var a=e[o];n&&(a=n.project(a)),a&&isFinite(a[0])&&isFinite(a[1])&&(M.jk(t,t,a),M.T9(i,i,a))}}function jc(e){for(var t=0,i=0,n=0,o=e.length,a=e[o-1][0],r=e[o-1][1],s=0;s<o;s++){var l=e[s][0],u=e[s][1],c=a*u-l*r;t+=c,i+=(a+l)*c,n+=(r+u)*c,a=l,r=u}return t?[i/t/3,n/t/3,t]:[e[0][0]||0,e[0][1]||0]}var Uc=function(){function e(e){this.name=e}return e.prototype.setCenter=function(e){this._center=e},e.prototype.getCenter=function(){var e=this._center;return e||(e=this._center=this.calcCenter()),e},e}(),Yc=function(){function e(e,t){this.type="polygon",this.exterior=e,this.interiors=t}return e}(),Zc=function(){function e(e){this.type="linestring",this.points=e}return e}(),qc=function(e){function t(t,i,n){var o=e.call(this,t)||this;return o.type="geoJSON",o.geometries=i,o._center=n&&[n[0],n[1]],o}return(0,_e.C6)(t,e),t.prototype.calcCenter=function(){for(var e,t=this.geometries,i=0,n=0;n<t.length;n++){var o=t[n],a=o.exterior,r=a&&a.length;r>i&&(e=o,i=r)}if(e)return jc(e.exterior);var s=this.getBoundingRect();return[s.x+s.width/2,s.y+s.height/2]},t.prototype.getBoundingRect=function(e){var t=this._rect;if(t&&!e)return t;var i=[1/0,1/0],n=[-1/0,-1/0],o=this.geometries;return(0,l.__)(o,(function(t){"polygon"===t.type?$c(t.exterior,i,n,e):(0,l.__)(t.points,(function(t){$c(t,i,n,e)}))})),isFinite(i[0])&&isFinite(i[1])&&isFinite(n[0])&&isFinite(n[1])||(i[0]=i[1]=n[0]=n[1]=0),t=new f.A(i[0],i[1],n[0]-i[0],n[1]-i[1]),e||(this._rect=t),t},t.prototype.contain=function(e){var t=this.getBoundingRect(),i=this.geometries;if(!t.contain(e[0],e[1]))return!1;e:for(var n=0,o=i.length;n<o;n++){var a=i[n];if("polygon"===a.type){var r=a.exterior,s=a.interiors;if(Wc(r,e[0],e[1])){for(var l=0;l<(s?s.length:0);l++)if(Wc(s[l],e[0],e[1]))continue e;return!0}}}return!1},t.prototype.transformTo=function(e,t,i,n){var o=this.getBoundingRect(),a=o.width/o.height;i?n||(n=i/a):i=a*n;for(var r=new f.A(e,t,i,n),s=o.calculateTransform(r),u=this.geometries,c=0;c<u.length;c++){var d=u[c];"polygon"===d.type?(Xc(d.exterior,s),(0,l.__)(d.interiors,(function(e){Xc(e,s)}))):(0,l.__)(d.points,(function(e){Xc(e,s)}))}o=this._rect,o.copy(r),this._center=[o.x+o.width/2,o.y+o.height/2]},t.prototype.cloneShallow=function(e){null==e&&(e=this.name);var i=new t(e,this.geometries,this._center);return i._rect=this._rect,i.transformTo=null,i},t}(Uc),Kc=function(e){function t(t,i){var n=e.call(this,t)||this;return n.type="geoSVG",n._elOnlyForCalculate=i,n}return(0,_e.C6)(t,e),t.prototype.calcCenter=function(){var e=this._elOnlyForCalculate,t=e.getBoundingRect(),i=[t.x+t.width/2,t.y+t.height/2],n=k.D_(Hc),o=e;while(o&&!o.isGeoSVGGraphicRoot)k.lK(n,o.getLocalTransform(),n),o=o.parent;return k.B8(n,n),M.NW(i,i,n),i},t}(Uc),Qc=(0,l.nt)(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),Jc=function(){function e(e,t){this.type="geoSVG",this._usedGraphicMap=(0,l.nt)(),this._freedGraphics=[],this._mapName=e,this._parsedXML=pc(t)}return e.prototype.load=function(){var e=this._firstGraphic;if(!e){e=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(e),this._boundingRect=this._firstGraphic.boundingRect.clone();var t=td(e.named),i=t.regions,n=t.regionsMap;this._regions=i,this._regionsMap=n}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},e.prototype._buildGraphic=function(e){var t,i;try{t=e&&Oc(e,{ignoreViewBox:!0,ignoreRootClip:!0})||{},i=t.root,(0,l.vA)(null!=i)}catch(y){throw new Error("Invalid svg format\n"+y.message)}var n=new En.A;n.add(i),n.isGeoSVGGraphicRoot=!0;var o=t.width,a=t.height,r=t.viewBoxRect,s=this._boundingRect;if(!s){var u=void 0,c=void 0,d=void 0,h=void 0;if(null!=o?(u=0,d=o):r&&(u=r.x,d=r.width),null!=a?(c=0,h=a):r&&(c=r.y,h=r.height),null==u||null==c){var p=i.getBoundingRect();null==u&&(u=p.x,d=p.width),null==c&&(c=p.y,h=p.height)}s=this._boundingRect=new f.A(u,c,d,h)}if(r){var g=Ec(r,s);i.scaleX=i.scaleY=g.scale,i.x=g.x,i.y=g.y}n.setClipPath(new fo.A({shape:s.plain()}));var m=[];return(0,l.__)(t.named,(function(e){null!=Qc.get(e.svgNodeTagLower)&&(m.push(e),ed(e.el))})),{root:n,boundingRect:s,named:m}},e.prototype.useGraphic=function(e){var t=this._usedGraphicMap,i=t.get(e);return i||(i=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),t.set(e,i),i)},e.prototype.freeGraphic=function(e){var t=this._usedGraphicMap,i=t.get(e);i&&(t.removeKey(e),this._freedGraphics.push(i))},e}();function ed(e){e.silent=!1,e.isGroup&&e.traverse((function(e){e.silent=!1}))}function td(e){var t=[],i=(0,l.nt)();return(0,l.__)(e,(function(e){if(null==e.namedFrom){var n=new Kc(e.name,e.el);t.push(n),i.set(e.name,n)}})),{regions:t,regionsMap:i}}function id(e){if(!e.UTF8Encoding)return e;var t=e,i=t.UTF8Scale;null==i&&(i=1024);var n=t.features;return l.__(n,(function(e){var t=e.geometry,n=t.encodeOffsets,o=t.coordinates;if(n)switch(t.type){case"LineString":t.coordinates=od(o,n,i);break;case"Polygon":nd(o,n,i);break;case"MultiLineString":nd(o,n,i);break;case"MultiPolygon":l.__(o,(function(e,t){return nd(e,n[t],i)}))}})),t.UTF8Encoding=!1,t}function nd(e,t,i){for(var n=0;n<e.length;n++)e[n]=od(e[n],t[n],i)}function od(e,t,i){for(var n=[],o=t[0],a=t[1],r=0;r<e.length;r+=2){var s=e.charCodeAt(r)-64,l=e.charCodeAt(r+1)-64;s=s>>1^-(1&s),l=l>>1^-(1&l),s+=o,l+=a,o=s,a=l,n.push([s/i,l/i])}return n}function ad(e,t){return e=id(e),l.Tj(l.pb(e.features,(function(e){return e.geometry&&e.properties&&e.geometry.coordinates.length>0})),(function(e){var i=e.properties,n=e.geometry,o=[];switch(n.type){case"Polygon":var a=n.coordinates;o.push(new Yc(a[0],a.slice(1)));break;case"MultiPolygon":l.__(n.coordinates,(function(e){e[0]&&o.push(new Yc(e[0],e.slice(1)))}));break;case"LineString":o.push(new Zc([n.coordinates]));break;case"MultiLineString":o.push(new Zc(n.coordinates))}var r=new qc(i[t||"name"],o,i.cp);return r.properties=i,r}))}for(var rd=[126,25],sd="南海诸岛",ld=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],ud=0;ud<ld.length;ud++)for(var cd=0;cd<ld[ud].length;cd++)ld[ud][cd][0]/=10.5,ld[ud][cd][1]/=-14,ld[ud][cd][0]+=rd[0],ld[ud][cd][1]+=rd[1];function dd(e,t){if("china"===e){for(var i=0;i<t.length;i++)if(t[i].name===sd)return;t.push(new qc(sd,l.Tj(ld,(function(e){return{type:"polygon",exterior:e}})),rd))}}var hd={"南海诸岛":[32,80],"广东":[0,-10],"香港":[10,5],"澳门":[-10,10],"天津":[5,5]};function pd(e,t){if("china"===e){var i=hd[t.name];if(i){var n=t.getCenter();n[0]+=i[0]/10.5,n[1]+=-i[1]/14,t.setCenter(n)}}}var gd=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];function fd(e,t){"china"===e&&"台湾"===t.name&&t.geometries.push({type:"polygon",exterior:gd[0]})}var md="name",yd=function(){function e(e,t,i){this.type="geoJSON",this._parsedMap=(0,l.nt)(),this._mapName=e,this._specialAreas=i,this._geoJSON=_d(t)}return e.prototype.load=function(e,t){t=t||md;var i=this._parsedMap.get(t);if(!i){var n=this._parseToRegions(t);i=this._parsedMap.set(t,{regions:n,boundingRect:vd(n)})}var o=(0,l.nt)(),a=[];return(0,l.__)(i.regions,(function(t){var i=t.name;e&&(0,l.$3)(e,i)&&(t=t.cloneShallow(i=e[i])),a.push(t),o.set(i,t)})),{regions:a,boundingRect:i.boundingRect||new f.A(0,0,0,0),regionsMap:o}},e.prototype._parseToRegions=function(e){var t,i=this._mapName,n=this._geoJSON;try{t=n?ad(n,e):[]}catch(o){throw new Error("Invalid geoJson format\n"+o.message)}return dd(i,t),(0,l.__)(t,(function(e){var t=e.name;pd(i,e),fd(i,e);var n=this._specialAreas&&this._specialAreas[t];n&&e.transformTo(n.left,n.top,n.width,n.height)}),this),t},e.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},e}();function vd(e){for(var t,i=0;i<e.length;i++){var n=e[i].getBoundingRect();t=t||n.clone(),t.union(n)}return t}function _d(e){return(0,l.Kg)(e)?"undefined"!==typeof JSON&&JSON.parse?JSON.parse(e):new Function("return ("+e+");")():e}var xd=(0,l.nt)(),bd={registerMap:function(e,t,i){if(t.svg){var n=new Jc(e,t.svg);xd.set(e,n)}else{var o=t.geoJson||t.geoJSON;o&&!t.features?i=t.specialAreas:o=t;n=new yd(e,o,i);xd.set(e,n)}},getGeoResource:function(e){return xd.get(e)},getMapForUser:function(e){var t=xd.get(e);return t&&"geoJSON"===t.type&&t.getMapForUser()},load:function(e,t,i){var n=xd.get(e);if(n)return n.load(t,i)}},wd=i(72137),Cd=i(58488),Sd=["rect","circle","line","ellipse","polygon","polyline","path"],Ad=l.nt(Sd),kd=l.nt(Sd.concat(["g"])),Md=l.nt(Sd.concat(["g"])),Id=(0,g.$r)();function Td(e){var t=e.getItemStyle(),i=e.get("areaColor");return null!=i&&(t.fill=i),t}function Dd(e){var t=e.style;t&&(t.stroke=t.stroke||t.fill,t.fill=null)}var Ld=function(){function e(e){var t=new En.A;this.uid=(0,ua.$Q)("ec_map_draw"),this._controller=new oc(e.getZr()),this._controllerHost={target:t},this.group=t,t.add(this._regionsGroup=new En.A),t.add(this._svgGroup=new En.A)}return e.prototype.draw=function(e,t,i,n,o){var a="geo"===e.mainType,r=e.getData&&e.getData();a&&t.eachComponent({mainType:"series",subType:"map"},(function(t){r||t.getHostGeoModel()!==e||(r=t.getData())}));var s=e.coordinateSystem,l=this._regionsGroup,u=this.group,c=s.getTransformInfo(),d=c.raw,h=c.roam,p=!l.childAt(0)||o;p?(u.x=h.x,u.y=h.y,u.scaleX=h.scaleX,u.scaleY=h.scaleY,u.dirty()):m.oi(u,h,e);var g=r&&r.getVisual("visualMeta")&&r.getVisual("visualMeta").length>0,f={api:i,geo:s,mapOrGeoModel:e,data:r,isVisualEncodedByVisualMap:g,isGeo:a,transformInfoRaw:d};"geoJSON"===s.resourceType?this._buildGeoJSON(f):"geoSVG"===s.resourceType&&this._buildSVG(f),this._updateController(e,t,i),this._updateMapSelectHandler(e,l,i,n)},e.prototype._buildGeoJSON=function(e){var t=this._regionsGroupByName=l.nt(),i=l.nt(),n=this._regionsGroup,o=e.transformInfoRaw,a=e.mapOrGeoModel,r=e.data,s=e.geo.projection,u=s&&s.stream;function c(e,t){return t&&(e=t(e)),e&&[e[0]*o.scaleX+o.x,e[1]*o.scaleY+o.y]}function d(e){for(var t=[],i=!u&&s&&s.project,n=0;n<e.length;++n){var o=c(e[n],i);o&&t.push(o)}return t}function h(e){return{shape:{points:d(e)}}}n.removeAll(),l.__(e.geo.regions,(function(o){var d=o.name,p=t.get(d),g=i.get(d)||{},f=g.dataIdx,m=g.regionModel;p||(p=t.set(d,new En.A),n.add(p),f=r?r.indexOfName(d):null,m=e.isGeo?a.getRegionModel(d):r?r.getItemModel(f):null,i.set(d,{dataIdx:f,regionModel:m}));var y=[],v=[];l.__(o.geometries,(function(e){if("polygon"===e.type){var t=[e.exterior].concat(e.interiors||[]);u&&(t=Ed(t,u)),l.__(t,(function(e){y.push(new Mu.A(h(e)))}))}else{var i=e.points;u&&(i=Ed(i,u,!0)),l.__(i,(function(e){v.push(new w.A(h(e)))}))}}));var _=c(o.getCenter(),s&&s.project);function x(t,i){if(t.length){var n=new _t.A({culling:!0,segmentIgnoreThreshold:1,shape:{paths:t}});p.add(n),Pd(e,n,f,m),Fd(e,n,d,m,a,f,_),i&&(Dd(n),l.__(n.states,Dd))}}x(y),x(v,!0)})),t.each((function(t,n){var o=i.get(n),r=o.dataIdx,s=o.regionModel;Nd(e,t,n,s,a,r),Rd(e,t,n,s,a),Vd(e,t,n,s,a)}),this)},e.prototype._buildSVG=function(e){var t=e.geo.map,i=e.transformInfoRaw;this._svgGroup.x=i.x,this._svgGroup.y=i.y,this._svgGroup.scaleX=i.scaleX,this._svgGroup.scaleY=i.scaleY,this._svgResourceChanged(t)&&(this._freeSVG(),this._useSVG(t));var n=this._svgDispatcherMap=l.nt(),o=!1;l.__(this._svgGraphicRecord.named,(function(t){var i=t.name,a=e.mapOrGeoModel,r=e.data,s=t.svgNodeTagLower,l=t.el,u=r?r.indexOfName(i):null,c=a.getRegionModel(i);if(null!=Ad.get(s)&&l instanceof Cd.Ay&&Pd(e,l,u,c),l instanceof Cd.Ay&&(l.culling=!0),l.z2EmphasisLift=0,!t.namedFrom&&(null!=Md.get(s)&&Fd(e,l,i,c,a,u,null),Nd(e,l,i,c,a,u),Rd(e,l,i,c,a),null!=kd.get(s))){var d=Vd(e,l,i,c,a);"self"===d&&(o=!0);var h=n.get(i)||n.set(i,[]);h.push(l)}}),this),this._enableBlurEntireSVG(o,e)},e.prototype._enableBlurEntireSVG=function(e,t){if(e&&t.isGeo){var i=t.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle(),n=i.opacity;this._svgGraphicRecord.root.traverse((function(e){if(!e.isGroup){(0,I.DW)(e);var t=e.ensureState("blur").style||{};null==t.opacity&&null!=n&&(t.opacity=n),e.ensureState("emphasis")}}))}},e.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},e.prototype.findHighDownDispatchers=function(e,t){if(null==e)return[];var i=t.coordinateSystem;if("geoJSON"===i.resourceType){var n=this._regionsGroupByName;if(n){var o=n.get(e);return o?[o]:[]}}else if("geoSVG"===i.resourceType)return this._svgDispatcherMap&&this._svgDispatcherMap.get(e)||[]},e.prototype._svgResourceChanged=function(e){return this._svgMapName!==e},e.prototype._useSVG=function(e){var t=bd.getGeoResource(e);if(t&&"geoSVG"===t.type){var i=t.useGraphic(this.uid);this._svgGroup.add(i.root),this._svgGraphicRecord=i,this._svgMapName=e}},e.prototype._freeSVG=function(){var e=this._svgMapName;if(null!=e){var t=bd.getGeoResource(e);t&&"geoSVG"===t.type&&t.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},e.prototype._updateController=function(e,t,i){var n=e.coordinateSystem,o=this._controller,a=this._controllerHost;a.zoomLimit=e.get("scaleLimit"),a.zoom=n.getZoom(),o.enable(e.get("roam")||!1);var r=e.mainType;function s(){var t={type:"geoRoam",componentType:r};return t[r+"Id"]=e.id,t}o.off("pan").on("pan",(function(e){this._mouseDownFlag=!1,ac(a,e.dx,e.dy),i.dispatchAction(l.X$(s(),{dx:e.dx,dy:e.dy,animation:{duration:0}}))}),this),o.off("zoom").on("zoom",(function(e){this._mouseDownFlag=!1,rc(a,e.scale,e.originX,e.originY),i.dispatchAction(l.X$(s(),{totalZoom:a.zoom,zoom:e.scale,originX:e.originX,originY:e.originY,animation:{duration:0}}))}),this),o.setPointerChecker((function(t,o,a){return n.containPoint([o,a])&&!lc(t,i,e)}))},e.prototype.resetForLabelLayout=function(){this.group.traverse((function(e){var t=e.getTextContent();t&&(t.ignore=Id(t).ignore)}))},e.prototype._updateMapSelectHandler=function(e,t,i,n){var o=this;t.off("mousedown"),t.off("click"),e.get("selectedMode")&&(t.on("mousedown",(function(){o._mouseDownFlag=!0})),t.on("click",(function(e){o._mouseDownFlag&&(o._mouseDownFlag=!1)})))},e}();function Pd(e,t,i,n){var o=n.getModel("itemStyle"),a=n.getModel(["emphasis","itemStyle"]),r=n.getModel(["blur","itemStyle"]),s=n.getModel(["select","itemStyle"]),l=Td(o),u=Td(a),c=Td(s),d=Td(r),h=e.data;if(h){var p=h.getItemVisual(i,"style"),g=h.getItemVisual(i,"decal");e.isVisualEncodedByVisualMap&&p.fill&&(l.fill=p.fill),g&&(l.decal=(0,wd.w)(g,e.api))}t.setStyle(l),t.style.strokeNoScale=!0,t.ensureState("emphasis").style=u,t.ensureState("select").style=c,t.ensureState("blur").style=d,(0,I.DW)(t)}function Fd(e,t,i,n,o,a,r){var s=e.data,l=e.isGeo,u=s&&isNaN(s.get(s.mapDimension("value"),a)),c=s&&s.getItemLayout(a);if(l||u||c&&c.showLabel){var d=l?i:a,h=void 0;(!s||a>=0)&&(h=o);var p=r?{normal:{align:"center",verticalAlign:"middle"}}:null;(0,ae.qM)(t,(0,ae.lx)(n),{labelFetcher:h,labelDataIndex:d,defaultText:i},p);var g=t.getTextContent();if(g&&(Id(g).ignore=g.ignore,t.textConfig&&r)){var f=t.getBoundingRect().clone();t.textConfig.layoutRect=f,t.textConfig.position=[(r[0]-f.x)/f.width*100+"%",(r[1]-f.y)/f.height*100+"%"]}t.disableLabelAnimation=!0}else t.removeTextContent(),t.removeTextConfig(),t.disableLabelAnimation=null}function Nd(e,t,i,n,o,a){e.data?e.data.setItemGraphicEl(a,t):(0,y.z)(t).eventData={componentType:"geo",componentIndex:o.componentIndex,geoIndex:o.componentIndex,name:i,region:n&&n.option||{}}}function Rd(e,t,i,n,o){e.data||Gn.setTooltipConfig({el:t,componentModel:o,itemName:i,itemTooltipOption:n.get("tooltip")})}function Vd(e,t,i,n,o){t.highDownSilentOnTouch=!!o.get("selectedMode");var a=n.getModel("emphasis"),r=a.get("focus");return(0,I.Lm)(t,r,a.get("blurScope"),a.get("disabled")),e.isGeo&&(0,I.ml)(t,o,i),r}function Ed(e,t,i){var n,o=[];function a(){n=[]}function r(){n.length&&(o.push(n),n=[])}var s=t({polygonStart:a,polygonEnd:r,lineStart:a,lineEnd:r,point:function(e,t){isFinite(e)&&isFinite(t)&&n.push([e,t])},sphere:function(){}});return!i&&s.polygonStart(),l.__(e,(function(e){s.lineStart();for(var t=0;t<e.length;t++)s.point(e[t][0],e[t][1]);s.lineEnd()})),!i&&s.polygonEnd(),o}var Od=Ld,zd=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return(0,_e.C6)(t,e),t.prototype.render=function(e,t,i,n){if(!n||"mapToggleSelect"!==n.type||n.from!==this.uid){var o=this.group;if(o.removeAll(),!e.getHostGeoModel()){if(this._mapDraw&&n&&"geoRoam"===n.type&&this._mapDraw.resetForLabelLayout(),n&&"geoRoam"===n.type&&"series"===n.componentType&&n.seriesId===e.id){a=this._mapDraw;a&&o.add(a.group)}else if(e.needsDrawMap){var a=this._mapDraw||new Od(i);o.add(a.group),a.draw(e,t,i,this,n),this._mapDraw=a}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;e.get("showLegendSymbol")&&t.getComponent("legend")&&this._renderSymbols(e,t,i)}}},t.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},t.prototype._renderSymbols=function(e,t,i){var n=e.originalData,o=this.group;n.each(n.mapDimension("value"),(function(t,i){if(!isNaN(t)){var a=n.getItemLayout(i);if(a&&a.point){var r=a.point,s=a.offset,l=new Eu.A({style:{fill:e.getData().getVisual("style").fill},shape:{cx:r[0]+9*s,cy:r[1],r:3},silent:!0,z2:8+(s?0:I.CA+1)});if(!s){var u=e.mainSeries.getData(),c=n.getName(i),d=u.indexOfName(c),h=n.getItemModel(i),p=h.getModel("label"),g=u.getItemGraphicEl(d);(0,ae.qM)(l,(0,ae.lx)(h),{labelFetcher:{getFormattedLabel:function(t,i){return e.getFormattedLabel(d,i)}},defaultText:c}),l.disableLabelAnimation=!0,p.get("position")||l.setTextConfig({position:"bottom"}),g.onHoverStateChange=function(e){(0,I.Pk)(l,e)}}o.add(l)}}}))},t.type="map",t}(a.A),Gd=zd,Bd=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i.needsDrawMap=!1,i.seriesGroup=[],i.getTooltipPosition=function(e){if(null!=e){var t=this.getData().getName(e),i=this.coordinateSystem,n=i.getRegion(t);return n&&i.dataToPoint(n.getCenter())}},i}return(0,_e.C6)(t,e),t.prototype.getInitialData=function(e){for(var t=dr(this,{coordDimensions:["value"],encodeDefaulter:l.cF(mn.ln,this)}),i=l.nt(),n=[],o=0,a=t.count();o<a;o++){var r=t.getName(o);i.set(r,!0)}var s=bd.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return l.__(s.regions,(function(e){var t=e.name;i.get(t)||n.push(t)})),t.appendValues([],n),t},t.prototype.getHostGeoModel=function(){var e=this.option.geoIndex;return null!=e?this.ecModel.getComponent("geo",e):null},t.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},t.prototype.getRawValue=function(e){var t=this.getData();return t.get(t.mapDimension("value"),e)},t.prototype.getRegionModel=function(e){var t=this.getData();return t.getItemModel(t.indexOfName(e))},t.prototype.formatTooltip=function(e,t,i){for(var n=this.getData(),o=this.getRawValue(e),a=n.getName(e),r=this.seriesGroup,s=[],l=0;l<r.length;l++){var u=r[l].originalData.indexOfName(a),c=n.mapDimension("value");isNaN(r[l].originalData.get(c,u))||s.push(r[l].name)}return(0,Du.Qx)("section",{header:s.join(", "),noHeader:!s.length,blocks:[(0,Du.Qx)("nameValue",{name:a,value:o})]})},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.getLegendIcon=function(e){var t=e.icon||"roundRect",i=(0,Vn.v5)(t,0,0,e.itemWidth,e.itemHeight,e.itemStyle.fill);return i.setStyle(e.itemStyle),i.style.stroke="none",t.indexOf("empty")>-1&&(i.style.stroke=i.style.fill,i.style.fill="#fff",i.style.lineWidth=2),i},t.type="series.map",t.dependencies=["geo"],t.layoutMode="box",t.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},t}(s.A),Wd=Bd;function Hd(e,t){var i={};return l.__(e,(function(e){e.each(e.mapDimension("value"),(function(t,n){var o="ec-"+e.getName(n);i[o]=i[o]||[],isNaN(t)||i[o].push(t)}))})),e[0].map(e[0].mapDimension("value"),(function(n,o){for(var a,r="ec-"+e[0].getName(o),s=0,l=1/0,u=-1/0,c=i[r].length,d=0;d<c;d++)l=Math.min(l,i[r][d]),u=Math.max(u,i[r][d]),s+=i[r][d];return a="min"===t?l:"max"===t?u:"average"===t?s/c:s,0===c?NaN:a}))}function Xd(e){var t={};e.eachSeriesByType("map",(function(e){var i=e.getHostGeoModel(),n=i?"o"+i.id:"i"+e.getMapType();(t[n]=t[n]||[]).push(e)})),l.__(t,(function(e,t){for(var i=Hd(l.Tj(e,(function(e){return e.getData()})),e[0].get("mapValueCalculation")),n=0;n<e.length;n++)e[n].originalData=e[n].getData();for(n=0;n<e.length;n++)e[n].seriesGroup=e,e[n].needsDrawMap=0===n&&!e[n].getHostGeoModel(),e[n].setData(i.cloneShallow()),e[n].mainSeries=e[0]}))}function $d(e){var t={};e.eachSeriesByType("map",(function(i){var n=i.getMapType();if(!i.getHostGeoModel()&&!t[n]){var o={};l.__(i.seriesGroup,(function(t){var i=t.coordinateSystem,n=t.originalData;t.get("showLegendSymbol")&&e.getComponent("legend")&&n.each(n.mapDimension("value"),(function(e,t){var a=n.getName(t),r=i.getRegion(a);if(r&&!isNaN(e)){var s=o[a]||0,l=i.dataToPoint(r.getCenter());o[a]=s+1,n.setItemLayout(t,{point:l,offset:s})}}))}));var a=i.getData();a.each((function(e){var t=a.getName(e),i=a.getItemLayout(e)||{};i.showLabel=!o[t],a.setItemLayout(e,i)})),t[n]=!0}}))}var jd=M.NW,Ud=function(e){function t(t){var i=e.call(this)||this;return i.type="view",i.dimensions=["x","y"],i._roamTransformable=new _.Ay,i._rawTransformable=new _.Ay,i.name=t,i}return(0,_e.C6)(t,e),t.prototype.setBoundingRect=function(e,t,i,n){return this._rect=new f.A(e,t,i,n),this._rect},t.prototype.getBoundingRect=function(){return this._rect},t.prototype.setViewRect=function(e,t,i,n){this._transformTo(e,t,i,n),this._viewRect=new f.A(e,t,i,n)},t.prototype._transformTo=function(e,t,i,n){var o=this.getBoundingRect(),a=this._rawTransformable;a.transform=o.calculateTransform(new f.A(e,t,i,n));var r=a.parent;a.parent=null,a.decomposeTransform(),a.parent=r,this._updateTransform()},t.prototype.setCenter=function(e,t){e&&(this._center=[(0,v.lo)(e[0],t.getWidth()),(0,v.lo)(e[1],t.getHeight())],this._updateCenterAndZoom())},t.prototype.setZoom=function(e){e=e||1;var t=this.zoomLimit;t&&(null!=t.max&&(e=Math.min(t.max,e)),null!=t.min&&(e=Math.max(t.min,e))),this._zoom=e,this._updateCenterAndZoom()},t.prototype.getDefaultCenter=function(){var e=this.getBoundingRect(),t=e.x+e.width/2,i=e.y+e.height/2;return[t,i]},t.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},t.prototype.getZoom=function(){return this._zoom||1},t.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},t.prototype._updateCenterAndZoom=function(){var e=this._rawTransformable.getLocalTransform(),t=this._roamTransformable,i=this.getDefaultCenter(),n=this.getCenter(),o=this.getZoom();n=M.NW([],n,e),i=M.NW([],i,e),t.originX=n[0],t.originY=n[1],t.x=i[0]-n[0],t.y=i[1]-n[1],t.scaleX=t.scaleY=o,this._updateTransform()},t.prototype._updateTransform=function(){var e=this._roamTransformable,t=this._rawTransformable;t.parent=e,e.updateTransform(),t.updateTransform(),k.C(this.transform||(this.transform=[]),t.transform||k.vt()),this._rawTransform=t.getLocalTransform(),this.invTransform=this.invTransform||[],k.B8(this.invTransform,this.transform),this.decomposeTransform()},t.prototype.getTransformInfo=function(){var e=this._rawTransformable,t=this._roamTransformable,i=new _.Ay;return i.transform=t.transform,i.decomposeTransform(),{roam:{x:i.x,y:i.y,scaleX:i.scaleX,scaleY:i.scaleY},raw:{x:e.x,y:e.y,scaleX:e.scaleX,scaleY:e.scaleY}}},t.prototype.getViewRect=function(){return this._viewRect},t.prototype.getViewRectAfterRoam=function(){var e=this.getBoundingRect().clone();return e.applyTransform(this.transform),e},t.prototype.dataToPoint=function(e,t,i){var n=t?this._rawTransform:this.transform;return i=i||[],n?jd(i,e,n):M.C(i,e)},t.prototype.pointToData=function(e){var t=this.invTransform;return t?jd([],e,t):[e[0],e[1]]},t.prototype.convertToPixel=function(e,t,i){var n=Yd(t);return n===this?n.dataToPoint(i):null},t.prototype.convertFromPixel=function(e,t,i){var n=Yd(t);return n===this?n.pointToData(i):null},t.prototype.containPoint=function(e){return this.getViewRectAfterRoam().contain(e[0],e[1])},t.dimensions=["x","y"],t}(_.Ay);function Yd(e){var t=e.seriesModel;return t?t.coordinateSystem:null}var Zd=Ud,qd={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},Kd=["lng","lat"],Qd=function(e){function t(t,i,n){var o=e.call(this,t)||this;o.dimensions=Kd,o.type="geo",o._nameCoordMap=l.nt(),o.map=i;var a,r=n.projection,s=bd.load(i,n.nameMap,n.nameProperty),u=bd.getGeoResource(i),c=(o.resourceType=u?u.type:null,o.regions=s.regions),d=qd[u.type];if(o._regionsMap=s.regionsMap,o.regions=s.regions,o.projection=r,r)for(var h=0;h<c.length;h++){var p=c[h].getBoundingRect(r);a=a||p.clone(),a.union(p)}else a=s.boundingRect;return o.setBoundingRect(a.x,a.y,a.width,a.height),o.aspectScale=r?1:l.bZ(n.aspectScale,d.aspectScale),o._invertLongitute=!r&&d.invertLongitute,o}return(0,_e.C6)(t,e),t.prototype._transformTo=function(e,t,i,n){var o=this.getBoundingRect(),a=this._invertLongitute;o=o.clone(),a&&(o.y=-o.y-o.height);var r=this._rawTransformable;r.transform=o.calculateTransform(new f.A(e,t,i,n));var s=r.parent;r.parent=null,r.decomposeTransform(),r.parent=s,a&&(r.scaleY=-r.scaleY),this._updateTransform()},t.prototype.getRegion=function(e){return this._regionsMap.get(e)},t.prototype.getRegionByCoord=function(e){for(var t=this.regions,i=0;i<t.length;i++){var n=t[i];if("geoJSON"===n.type&&n.contain(e))return t[i]}},t.prototype.addGeoCoord=function(e,t){this._nameCoordMap.set(e,t)},t.prototype.getGeoCoord=function(e){var t=this._regionsMap.get(e);return this._nameCoordMap.get(e)||t&&t.getCenter()},t.prototype.dataToPoint=function(e,t,i){if(l.Kg(e)&&(e=this.getGeoCoord(e)),e){var n=this.projection;return n&&(e=n.project(e)),e&&this.projectedToPoint(e,t,i)}},t.prototype.pointToData=function(e){var t=this.projection;return t&&(e=t.unproject(e)),e&&this.pointToProjected(e)},t.prototype.pointToProjected=function(t){return e.prototype.pointToData.call(this,t)},t.prototype.projectedToPoint=function(t,i,n){return e.prototype.dataToPoint.call(this,t,i,n)},t.prototype.convertToPixel=function(e,t,i){var n=Jd(t);return n===this?n.dataToPoint(i):null},t.prototype.convertFromPixel=function(e,t,i){var n=Jd(t);return n===this?n.pointToData(i):null},t}(Zd);function Jd(e){var t=e.geoModel,i=e.seriesModel;return t?t.coordinateSystem:i?i.coordinateSystem||(i.getReferringComponents("geo",g.US).models[0]||{}).coordinateSystem:null}l.co(Qd,Zd);var eh=Qd;function th(e,t){var i=e.get("boundingCoords");if(null!=i){var n=i[0],o=i[1];if(isFinite(n[0])&&isFinite(n[1])&&isFinite(o[0])&&isFinite(o[1])){var a=this.projection;if(a){var r=n[0],s=n[1],l=o[0],u=o[1];n=[1/0,1/0],o=[-1/0,-1/0];var c=function(e,t,i,r){for(var s=i-e,l=r-t,u=0;u<=100;u++){var c=u/100,d=a.project([e+s*c,t+l*c]);M.jk(n,n,d),M.T9(o,o,d)}};c(r,s,l,s),c(l,s,l,u),c(l,u,r,u),c(r,u,l,s)}this.setBoundingRect(n[0],n[1],o[0]-n[0],o[1]-n[1])}else 0}var d,h,p,g=this.getBoundingRect(),f=e.get("layoutCenter"),m=e.get("layoutSize"),y=t.getWidth(),_=t.getHeight(),x=g.width/g.height*this.aspectScale,b=!1;if(f&&m&&(d=[v.lo(f[0],y),v.lo(f[1],_)],h=v.lo(m,Math.min(y,_)),isNaN(d[0])||isNaN(d[1])||isNaN(h)||(b=!0)),b)p={},x>1?(p.width=h,p.height=h/x):(p.height=h,p.width=h*x),p.y=d[1]-p.height/2,p.x=d[0]-p.width/2;else{var w=e.getBoxLayoutParams();w.aspect=x,p=Ya.dV(w,{width:y,height:_})}this.setViewRect(p.x,p.y,p.width,p.height),this.setCenter(e.get("center"),t),this.setZoom(e.get("zoom"))}function ih(e,t){l.__(t.get("geoCoord"),(function(t,i){e.addGeoCoord(i,t)}))}var nh=function(){function e(){this.dimensions=Kd}return e.prototype.create=function(e,t){var i=[];function n(e){return{nameProperty:e.get("nameProperty"),aspectScale:e.get("aspectScale"),projection:e.get("projection")}}e.eachComponent("geo",(function(e,o){var a=e.get("map"),r=new eh(a+o,a,l.X$({nameMap:e.get("nameMap")},n(e)));r.zoomLimit=e.get("scaleLimit"),i.push(r),e.coordinateSystem=r,r.model=e,r.resize=th,r.resize(e,t)})),e.eachSeries((function(e){var t=e.get("coordinateSystem");if("geo"===t){var n=e.get("geoIndex")||0;e.coordinateSystem=i[n]}}));var o={};return e.eachSeriesByType("map",(function(e){if(!e.getHostGeoModel()){var t=e.getMapType();o[t]=o[t]||[],o[t].push(e)}})),l.__(o,(function(e,o){var a=l.Tj(e,(function(e){return e.get("nameMap")})),r=new eh(o,o,l.X$({nameMap:l.Um(a)},n(e[0])));r.zoomLimit=l.Je.apply(null,l.Tj(e,(function(e){return e.get("scaleLimit")}))),i.push(r),r.resize=th,r.resize(e[0],t),l.__(e,(function(e){e.coordinateSystem=r,ih(r,e)}))})),i},e.prototype.getFilledRegions=function(e,t,i,n){for(var o=(e||[]).slice(),a=l.nt(),r=0;r<o.length;r++)a.set(o[r].name,o[r]);var s=bd.load(t,i,n);return l.__(s.regions,(function(e){var t=e.name;!a.get(t)&&o.push({name:t})})),o},e}(),oh=new nh,ah=oh,rh=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return(0,_e.C6)(t,e),t.prototype.init=function(e,t,i){var n=bd.getGeoResource(e.map);if(n&&"geoJSON"===n.type){var o=e.itemStyle=e.itemStyle||{};"color"in o||(o.color="#eee")}this.mergeDefaultAndTheme(e,i),g.M5(e,"label",["show"])},t.prototype.optionUpdated=function(){var e=this,t=this.option;t.regions=ah.getFilledRegions(t.regions,t.map,t.nameMap,t.nameProperty);var i={};this._optionModelMap=l.TS(t.regions||[],(function(t,n){var o=n.name;return o&&(t.set(o,new Di.A(n,e,e.ecModel)),n.selected&&(i[o]=!0)),t}),l.nt()),t.selectedMap||(t.selectedMap=i)},t.prototype.getRegionModel=function(e){return this._optionModelMap.get(e)||new Di.A(null,this,this.ecModel)},t.prototype.getFormattedLabel=function(e,t){var i=this.getRegionModel(e),n="normal"===t?i.get(["label","formatter"]):i.get(["emphasis","label","formatter"]),o={name:e};return l.Tn(n)?(o.status=t,n(o)):l.Kg(n)?n.replace("{a}",null!=e?e:""):void 0},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.select=function(e){var t=this.option,i=t.selectedMode;if(i){"multiple"!==i&&(t.selectedMap=null);var n=t.selectedMap||(t.selectedMap={});n[e]=!0}},t.prototype.unSelect=function(e){var t=this.option.selectedMap;t&&(t[e]=!1)},t.prototype.toggleSelected=function(e){this[this.isSelected(e)?"unSelect":"select"](e)},t.prototype.isSelected=function(e){var t=this.option.selectedMap;return!(!t||!t[e])},t.type="geo",t.layoutMode="box",t.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},t}(r.A),sh=rh;function lh(e,t){return e.pointToProjected?e.pointToProjected(t):e.pointToData(t)}function uh(e,t,i,n){var o=e.getZoom(),a=e.getCenter(),r=t.zoom,s=e.projectedToPoint?e.projectedToPoint(a):e.dataToPoint(a);if(null!=t.dx&&null!=t.dy&&(s[0]-=t.dx,s[1]-=t.dy,e.setCenter(lh(e,s),n)),null!=r){if(i){var l=i.min||0,u=i.max||1/0;r=Math.max(Math.min(o*r,u),l)/o}e.scaleX*=r,e.scaleY*=r;var c=(t.originX-e.x)*(r-1),d=(t.originY-e.y)*(r-1);e.x-=c,e.y-=d,e.updateTransform(),e.setCenter(lh(e,s),n),e.setZoom(r*o)}return{center:e.getCenter(),zoom:e.getZoom()}}var ch=i(37002),dh=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i.focusBlurEnabled=!0,i}return(0,_e.C6)(t,e),t.prototype.init=function(e,t){this._api=t},t.prototype.render=function(e,t,i,n){if(this._model=e,!e.get("show"))return this._mapDraw&&this._mapDraw.remove(),void(this._mapDraw=null);this._mapDraw||(this._mapDraw=new Od(i));var o=this._mapDraw;o.draw(e,t,i,this,n),o.group.on("click",this._handleRegionClick,this),o.group.silent=e.get("silent"),this.group.add(o.group),this.updateSelectStatus(e,t,i)},t.prototype._handleRegionClick=function(e){var t;(0,ch.R)(e.target,(function(e){return null!=(t=(0,y.z)(e).eventData)}),!0),t&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:t.name})},t.prototype.updateSelectStatus=function(e,t,i){var n=this;this._mapDraw.group.traverse((function(e){var t=(0,y.z)(e).eventData;if(t)return n._model.isSelected(t.name)?i.enterSelect(e):i.leaveSelect(e),!0}))},t.prototype.findHighDownDispatchers=function(e){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(e,this._model)},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},t.type="geo",t}(o.A),hh=dh;function ph(e,t,i){bd.registerMap(e,t,i)}function gh(e){function t(t,i){i.update="geo:updateSelectStatus",e.registerAction(i,(function(e,i){var n={},o=[];return i.eachComponent({mainType:"geo",query:e},(function(i){i[t](e.name);var a=i.coordinateSystem;(0,l.__)(a.regions,(function(e){n[e.name]=i.isSelected(e.name)||!1}));var r=[];(0,l.__)(n,(function(e,t){n[t]&&r.push(t)})),o.push({geoIndex:i.componentIndex,name:r})})),{selected:n,allSelected:o,name:e.name}}))}e.registerCoordinateSystem("geo",ah),e.registerComponentModel(sh),e.registerComponentView(hh),e.registerImpl("registerMap",ph),e.registerImpl("getMap",(function(e){return bd.getMapForUser(e)})),t("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),t("select",{type:"geoSelect",event:"geoselected"}),t("unSelect",{type:"geoUnSelect",event:"geounselected"}),e.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},(function(e,t,i){var n=e.componentType||"series";t.eachComponent({mainType:n,query:e},(function(t){var o=t.coordinateSystem;if("geo"===o.type){var a=uh(o,e,t.get("scaleLimit"),i);t.setCenter&&t.setCenter(a.center),t.setZoom&&t.setZoom(a.zoom),"series"===n&&(0,l.__)(t.seriesGroup,(function(e){e.setCenter(a.center),e.setZoom(a.zoom)}))}}))}))}function fh(e){p(gh),e.registerChartView(Gd),e.registerSeriesModel(Wd),e.registerLayout($d),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,Xd),(0,Ua.I)("map",e.registerAction)}var mh=i(20234);function yh(e){var t=e;t.hierNode={defaultAncestor:null,ancestor:t,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};var i,n,o=[t];while(i=o.pop())if(n=i.children,i.isExpand&&n.length)for(var a=n.length,r=a-1;r>=0;r--){var s=n[r];s.hierNode={defaultAncestor:null,ancestor:s,prelim:0,modifier:0,change:0,shift:0,i:r,thread:null},o.push(s)}}function vh(e,t){var i=e.isExpand?e.children:[],n=e.parentNode.children,o=e.hierNode.i?n[e.hierNode.i-1]:null;if(i.length){Ch(e);var a=(i[0].hierNode.prelim+i[i.length-1].hierNode.prelim)/2;o?(e.hierNode.prelim=o.hierNode.prelim+t(e,o),e.hierNode.modifier=e.hierNode.prelim-a):e.hierNode.prelim=a}else o&&(e.hierNode.prelim=o.hierNode.prelim+t(e,o));e.parentNode.hierNode.defaultAncestor=Sh(e,o,e.parentNode.hierNode.defaultAncestor||n[0],t)}function _h(e){var t=e.hierNode.prelim+e.parentNode.hierNode.modifier;e.setLayout({x:t},!0),e.hierNode.modifier+=e.parentNode.hierNode.modifier}function xh(e){return arguments.length?e:Th}function bh(e,t){return e-=Math.PI/2,{x:t*Math.cos(e),y:t*Math.sin(e)}}function wh(e,t){return Ya.dV(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function Ch(e){var t=e.children,i=t.length,n=0,o=0;while(--i>=0){var a=t[i];a.hierNode.prelim+=n,a.hierNode.modifier+=n,o+=a.hierNode.change,n+=a.hierNode.shift+o}}function Sh(e,t,i,n){if(t){var o=e,a=e,r=a.parentNode.children[0],s=t,l=o.hierNode.modifier,u=a.hierNode.modifier,c=r.hierNode.modifier,d=s.hierNode.modifier;while(s=Ah(s),a=kh(a),s&&a){o=Ah(o),r=kh(r),o.hierNode.ancestor=e;var h=s.hierNode.prelim+d-a.hierNode.prelim-u+n(s,a);h>0&&(Ih(Mh(s,e,i),e,h),u+=h,l+=h),d+=s.hierNode.modifier,u+=a.hierNode.modifier,l+=o.hierNode.modifier,c+=r.hierNode.modifier}s&&!Ah(o)&&(o.hierNode.thread=s,o.hierNode.modifier+=d-l),a&&!kh(r)&&(r.hierNode.thread=a,r.hierNode.modifier+=u-c,i=e)}return i}function Ah(e){var t=e.children;return t.length&&e.isExpand?t[t.length-1]:e.hierNode.thread}function kh(e){var t=e.children;return t.length&&e.isExpand?t[0]:e.hierNode.thread}function Mh(e,t,i){return e.hierNode.ancestor.parentNode===t.parentNode?e.hierNode.ancestor:i}function Ih(e,t,i){var n=i/(t.hierNode.i-e.hierNode.i);t.hierNode.change-=n,t.hierNode.shift+=i,t.hierNode.modifier+=i,t.hierNode.prelim+=i,e.hierNode.change+=n}function Th(e,t){return e.parentNode===t.parentNode?1:2}var Dh=i(91194),Lh=function(){function e(){this.parentPoint=[],this.childPoints=[]}return e}(),Ph=function(e){function t(t){return e.call(this,t)||this}return(0,_e.C6)(t,e),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new Lh},t.prototype.buildPath=function(e,t){var i=t.childPoints,n=i.length,o=t.parentPoint,a=i[0],r=i[n-1];if(1===n)return e.moveTo(o[0],o[1]),void e.lineTo(a[0],a[1]);var s=t.orient,l="TB"===s||"BT"===s?0:1,u=1-l,c=(0,v.lo)(t.forkPosition,1),d=[];d[l]=o[l],d[u]=o[u]+(r[u]-o[u])*c,e.moveTo(o[0],o[1]),e.lineTo(d[0],d[1]),e.moveTo(a[0],a[1]),d[l]=a[l],e.lineTo(d[0],d[1]),d[l]=r[l],e.lineTo(d[0],d[1]),e.lineTo(r[0],r[1]);for(var h=1;h<n-1;h++){var p=i[h];e.moveTo(p[0],p[1]),d[l]=p[l],e.lineTo(d[0],d[1])}},t}(b.Ay),Fh=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i._mainGroup=new En.A,i}return(0,_e.C6)(t,e),t.prototype.init=function(e,t){this._controller=new oc(t.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},t.prototype.render=function(e,t,i){var n=e.getData(),o=e.layoutInfo,a=this._mainGroup,r=e.get("layout");"radial"===r?(a.x=o.x+o.width/2,a.y=o.y+o.height/2):(a.x=o.x,a.y=o.y),this._updateViewCoordSys(e,i),this._updateController(e,t,i);var s=this._data;n.diff(s).add((function(t){Nh(n,t)&&Rh(n,t,null,a,e)})).update((function(t,i){var o=s.getItemGraphicEl(i);Nh(n,t)?Rh(n,t,o,a,e):o&&zh(s,i,o,a,e)})).remove((function(t){var i=s.getItemGraphicEl(t);i&&zh(s,t,i,a,e)})).execute(),this._nodeScaleRatio=e.get("nodeScaleRatio"),this._updateNodeAndLinkScale(e),!0===e.get("expandAndCollapse")&&n.eachItemGraphicEl((function(t,n){t.off("click").on("click",(function(){i.dispatchAction({type:"treeExpandAndCollapse",seriesId:e.id,dataIndex:n})}))})),this._data=n},t.prototype._updateViewCoordSys=function(e,t){var i=e.getData(),n=[];i.each((function(e){var t=i.getItemLayout(e);!t||isNaN(t.x)||isNaN(t.y)||n.push([+t.x,+t.y])}));var o=[],a=[];Dh.Cr(n,o,a);var r=this._min,s=this._max;a[0]-o[0]===0&&(o[0]=r?r[0]:o[0]-1,a[0]=s?s[0]:a[0]+1),a[1]-o[1]===0&&(o[1]=r?r[1]:o[1]-1,a[1]=s?s[1]:a[1]+1);var l=e.coordinateSystem=new Zd;l.zoomLimit=e.get("scaleLimit"),l.setBoundingRect(o[0],o[1],a[0]-o[0],a[1]-o[1]),l.setCenter(e.get("center"),t),l.setZoom(e.get("zoom")),this.group.attr({x:l.x,y:l.y,scaleX:l.scaleX,scaleY:l.scaleY}),this._min=o,this._max=a},t.prototype._updateController=function(e,t,i){var n=this,o=this._controller,a=this._controllerHost,r=this.group;o.setPointerChecker((function(t,n,o){var a=r.getBoundingRect();return a.applyTransform(r.transform),a.contain(n,o)&&!lc(t,i,e)})),o.enable(e.get("roam")),a.zoomLimit=e.get("scaleLimit"),a.zoom=e.coordinateSystem.getZoom(),o.off("pan").off("zoom").on("pan",(function(t){ac(a,t.dx,t.dy),i.dispatchAction({seriesId:e.id,type:"treeRoam",dx:t.dx,dy:t.dy})})).on("zoom",(function(t){rc(a,t.scale,t.originX,t.originY),i.dispatchAction({seriesId:e.id,type:"treeRoam",zoom:t.scale,originX:t.originX,originY:t.originY}),n._updateNodeAndLinkScale(e),i.updateLabelLayout()}))},t.prototype._updateNodeAndLinkScale=function(e){var t=e.getData(),i=this._getNodeGlobalScale(e);t.eachItemGraphicEl((function(e,t){e.setSymbolScale(i)}))},t.prototype._getNodeGlobalScale=function(e){var t=e.coordinateSystem;if("view"!==t.type)return 1;var i=this._nodeScaleRatio,n=t.scaleX||1,o=t.getZoom(),a=(o-1)*i+1;return a/n},t.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},t.type="tree",t}(a.A);function Nh(e,t){var i=e.getItemLayout(t);return i&&!isNaN(i.x)&&!isNaN(i.y)}function Rh(e,t,i,n,o){var a=!i,r=e.tree.getNodeByDataIndex(t),s=r.getModel(),u=r.getVisual("style").fill,c=!1===r.isExpand&&0!==r.children.length?u:"#fff",d=e.tree.root,h=r.parentNode===d?r:r.parentNode||r,p=e.getItemGraphicEl(h.dataIndex),g=h.getLayout(),f=p?{x:p.__oldX,y:p.__oldY,rawX:p.__radialOldRawX,rawY:p.__radialOldRawY}:g,v=r.getLayout();a?(i=new $n(e,t,null,{symbolInnerColor:c,useNameLabel:!0}),i.x=f.x,i.y=f.y):i.updateData(e,t,null,{symbolInnerColor:c,useNameLabel:!0}),i.__radialOldRawX=i.__radialRawX,i.__radialOldRawY=i.__radialRawY,i.__radialRawX=v.rawX,i.__radialRawY=v.rawY,n.add(i),e.setItemGraphicEl(t,i),i.__oldX=i.x,i.__oldY=i.y,m.oi(i,{x:v.x,y:v.y},o);var _=i.getSymbolPath();if("radial"===o.get("layout")){var x=d.children[0],b=x.getLayout(),w=x.children.length,C=void 0,S=void 0;if(v.x===b.x&&!0===r.isExpand&&x.children.length){var A={x:(x.children[0].getLayout().x+x.children[w-1].getLayout().x)/2,y:(x.children[0].getLayout().y+x.children[w-1].getLayout().y)/2};C=Math.atan2(A.y-b.y,A.x-b.x),C<0&&(C=2*Math.PI+C),S=A.x<b.x,S&&(C-=Math.PI)}else C=Math.atan2(v.y-b.y,v.x-b.x),C<0&&(C=2*Math.PI+C),0===r.children.length||0!==r.children.length&&!1===r.isExpand?(S=v.x<b.x,S&&(C-=Math.PI)):(S=v.x>b.x,S||(C-=Math.PI));var k=S?"left":"right",M=s.getModel("label"),T=M.get("rotate"),D=T*(Math.PI/180),L=_.getTextContent();L&&(_.setTextConfig({position:M.get("position")||k,rotation:null==T?-C:D,origin:"center"}),L.setStyle("verticalAlign","middle"))}var P=s.get(["emphasis","focus"]),F="relative"===P?l.yB(r.getAncestorsIndices(),r.getDescendantIndices()):"ancestor"===P?r.getAncestorsIndices():"descendant"===P?r.getDescendantIndices():null;F&&((0,y.z)(i).focus=F),Vh(o,r,d,i,f,g,v,n),i.__edge&&(i.onHoverStateChange=function(t){if("blur"!==t){var n=r.parentNode&&e.getItemGraphicEl(r.parentNode.dataIndex);n&&n.hoverState===I.zX||(0,I.Pk)(i.__edge,t)}})}function Vh(e,t,i,n,o,a,r,s){var u=t.getModel(),c=e.get("edgeShape"),d=e.get("layout"),h=e.getOrient(),p=e.get(["lineStyle","curveness"]),g=e.get("edgeForkPosition"),f=u.getModel("lineStyle").getLineStyle(),y=n.__edge;if("curve"===c)t.parentNode&&t.parentNode!==i&&(y||(y=n.__edge=new mh.A({shape:Gh(d,h,p,o,o)})),m.oi(y,{shape:Gh(d,h,p,a,r)},e));else if("polyline"===c)if("orthogonal"===d){if(t!==i&&t.children&&0!==t.children.length&&!0===t.isExpand){for(var v=t.children,_=[],x=0;x<v.length;x++){var b=v[x].getLayout();_.push([b.x,b.y])}y||(y=n.__edge=new Ph({shape:{parentPoint:[r.x,r.y],childPoints:[[r.x,r.y]],orient:h,forkPosition:g}})),m.oi(y,{shape:{parentPoint:[r.x,r.y],childPoints:_}},e)}}else 0;y&&("polyline"!==c||t.isExpand)&&(y.useStyle(l.NT({strokeNoScale:!0,fill:null},f)),(0,I.Mx)(y,u,"lineStyle"),(0,I.DW)(y),s.add(y))}function Eh(e,t,i,n,o){var a=t.tree.root,r=Oh(a,e),s=r.source,l=r.sourceLayout,u=t.getItemGraphicEl(e.dataIndex);if(u){var c=t.getItemGraphicEl(s.dataIndex),d=c.__edge,h=u.__edge||(!1===s.isExpand||1===s.children.length?d:void 0),p=n.get("edgeShape"),g=n.get("layout"),f=n.get("orient"),y=n.get(["lineStyle","curveness"]);h&&("curve"===p?m.Nz(h,{shape:Gh(g,f,y,l,l),style:{opacity:0}},n,{cb:function(){i.remove(h)},removeOpt:o}):"polyline"===p&&"orthogonal"===n.get("layout")&&m.Nz(h,{shape:{parentPoint:[l.x,l.y],childPoints:[[l.x,l.y]]},style:{opacity:0}},n,{cb:function(){i.remove(h)},removeOpt:o}))}}function Oh(e,t){var i,n=t.parentNode===e?t:t.parentNode||t;while(i=n.getLayout(),null==i)n=n.parentNode===e?n:n.parentNode||n;return{source:n,sourceLayout:i}}function zh(e,t,i,n,o){var a=e.tree.getNodeByDataIndex(t),r=e.tree.root,s=Oh(r,a).sourceLayout,l={duration:o.get("animationDurationUpdate"),easing:o.get("animationEasingUpdate")};m.Nz(i,{x:s.x+1,y:s.y+1},o,{cb:function(){n.remove(i),e.setItemGraphicEl(t,null)},removeOpt:l}),i.fadeOut(null,e.hostModel,{fadeLabel:!0,animation:l}),a.children.forEach((function(t){Eh(t,e,n,o,l)})),Eh(a,e,n,o,l)}function Gh(e,t,i,n,o){var a,r,s,l,u,c,d,h;if("radial"===e){u=n.rawX,d=n.rawY,c=o.rawX,h=o.rawY;var p=bh(u,d),g=bh(u,d+(h-d)*i),f=bh(c,h+(d-h)*i),m=bh(c,h);return{x1:p.x||0,y1:p.y||0,x2:m.x||0,y2:m.y||0,cpx1:g.x||0,cpy1:g.y||0,cpx2:f.x||0,cpy2:f.y||0}}return u=n.x,d=n.y,c=o.x,h=o.y,"LR"!==t&&"RL"!==t||(a=u+(c-u)*i,r=d,s=c+(u-c)*i,l=h),"TB"!==t&&"BT"!==t||(a=u,r=d+(h-d)*i,s=c,l=h+(d-h)*i),{x1:u,y1:d,x2:c,y2:h,cpx1:a,cpy1:r,cpx2:s,cpy2:l}}var Bh=Fh,Wh=(0,g.$r)();function Hh(e){var t=e.mainData,i=e.datas;i||(i={main:t},e.datasAttr={main:"data"}),e.datas=e.mainData=null,qh(t,i,e),(0,l.__)(i,(function(i){(0,l.__)(t.TRANSFERABLE_METHODS,(function(t){i.wrapMethod(t,(0,l.cF)(Xh,e))}))})),t.wrapMethod("cloneShallow",(0,l.cF)(jh,e)),(0,l.__)(t.CHANGABLE_METHODS,(function(i){t.wrapMethod(i,(0,l.cF)($h,e))})),(0,l.vA)(i[t.dataType]===t)}function Xh(e,t){if(Zh(this)){var i=(0,l.X$)({},Wh(this).datas);i[this.dataType]=t,qh(t,i,e)}else Kh(t,this.dataType,Wh(this).mainData,e);return t}function $h(e,t){return e.struct&&e.struct.update(),t}function jh(e,t){return(0,l.__)(Wh(t).datas,(function(i,n){i!==t&&Kh(i.cloneShallow(),n,t,e)})),t}function Uh(e){var t=Wh(this).mainData;return null==e||null==t?t:Wh(t).datas[e]}function Yh(){var e=Wh(this).mainData;return null==e?[{data:e}]:(0,l.Tj)((0,l.HP)(Wh(e).datas),(function(t){return{type:t,data:Wh(e).datas[t]}}))}function Zh(e){return Wh(e).mainData===e}function qh(e,t,i){Wh(e).datas={},(0,l.__)(t,(function(t,n){Kh(t,n,e,i)}))}function Kh(e,t,i,n){Wh(i).datas[t]=e,Wh(e).mainData=i,e.dataType=t,n.struct&&(e[n.structAttr]=n.struct,n.struct[n.datasAttr[t]]=e),e.getLinkedData=Uh,e.getLinkedDataAll=Yh}var Qh=Hh,Jh=function(){function e(e,t){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=e||"",this.hostTree=t}return e.prototype.isRemoved=function(){return this.dataIndex<0},e.prototype.eachNode=function(e,t,i){l.Tn(e)&&(i=t,t=e,e=null),e=e||{},l.Kg(e)&&(e={order:e});var n,o=e.order||"preorder",a=this[e.attr||"children"];"preorder"===o&&(n=t.call(i,this));for(var r=0;!n&&r<a.length;r++)a[r].eachNode(e,t,i);"postorder"===o&&t.call(i,this)},e.prototype.updateDepthAndHeight=function(e){var t=0;this.depth=e;for(var i=0;i<this.children.length;i++){var n=this.children[i];n.updateDepthAndHeight(e+1),n.height>t&&(t=n.height)}this.height=t+1},e.prototype.getNodeById=function(e){if(this.getId()===e)return this;for(var t=0,i=this.children,n=i.length;t<n;t++){var o=i[t].getNodeById(e);if(o)return o}},e.prototype.contains=function(e){if(e===this)return!0;for(var t=0,i=this.children,n=i.length;t<n;t++){var o=i[t].contains(e);if(o)return o}},e.prototype.getAncestors=function(e){var t=[],i=e?this:this.parentNode;while(i)t.push(i),i=i.parentNode;return t.reverse(),t},e.prototype.getAncestorsIndices=function(){var e=[],t=this;while(t)e.push(t.dataIndex),t=t.parentNode;return e.reverse(),e},e.prototype.getDescendantIndices=function(){var e=[];return this.eachNode((function(t){e.push(t.dataIndex)})),e},e.prototype.getValue=function(e){var t=this.hostTree.data;return t.getStore().get(t.getDimensionIndex(e||"value"),this.dataIndex)},e.prototype.setLayout=function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,e,t)},e.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},e.prototype.getModel=function(e){if(!(this.dataIndex<0)){var t=this.hostTree,i=t.data.getItemModel(this.dataIndex);return i.getModel(e)}},e.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},e.prototype.setVisual=function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,e,t)},e.prototype.getVisual=function(e){return this.hostTree.data.getItemVisual(this.dataIndex,e)},e.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},e.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},e.prototype.getChildIndex=function(){if(this.parentNode){for(var e=this.parentNode.children,t=0;t<e.length;++t)if(e[t]===this)return t;return-1}return-1},e.prototype.isAncestorOf=function(e){var t=e.parentNode;while(t){if(t===this)return!0;t=t.parentNode}return!1},e.prototype.isDescendantOf=function(e){return e!==this&&e.isAncestorOf(this)},e}(),ep=function(){function e(e){this.type="tree",this._nodes=[],this.hostModel=e}return e.prototype.eachNode=function(e,t,i){this.root.eachNode(e,t,i)},e.prototype.getNodeByDataIndex=function(e){var t=this.data.getRawIndex(e);return this._nodes[t]},e.prototype.getNodeById=function(e){return this.root.getNodeById(e)},e.prototype.update=function(){for(var e=this.data,t=this._nodes,i=0,n=t.length;i<n;i++)t[i].dataIndex=-1;for(i=0,n=e.count();i<n;i++)t[e.getRawIndex(i)].dataIndex=i},e.prototype.clearLayouts=function(){this.data.clearItemLayouts()},e.createTree=function(t,i,n){var o=new e(i),a=[],r=1;function s(e,t){var i=e.value;r=Math.max(r,l.cy(i)?i.length:1),a.push(e);var n=new Jh((0,g.vS)(e.name,""),o);t?tp(n,t):o.root=n,o._nodes.push(n);var u=e.children;if(u)for(var c=0;c<u.length;c++)s(u[c],n)}s(t),o.root.updateDepthAndHeight(0);var u=yn(a,{coordDimensions:["value"],dimensionsCount:r}).dimensions,c=new fn(u,i);return c.initData(a),n&&n(c),Qh({mainData:c,struct:o,structAttr:"tree"}),o.update(),o},e}();function tp(e,t){var i=t.children;e.parentNode!==t&&(i.push(e),e.parentNode=t)}var ip=ep;function np(e,t,i){if(e&&l.qh(t,e.type)>=0){var n=i.getData().tree.root,o=e.targetNode;if(l.Kg(o)&&(o=n.getNodeById(o)),o&&n.contains(o))return{node:o};var a=e.targetNodeId;if(null!=a&&(o=n.getNodeById(a)))return{node:o}}}function op(e){var t=[];while(e)e=e.parentNode,e&&t.push(e);return t.reverse()}function ap(e,t){var i=op(e);return l.qh(i,t)>=0}function rp(e,t){var i=[];while(e){var n=e.dataIndex;i.push({name:e.name,dataIndex:n,value:t.getRawValue(n)}),e=e.parentNode}return i.reverse(),i}var sp=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hasSymbolVisual=!0,t.ignoreStyleOnData=!0,t}return(0,_e.C6)(t,e),t.prototype.getInitialData=function(e){var t={name:e.name,children:e.data},i=e.leaves||{},n=new Di.A(i,this,this.ecModel),o=ip.createTree(t,this,a);function a(e){e.wrapMethod("getItemModel",(function(e,t){var i=o.getNodeByDataIndex(t);return i&&i.children.length&&i.isExpand||(e.parentModel=n),e}))}var r=0;o.eachNode("preorder",(function(e){e.depth>r&&(r=e.depth)}));var s=e.expandAndCollapse,l=s&&e.initialTreeDepth>=0?e.initialTreeDepth:r;return o.root.eachNode("preorder",(function(e){var t=e.hostTree.data.getRawDataItem(e.dataIndex);e.isExpand=t&&null!=t.collapsed?!t.collapsed:e.depth<=l})),o.data},t.prototype.getOrient=function(){var e=this.get("orient");return"horizontal"===e?e="LR":"vertical"===e&&(e="TB"),e},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.formatTooltip=function(e,t,i){var n=this.getData().tree,o=n.root.children[0],a=n.getNodeByDataIndex(e),r=a.getValue(),s=a.name;while(a&&a!==o)s=a.parentNode.name+"."+s,a=a.parentNode;return(0,Du.Qx)("nameValue",{name:s,value:r,noValue:isNaN(r)||null==r})},t.prototype.getDataParams=function(t){var i=e.prototype.getDataParams.apply(this,arguments),n=this.getData().tree.getNodeByDataIndex(t);return i.treeAncestors=rp(n,this),i.collapsed=!n.isExpand,i},t.type="series.tree",t.layoutMode="box",t.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},t}(s.A),lp=sp;function up(e,t,i){var n,o=[e],a=[];while(n=o.pop())if(a.push(n),n.isExpand){var r=n.children;if(r.length)for(var s=0;s<r.length;s++)o.push(r[s])}while(n=a.pop())t(n,i)}function cp(e,t){var i,n=[e];while(i=n.pop())if(t(i),i.isExpand){var o=i.children;if(o.length)for(var a=o.length-1;a>=0;a--)n.push(o[a])}}function dp(e,t){e.eachSeriesByType("tree",(function(e){hp(e,t)}))}function hp(e,t){var i=wh(e,t);e.layoutInfo=i;var n=e.get("layout"),o=0,a=0,r=null;"radial"===n?(o=2*Math.PI,a=Math.min(i.height,i.width)/2,r=xh((function(e,t){return(e.parentNode===t.parentNode?1:2)/e.depth}))):(o=i.width,a=i.height,r=xh());var s=e.getData().tree.root,l=s.children[0];if(l){yh(s),up(l,vh,r),s.hierNode.modifier=-l.hierNode.prelim,cp(l,_h);var u=l,c=l,d=l;cp(l,(function(e){var t=e.getLayout().x;t<u.getLayout().x&&(u=e),t>c.getLayout().x&&(c=e),e.depth>d.depth&&(d=e)}));var h=u===c?1:r(u,c)/2,p=h-u.getLayout().x,g=0,f=0,m=0,y=0;if("radial"===n)g=o/(c.getLayout().x+h+p),f=a/(d.depth-1||1),cp(l,(function(e){m=(e.getLayout().x+p)*g,y=(e.depth-1)*f;var t=bh(m,y);e.setLayout({x:t.x,y:t.y,rawX:m,rawY:y},!0)}));else{var v=e.getOrient();"RL"===v||"LR"===v?(f=a/(c.getLayout().x+h+p),g=o/(d.depth-1||1),cp(l,(function(e){y=(e.getLayout().x+p)*f,m="LR"===v?(e.depth-1)*g:o-(e.depth-1)*g,e.setLayout({x:m,y:y},!0)}))):"TB"!==v&&"BT"!==v||(g=o/(c.getLayout().x+h+p),f=a/(d.depth-1||1),cp(l,(function(e){m=(e.getLayout().x+p)*g,y="TB"===v?(e.depth-1)*f:a-(e.depth-1)*f,e.setLayout({x:m,y:y},!0)})))}}}function pp(e){e.eachSeriesByType("tree",(function(e){var t=e.getData(),i=t.tree;i.eachNode((function(e){var i=e.getModel(),n=i.getModel("itemStyle").getItemStyle(),o=t.ensureUniqueItemVisual(e.dataIndex,"style");(0,l.X$)(o,n)}))}))}function gp(e){e.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},(function(e,t){t.eachComponent({mainType:"series",subType:"tree",query:e},(function(t){var i=e.dataIndex,n=t.getData().tree,o=n.getNodeByDataIndex(i);o.isExpand=!o.isExpand}))})),e.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},(function(e,t,i){t.eachComponent({mainType:"series",subType:"tree",query:e},(function(t){var n=t.coordinateSystem,o=uh(n,e,void 0,i);t.setCenter&&t.setCenter(o.center),t.setZoom&&t.setZoom(o.zoom)}))}))}function fp(e){e.registerChartView(Bh),e.registerSeriesModel(lp),e.registerLayout(dp),e.registerVisual(pp),gp(e)}var mp=["treemapZoomToNode","treemapRender","treemapMove"];function yp(e){for(var t=0;t<mp.length;t++)e.registerAction({type:mp[t],update:"updateView"},l.lQ);e.registerAction({type:"treemapRootToNode",update:"updateView"},(function(e,t){function i(t,i){var n=["treemapZoomToNode","treemapRootToNode"],o=np(e,n,t);if(o){var a=t.getViewRoot();a&&(e.direction=ap(a,o.node)?"rollUp":"drillDown"),t.resetViewRoot(o.node)}}t.eachComponent({mainType:"series",subType:"treemap",query:e},i)}))}var vp=i(74342);function _p(e){var t=e.getData(),i=t.tree,n={};i.eachNode((function(t){var i=t;while(i&&i.depth>1)i=i.parentNode;var o=(0,vp.x)(e.ecModel,i.name||i.dataIndex+"",n);t.setVisual("decal",o)}))}var xp=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i.preventUsingHoverLayer=!0,i}return(0,_e.C6)(t,e),t.prototype.getInitialData=function(e,t){var i={name:e.name,children:e.data};bp(i);var n=e.levels||[],o=this.designatedVisualItemStyle={},a=new Di.A({itemStyle:o},this,t);n=e.levels=wp(n,t);var r=l.Tj(n||[],(function(e){return new Di.A(e,a,t)}),this),s=ip.createTree(i,this,u);function u(e){e.wrapMethod("getItemModel",(function(e,t){var i=s.getNodeByDataIndex(t),n=i?r[i.depth]:null;return e.parentModel=n||a,e}))}return s.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.formatTooltip=function(e,t,i){var n=this.getData(),o=this.getRawValue(e),a=n.getName(e);return(0,Du.Qx)("nameValue",{name:a,value:o})},t.prototype.getDataParams=function(t){var i=e.prototype.getDataParams.apply(this,arguments),n=this.getData().tree.getNodeByDataIndex(t);return i.treeAncestors=rp(n,this),i.treePathInfo=i.treeAncestors,i},t.prototype.setLayoutInfo=function(e){this.layoutInfo=this.layoutInfo||{},l.X$(this.layoutInfo,e)},t.prototype.mapIdToIndex=function(e){var t=this._idIndexMap;t||(t=this._idIndexMap=l.nt(),this._idIndexMapCount=0);var i=t.get(e);return null==i&&t.set(e,i=this._idIndexMapCount++),i},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var t=this.getRawData().tree.root;e&&(e===t||t.contains(e))||(this._viewRoot=t)},t.prototype.enableAriaDecal=function(){_p(this)},t.type="series.treemap",t.layoutMode="box",t.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"▶",zoomToNodeRatio:.1024,scaleLimit:null,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}},emphasis:{itemStyle:{color:"rgba(0,0,0,0.9)"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},t}(s.A);function bp(e){var t=0;l.__(e.children,(function(e){bp(e);var i=e.value;l.cy(i)&&(i=i[0]),t+=i}));var i=e.value;l.cy(i)&&(i=i[0]),(null==i||isNaN(i))&&(i=t),i<0&&(i=0),l.cy(e.value)?e.value[0]=i:e.value=i}function wp(e,t){var i=(0,g.qB)(t.get("color")),n=(0,g.qB)(t.get(["aria","decal","decals"]));if(i){var o,a;e=e||[],l.__(e,(function(e){var t=new Di.A(e),i=t.get("color"),n=t.get("decal");(t.get(["itemStyle","color"])||i&&"none"!==i)&&(o=!0),(t.get(["itemStyle","decal"])||n&&"none"!==n)&&(a=!0)}));var r=e[0]||(e[0]={});return o||(r.color=i.slice()),!a&&n&&(r.decal=n.slice()),e}}var Cp=xp,Sp=8,Ap=8,kp=5,Mp=function(){function e(e){this.group=new En.A,e.add(this.group)}return e.prototype.render=function(e,t,i,n){var o=e.getModel("breadcrumb"),a=this.group;if(a.removeAll(),o.get("show")&&i){var r=o.getModel("itemStyle"),s=o.getModel("emphasis"),l=r.getModel("textStyle"),u=s.getModel(["itemStyle","textStyle"]),c={pos:{left:o.get("left"),right:o.get("right"),top:o.get("top"),bottom:o.get("bottom")},box:{width:t.getWidth(),height:t.getHeight()},emptyItemWidth:o.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(i,c,l),this._renderContent(e,c,r,s,l,u,n),Ya.m$(a,c.pos,c.box)}},e.prototype._prepare=function(e,t,i){for(var n=e;n;n=n.parentNode){var o=(0,g.vS)(n.getModel().get("name"),""),a=i.getTextRect(o),r=Math.max(a.width+2*Sp,t.emptyItemWidth);t.totalWidth+=r+Ap,t.renderList.push({node:n,text:o,width:r})}},e.prototype._renderContent=function(e,t,i,n,o,a,r){for(var s=0,u=t.emptyItemWidth,c=e.get(["breadcrumb","height"]),d=Ya.HU(t.pos,t.box),h=t.totalWidth,p=t.renderList,g=n.getModel("itemStyle").getItemStyle(),f=p.length-1;f>=0;f--){var m=p[f],y=m.node,v=m.width,_=m.text;h>d.width&&(h-=v-u,v=u,_=null);var x=new Mu.A({shape:{points:Ip(s,0,v,c,f===p.length-1,0===f)},style:(0,l.NT)(i.getItemStyle(),{lineJoin:"bevel"}),textContent:new Pt.Ay({style:(0,ae.VB)(o,{text:_})}),textConfig:{position:"inside"},z2:1e4*I.CA,onclick:(0,l.cF)(r,y)});x.disableLabelAnimation=!0,x.getTextContent().ensureState("emphasis").style=(0,ae.VB)(a,{text:_}),x.ensureState("emphasis").style=g,(0,I.Lm)(x,n.get("focus"),n.get("blurScope"),n.get("disabled")),this.group.add(x),Tp(x,e,y),s+=v+Ap}},e.prototype.remove=function(){this.group.removeAll()},e}();function Ip(e,t,i,n,o,a){var r=[[o?e:e-kp,t],[e+i,t],[e+i,t+n],[o?e:e-kp,t+n]];return!a&&r.splice(2,0,[e+i+kp,t+n/2]),!o&&r.push([e,t+n/2]),r}function Tp(e,t,i){(0,y.z)(e).eventData={componentType:"series",componentSubType:"treemap",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:i&&i.dataIndex,name:i&&i.name},treePathInfo:i&&rp(i,t)}}var Dp=Mp,Lp=function(){function e(){this._storage=[],this._elExistsMap={}}return e.prototype.add=function(e,t,i,n,o){return!this._elExistsMap[e.id]&&(this._elExistsMap[e.id]=!0,this._storage.push({el:e,target:t,duration:i,delay:n,easing:o}),!0)},e.prototype.finished=function(e){return this._finishedCallback=e,this},e.prototype.start=function(){for(var e=this,t=this._storage.length,i=function(){t--,t<=0&&(e._storage.length=0,e._elExistsMap={},e._finishedCallback&&e._finishedCallback())},n=0,o=this._storage.length;n<o;n++){var a=this._storage[n];a.el.animateTo(a.target,{duration:a.duration,delay:a.delay,easing:a.easing,setToFinal:!0,done:i,aborted:i})}return this},e}();function Pp(){return new Lp}var Fp=i(56863),Np=En.A,Rp=fo.A,Vp=3,Ep="label",Op="upperLabel",zp=10*I.CA,Gp=2*I.CA,Bp=3*I.CA,Wp=(0,Fp.A)([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),Hp=function(e){var t=Wp(e);return t.stroke=t.fill=t.lineWidth=null,t},Xp=(0,g.$r)(),$p=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i._state="ready",i._storage=jp(),i}return(0,_e.C6)(t,e),t.prototype.render=function(e,t,i,n){var o=t.findComponents({mainType:"series",subType:"treemap",query:n});if(!((0,l.qh)(o,e)<0)){this.seriesModel=e,this.api=i,this.ecModel=t;var a=["treemapZoomToNode","treemapRootToNode"],r=np(n,a,e),s=n&&n.type,u=e.layoutInfo,c=!this._oldTree,d=this._storage,h="treemapRootToNode"===s&&r&&d?{rootNodeGroup:d.nodeGroup[r.node.getRawIndex()],direction:n.direction}:null,p=this._giveContainerGroup(u),g=e.get("animation"),f=this._doRender(p,e,h);!g||c||s&&"treemapZoomToNode"!==s&&"treemapRootToNode"!==s?f.renderFinally():this._doAnimation(p,f,e,h),this._resetController(i),this._renderBreadcrumb(e,i,r)}},t.prototype._giveContainerGroup=function(e){var t=this._containerGroup;return t||(t=this._containerGroup=new Np,this._initEvents(t),this.group.add(t)),t.x=e.x,t.y=e.y,t},t.prototype._doRender=function(e,t,i){var n=t.getData().tree,o=this._oldTree,a=jp(),r=jp(),s=this._storage,u=[];function c(e,n,o,l){return Up(t,r,s,i,a,u,e,n,o,l)}g(n.root?[n.root]:[],o&&o.root?[o.root]:[],e,n===o||!o,0);var d=f(s);if(this._oldTree=n,this._storage=r,this._controllerHost){var h=this.seriesModel.layoutInfo,p=n.root.getLayout();p.width===h.width&&p.height===h.height&&(this._controllerHost.zoom=1)}return{lastsForAnimation:a,willDeleteEls:d,renderFinally:m};function g(e,t,i,n,o){function a(e){return e.getId()}function r(a,r){var s=null!=a?e[a]:null,l=null!=r?t[r]:null,u=c(s,l,i,o);u&&g(s&&s.viewChildren||[],l&&l.viewChildren||[],u,n,o+1)}n?(t=e,(0,l.__)(e,(function(e,t){!e.isRemoved()&&r(t,t)}))):new Ni(t,e,a,a).add(r).update(r).remove((0,l.cF)(r,null)).execute()}function f(e){var t=jp();return e&&(0,l.__)(e,(function(e,i){var n=t[i];(0,l.__)(e,(function(e){e&&(n.push(e),Xp(e).willDelete=!0)}))})),t}function m(){(0,l.__)(d,(function(e){(0,l.__)(e,(function(e){e.parent&&e.parent.remove(e)}))})),(0,l.__)(u,(function(e){e.invisible=!0,e.dirty()}))}},t.prototype._doAnimation=function(e,t,i,n){var o=i.get("animationDurationUpdate"),a=i.get("animationEasing"),r=((0,l.Tn)(o)?0:o)||0,s=((0,l.Tn)(a)?null:a)||"cubicOut",u=Pp();(0,l.__)(t.willDeleteEls,(function(e,t){(0,l.__)(e,(function(e,i){if(!e.invisible){var o,a=e.parent,l=Xp(a);if(n&&"drillDown"===n.direction)o=a===n.rootNodeGroup?{shape:{x:0,y:0,width:l.nodeWidth,height:l.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var c=0,d=0;l.willDelete||(c=l.nodeWidth/2,d=l.nodeHeight/2),o="nodeGroup"===t?{x:c,y:d,style:{opacity:0}}:{shape:{x:c,y:d,width:0,height:0},style:{opacity:0}}}o&&u.add(e,o,r,0,s)}}))})),(0,l.__)(this._storage,(function(e,i){(0,l.__)(e,(function(e,n){var o=t.lastsForAnimation[i][n],a={};o&&(e instanceof En.A?null!=o.oldX&&(a.x=e.x,a.y=e.y,e.x=o.oldX,e.y=o.oldY):(o.oldShape&&(a.shape=(0,l.X$)({},e.shape),e.setShape(o.oldShape)),o.fadein?(e.setStyle("opacity",0),a.style={opacity:1}):1!==e.style.opacity&&(a.style={opacity:1})),u.add(e,a,r,0,s))}))}),this),this._state="animating",u.finished((0,l.oI)((function(){this._state="ready",t.renderFinally()}),this)).start()},t.prototype._resetController=function(e){var t=this._controller,i=this._controllerHost;i||(this._controllerHost={target:this.group},i=this._controllerHost),t||(t=this._controller=new oc(e.getZr()),t.enable(this.seriesModel.get("roam")),i.zoomLimit=this.seriesModel.get("scaleLimit"),i.zoom=this.seriesModel.get("zoom"),t.on("pan",(0,l.oI)(this._onPan,this)),t.on("zoom",(0,l.oI)(this._onZoom,this)));var n=new f.A(0,0,e.getWidth(),e.getHeight());t.setPointerChecker((function(e,t,i){return n.contain(t,i)}))},t.prototype._clearController=function(){var e=this._controller;this._controllerHost=null,e&&(e.dispose(),e=null)},t.prototype._onPan=function(e){if("animating"!==this._state&&(Math.abs(e.dx)>Vp||Math.abs(e.dy)>Vp)){var t=this.seriesModel.getData().tree.root;if(!t)return;var i=t.getLayout();if(!i)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:i.x+e.dx,y:i.y+e.dy,width:i.width,height:i.height}})}},t.prototype._onZoom=function(e){var t=e.originX,i=e.originY,n=e.scale;if("animating"!==this._state){var o=this.seriesModel.getData().tree.root;if(!o)return;var a=o.getLayout();if(!a)return;var r=new f.A(a.x,a.y,a.width,a.height),s=null,l=this._controllerHost;s=l.zoomLimit;var u=l.zoom=l.zoom||1;if(u*=n,s){var c=s.min||0,d=s.max||1/0;u=Math.max(Math.min(d,u),c)}var h=u/l.zoom;l.zoom=u;var p=this.seriesModel.layoutInfo;t-=p.x,i-=p.y;var g=k.vt();k.Tl(g,g,[-t,-i]),k.hs(g,g,[h,h]),k.Tl(g,g,[t,i]),r.applyTransform(g),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:r.x,y:r.y,width:r.width,height:r.height}})}},t.prototype._initEvents=function(e){var t=this;e.on("click",(function(e){if("ready"===t._state){var i=t.seriesModel.get("nodeClick",!0);if(i){var n=t.findTarget(e.offsetX,e.offsetY);if(n){var o=n.node;if(o.getLayout().isLeafRoot)t._rootToNode(n);else if("zoomToNode"===i)t._zoomToNode(n);else if("link"===i){var a=o.hostTree.data.getItemModel(o.dataIndex),r=a.get("link",!0),s=a.get("target",!0)||"blank";r&&(0,bo.JW)(r,s)}}}}}),this)},t.prototype._renderBreadcrumb=function(e,t,i){var n=this;i||(i=null!=e.get("leafDepth",!0)?{node:e.getViewRoot()}:this.findTarget(t.getWidth()/2,t.getHeight()/2),i||(i={node:e.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new Dp(this.group))).render(e,t,i.node,(function(t){"animating"!==n._state&&(ap(e.getViewRoot(),t)?n._rootToNode({node:t}):n._zoomToNode({node:t}))}))},t.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=jp(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},t.prototype.dispose=function(){this._clearController()},t.prototype._zoomToNode=function(e){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype._rootToNode=function(e){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype.findTarget=function(e,t){var i,n=this.seriesModel.getViewRoot();return n.eachNode({attr:"viewChildren",order:"preorder"},(function(n){var o=this._storage.background[n.getRawIndex()];if(o){var a=o.transformCoordToLocal(e,t),r=o.shape;if(!(r.x<=a[0]&&a[0]<=r.x+r.width&&r.y<=a[1]&&a[1]<=r.y+r.height))return!1;i={node:n,offsetX:a[0],offsetY:a[1]}}}),this),i},t.type="treemap",t}(a.A);function jp(){return{nodeGroup:[],background:[],content:[]}}function Up(e,t,i,n,o,a,r,s,u,c){if(r){var d=r.getLayout(),h=e.getData(),p=r.getModel();if(h.setItemGraphicEl(r.dataIndex,null),d&&d.isInView){var f=d.width,m=d.height,v=d.borderWidth,_=d.invisible,x=r.getRawIndex(),b=s&&s.getRawIndex(),w=r.viewChildren,C=d.upperHeight,S=w&&w.length,A=p.getModel("itemStyle"),k=p.getModel(["emphasis","itemStyle"]),M=p.getModel(["blur","itemStyle"]),T=p.getModel(["select","itemStyle"]),D=A.get("borderRadius")||0,L=X("nodeGroup",Np);if(L){if(u.add(L),L.x=d.x||0,L.y=d.y||0,L.markRedraw(),Xp(L).nodeWidth=f,Xp(L).nodeHeight=m,d.isAboveViewRoot)return L;var P=X("background",Rp,c,Gp);P&&z(L,P,S&&d.upperLabelHeight);var F=p.getModel("emphasis"),N=F.get("focus"),R=F.get("blurScope"),V=F.get("disabled"),E="ancestor"===N?r.getAncestorsIndices():"descendant"===N?r.getDescendantIndices():N;if(S)(0,I.u6)(L)&&(0,I.ix)(L,!1),P&&((0,I.ix)(P,!V),h.setItemGraphicEl(r.dataIndex,P),(0,I.gR)(P,E,R));else{var O=X("content",Rp,c,Bp);O&&G(L,O),P.disableMorphing=!0,P&&(0,I.u6)(P)&&(0,I.ix)(P,!1),(0,I.ix)(L,!V),h.setItemGraphicEl(r.dataIndex,L),(0,I.gR)(L,E,R)}return L}}}function z(t,i,n){var o=(0,y.z)(i);if(o.dataIndex=r.dataIndex,o.seriesIndex=e.seriesIndex,i.setShape({x:0,y:0,width:f,height:m,r:D}),_)B(i);else{i.invisible=!1;var a=r.getVisual("style"),s=a.stroke,l=Hp(A);l.fill=s;var u=Wp(k);u.fill=k.get("borderColor");var c=Wp(M);c.fill=M.get("borderColor");var d=Wp(T);if(d.fill=T.get("borderColor"),n){var h=f-2*v;W(i,s,a.opacity,{x:v,y:0,width:h,height:C})}else i.removeTextContent();i.setStyle(l),i.ensureState("emphasis").style=u,i.ensureState("blur").style=c,i.ensureState("select").style=d,(0,I.DW)(i)}t.add(i)}function G(t,i){var n=(0,y.z)(i);n.dataIndex=r.dataIndex,n.seriesIndex=e.seriesIndex;var o=Math.max(f-2*v,0),a=Math.max(m-2*v,0);if(i.culling=!0,i.setShape({x:v,y:v,width:o,height:a,r:D}),_)B(i);else{i.invisible=!1;var s=r.getVisual("style"),l=s.fill,u=Hp(A);u.fill=l,u.decal=s.decal;var c=Wp(k),d=Wp(M),h=Wp(T);W(i,l,s.opacity,null),i.setStyle(u),i.ensureState("emphasis").style=c,i.ensureState("blur").style=d,i.ensureState("select").style=h,(0,I.DW)(i)}t.add(i)}function B(e){!e.invisible&&a.push(e)}function W(t,i,n,o){var a=p.getModel(o?Op:Ep),s=(0,g.vS)(p.get("name"),null),u=a.getShallow("show");(0,ae.qM)(t,(0,ae.lx)(p,o?Op:Ep),{defaultText:u?s:null,inheritColor:i,defaultOpacity:n,labelFetcher:e,labelDataIndex:r.dataIndex});var c=t.getTextContent();if(c){var h=c.style,f=(0,l.QX)(h.padding||0);o&&(t.setTextConfig({layoutRect:o}),c.disableLabelLayout=!0),c.beforeUpdate=function(){var e=Math.max((o?o.width:t.shape.width)-f[1]-f[3],0),i=Math.max((o?o.height:t.shape.height)-f[0]-f[2],0);h.width===e&&h.height===i||c.setStyle({width:e,height:i})},h.truncateMinChar=2,h.lineOverflow="truncate",H(h,o,d);var m=c.getState("emphasis");H(m?m.style:null,o,d)}}function H(t,i,n){var o=t?t.text:null;if(!i&&n.isLeafRoot&&null!=o){var a=e.get("drillDownIcon",!0);t.text=a?a+" "+o:o}}function X(e,n,a,r){var s=null!=b&&i[e][b],l=o[e];return s?(i[e][b]=null,$(l,s)):_||(s=new n,s instanceof Cd.Ay&&(s.z2=Yp(a,r)),j(l,s)),t[e][x]=s}function $(e,t){var i=e[x]={};t instanceof Np?(i.oldX=t.x,i.oldY=t.y):i.oldShape=(0,l.X$)({},t.shape)}function j(e,t){var i=e[x]={},a=r.parentNode,s=t instanceof En.A;if(a&&(!n||"drillDown"===n.direction)){var l=0,u=0,c=o.background[a.getRawIndex()];!n&&c&&c.oldShape&&(l=c.oldShape.width,u=c.oldShape.height),s?(i.oldX=0,i.oldY=u):i.oldShape={x:l,y:u,width:0,height:0}}i.fadein=!s}}function Yp(e,t){return e*zp+t}var Zp=$p,qp=l.__,Kp=l.Gv,Qp=-1,Jp=function(){function e(t){var i=t.mappingMethod,n=t.type,o=this.option=l.o8(t);this.type=n,this.mappingMethod=i,this._normalizeData=dg[i];var a=e.visualHandlers[n];this.applyVisual=a.applyVisual,this.getColorMapper=a.getColorMapper,this._normalizedToVisual=a._normalizedToVisual[i],"piecewise"===i?(ig(o),eg(o)):"category"===i?o.categories?tg(o):ig(o,!0):(l.vA("linear"!==i||o.dataExtent),ig(o))}return e.prototype.mapValueToVisual=function(e){var t=this._normalizeData(e);return this._normalizedToVisual(t,e)},e.prototype.getNormalizer=function(){return l.oI(this._normalizeData,this)},e.listVisualTypes=function(){return l.HP(e.visualHandlers)},e.isValidType=function(t){return e.visualHandlers.hasOwnProperty(t)},e.eachVisual=function(e,t,i){l.Gv(e)?l.__(e,t,i):t.call(i,e)},e.mapVisual=function(t,i,n){var o,a=l.cy(t)?[]:l.Gv(t)?{}:(o=!0,null);return e.eachVisual(t,(function(e,t){var r=i.call(n,e,t);o?a=r:a[t]=r})),a},e.retrieveVisuals=function(t){var i,n={};return t&&qp(e.visualHandlers,(function(e,o){t.hasOwnProperty(o)&&(n[o]=t[o],i=!0)})),i?n:null},e.prepareVisualTypes=function(e){if(l.cy(e))e=e.slice();else{if(!Kp(e))return[];var t=[];qp(e,(function(e,i){t.push(i)})),e=t}return e.sort((function(e,t){return"color"===t&&"color"!==e&&0===e.indexOf("color")?1:-1})),e},e.dependsOn=function(e,t){return"color"===t?!(!e||0!==e.indexOf(t)):e===t},e.findPieceIndex=function(e,t,i){for(var n,o=1/0,a=0,r=t.length;a<r;a++){var s=t[a].value;if(null!=s){if(s===e||l.Kg(s)&&s===e+"")return a;i&&h(s,a)}}for(a=0,r=t.length;a<r;a++){var u=t[a],c=u.interval,d=u.close;if(c){if(c[0]===-1/0){if(hg(d[1],e,c[1]))return a}else if(c[1]===1/0){if(hg(d[0],c[0],e))return a}else if(hg(d[0],c[0],e)&&hg(d[1],e,c[1]))return a;i&&h(c[0],a),i&&h(c[1],a)}}if(i)return e===1/0?t.length-1:e===-1/0?0:n;function h(t,i){var a=Math.abs(t-e);a<o&&(o=a,n=i)}},e.visualHandlers={color:{applyVisual:ag("color"),getColorMapper:function(){var e=this.option;return l.oI("category"===e.mappingMethod?function(e,t){return!t&&(e=this._normalizeData(e)),rg.call(this,e)}:function(t,i,n){var o=!!n;return!i&&(t=this._normalizeData(t)),n=Ft.ad(t,e.parsedVisual,n),o?n:Ft.As(n,"rgba")},this)},_normalizedToVisual:{linear:function(e){return Ft.As(Ft.ad(e,this.option.parsedVisual),"rgba")},category:rg,piecewise:function(e,t){var i=ug.call(this,t);return null==i&&(i=Ft.As(Ft.ad(e,this.option.parsedVisual),"rgba")),i},fixed:sg}},colorHue:ng((function(e,t){return Ft.Yu(e,t)})),colorSaturation:ng((function(e,t){return Ft.Yu(e,null,t)})),colorLightness:ng((function(e,t){return Ft.Yu(e,null,null,t)})),colorAlpha:ng((function(e,t){return Ft.hm(e,t)})),decal:{applyVisual:ag("decal"),_normalizedToVisual:{linear:null,category:rg,piecewise:null,fixed:null}},opacity:{applyVisual:ag("opacity"),_normalizedToVisual:lg([0,1])},liftZ:{applyVisual:ag("liftZ"),_normalizedToVisual:{linear:sg,category:sg,piecewise:sg,fixed:sg}},symbol:{applyVisual:function(e,t,i){var n=this.mapValueToVisual(e);i("symbol",n)},_normalizedToVisual:{linear:og,category:rg,piecewise:function(e,t){var i=ug.call(this,t);return null==i&&(i=og.call(this,e)),i},fixed:sg}},symbolSize:{applyVisual:ag("symbolSize"),_normalizedToVisual:lg([0,1])}},e}();function eg(e){var t=e.pieceList;e.hasSpecialVisual=!1,l.__(t,(function(t,i){t.originIndex=i,null!=t.visual&&(e.hasSpecialVisual=!0)}))}function tg(e){var t=e.categories,i=e.categoryMap={},n=e.visual;if(qp(t,(function(e,t){i[e]=t})),!l.cy(n)){var o=[];l.Gv(n)?qp(n,(function(e,t){var n=i[t];o[null!=n?n:Qp]=e})):o[Qp]=n,n=cg(e,o)}for(var a=t.length-1;a>=0;a--)null==n[a]&&(delete i[t[a]],t.pop())}function ig(e,t){var i=e.visual,n=[];l.Gv(i)?qp(i,(function(e){n.push(e)})):null!=i&&n.push(i);var o={color:1,symbol:1};t||1!==n.length||o.hasOwnProperty(e.type)||(n[1]=n[0]),cg(e,n)}function ng(e){return{applyVisual:function(t,i,n){var o=this.mapValueToVisual(t);n("color",e(i("color"),o))},_normalizedToVisual:lg([0,1])}}function og(e){var t=this.option.visual;return t[Math.round((0,v.Cb)(e,[0,1],[0,t.length-1],!0))]||{}}function ag(e){return function(t,i,n){n(e,this.mapValueToVisual(t))}}function rg(e){var t=this.option.visual;return t[this.option.loop&&e!==Qp?e%t.length:e]}function sg(){return this.option.visual[0]}function lg(e){return{linear:function(t){return(0,v.Cb)(t,e,this.option.visual,!0)},category:rg,piecewise:function(t,i){var n=ug.call(this,i);return null==n&&(n=(0,v.Cb)(t,e,this.option.visual,!0)),n},fixed:sg}}function ug(e){var t=this.option,i=t.pieceList;if(t.hasSpecialVisual){var n=Jp.findPieceIndex(e,i),o=i[n];if(o&&o.visual)return o.visual[this.type]}}function cg(e,t){return e.visual=t,"color"===e.type&&(e.parsedVisual=l.Tj(t,(function(e){var t=Ft.qg(e);return t||[0,0,0,1]}))),t}var dg={linear:function(e){return(0,v.Cb)(e,this.option.dataExtent,[0,1],!0)},piecewise:function(e){var t=this.option.pieceList,i=Jp.findPieceIndex(e,t,!0);if(null!=i)return(0,v.Cb)(i,[0,t.length-1],[0,1],!0)},category:function(e){var t=this.option.categories?this.option.categoryMap[e]:e;return null==t?Qp:t},fixed:l.lQ};function hg(e,t,i){return e?t<=i:t<i}var pg=Jp,gg="itemStyle",fg=(0,g.$r)(),mg={seriesType:"treemap",reset:function(e){var t=e.getData().tree,i=t.root;i.isRemoved()||yg(i,{},e.getViewRoot().getAncestors(),e)}};function yg(e,t,i,n){var o=e.getModel(),a=e.getLayout(),r=e.hostTree.data;if(a&&!a.invisible&&a.isInView){var s,u=o.getModel(gg),c=vg(u,t,n),d=r.ensureUniqueItemVisual(e.dataIndex,"style"),h=u.get("borderColor"),p=u.get("borderColorSaturation");null!=p&&(s=_g(c),h=xg(p,s)),d.stroke=h;var g=e.viewChildren;if(g&&g.length){var f=wg(e,o,a,u,c,g);(0,l.__)(g,(function(e,t){if(e.depth>=i.length||e===i[e.depth]){var a=Sg(o,c,e,t,f,n);yg(e,a,i,n)}}))}else s=_g(c),d.fill=s}}function vg(e,t,i){var n=(0,l.X$)({},t),o=i.designatedVisualItemStyle;return(0,l.__)(["color","colorAlpha","colorSaturation"],(function(i){o[i]=t[i];var a=e.get(i);o[i]=null,null!=a&&(n[i]=a)})),n}function _g(e){var t=bg(e,"color");if(t){var i=bg(e,"colorAlpha"),n=bg(e,"colorSaturation");return n&&(t=(0,Ft.Yu)(t,null,null,n)),i&&(t=(0,Ft.hm)(t,i)),t}}function xg(e,t){return null!=t?(0,Ft.Yu)(t,null,null,e):null}function bg(e,t){var i=e[t];if(null!=i&&"none"!==i)return i}function wg(e,t,i,n,o,a){if(a&&a.length){var r=Cg(t,"color")||null!=o.color&&"none"!==o.color&&(Cg(t,"colorAlpha")||Cg(t,"colorSaturation"));if(r){var s=t.get("visualMin"),l=t.get("visualMax"),u=i.dataExtent.slice();null!=s&&s<u[0]&&(u[0]=s),null!=l&&l>u[1]&&(u[1]=l);var c=t.get("colorMappingBy"),d={type:r.name,dataExtent:u,visual:r.range};"color"!==d.type||"index"!==c&&"id"!==c?d.mappingMethod="linear":(d.mappingMethod="category",d.loop=!0);var h=new pg(d);return fg(h).drColorMappingBy=c,h}}}function Cg(e,t){var i=e.get(t);return(0,l.cy)(i)&&i.length?{name:t,range:i}:null}function Sg(e,t,i,n,o,a){var r=(0,l.X$)({},t);if(o){var s=o.type,u="color"===s&&fg(o).drColorMappingBy,c="index"===u?n:"id"===u?a.mapIdToIndex(i.getId()):i.getValue(e.get("visualDimension"));r[s]=o.mapValueToVisual(c)}return r}var Ag=Math.max,kg=Math.min,Mg=l.Je,Ig=l.__,Tg=["itemStyle","borderWidth"],Dg=["itemStyle","gapWidth"],Lg=["upperLabel","show"],Pg=["upperLabel","height"],Fg={seriesType:"treemap",reset:function(e,t,i,n){var o=i.getWidth(),a=i.getHeight(),r=e.option,s=Ya.dV(e.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()}),u=r.size||[],c=(0,v.lo)(Mg(s.width,u[0]),o),d=(0,v.lo)(Mg(s.height,u[1]),a),h=n&&n.type,p=["treemapZoomToNode","treemapRootToNode"],g=np(n,p,e),m="treemapRender"===h||"treemapMove"===h?n.rootRect:null,y=e.getViewRoot(),_=op(y);if("treemapMove"!==h){var x="treemapZoomToNode"===h?Bg(e,g,y,c,d):m?[m.width,m.height]:[c,d],b=r.sort;b&&"asc"!==b&&"desc"!==b&&(b="desc");var w={squareRatio:r.squareRatio,sort:b,leafDepth:r.leafDepth};y.hostTree.clearLayouts();var C={x:0,y:0,width:x[0],height:x[1],area:x[0]*x[1]};y.setLayout(C),Ng(y,w,!1,0),C=y.getLayout(),Ig(_,(function(e,t){var i=(_[t+1]||y).getValue();e.setLayout(l.X$({dataExtent:[i,i],borderWidth:0,upperHeight:0},C))}))}var S=e.getData().tree.root;S.setLayout(Wg(s,m,g),!0),e.setLayoutInfo(s),Hg(S,new f.A(-s.x,-s.y,o,a),_,y,0)}};function Ng(e,t,i,n){var o,a;if(!e.isRemoved()){var r=e.getLayout();o=r.width,a=r.height;var s=e.getModel(),l=s.get(Tg),u=s.get(Dg)/2,c=Xg(s),d=Math.max(l,c),h=l-u,p=d-u;e.setLayout({borderWidth:l,upperHeight:d,upperLabelHeight:c},!0),o=Ag(o-2*h,0),a=Ag(a-h-p,0);var g=o*a,f=Rg(e,s,g,t,i,n);if(f.length){var m={x:h,y:p,width:o,height:a},y=kg(o,a),v=1/0,_=[];_.area=0;for(var x=0,b=f.length;x<b;){var w=f[x];_.push(w),_.area+=w.getLayout().area;var C=zg(_,y,t.squareRatio);C<=v?(x++,v=C):(_.area-=_.pop().getLayout().area,Gg(_,y,m,u,!1),y=kg(m.width,m.height),_.length=_.area=0,v=1/0)}if(_.length&&Gg(_,y,m,u,!0),!i){var S=s.get("childrenVisibleMin");null!=S&&g<S&&(i=!0)}for(x=0,b=f.length;x<b;x++)Ng(f[x],t,i,n+1)}}}function Rg(e,t,i,n,o,a){var r=e.children||[],s=n.sort;"asc"!==s&&"desc"!==s&&(s=null);var u=null!=n.leafDepth&&n.leafDepth<=a;if(o&&!u)return e.viewChildren=[];r=l.pb(r,(function(e){return!e.isRemoved()})),Eg(r,s);var c=Og(t,r,s);if(0===c.sum)return e.viewChildren=[];if(c.sum=Vg(t,i,c.sum,s,r),0===c.sum)return e.viewChildren=[];for(var d=0,h=r.length;d<h;d++){var p=r[d].getValue()/c.sum*i;r[d].setLayout({area:p})}return u&&(r.length&&e.setLayout({isLeafRoot:!0},!0),r.length=0),e.viewChildren=r,e.setLayout({dataExtent:c.dataExtent},!0),r}function Vg(e,t,i,n,o){if(!n)return i;for(var a=e.get("visibleMin"),r=o.length,s=r,l=r-1;l>=0;l--){var u=o["asc"===n?r-l-1:l].getValue();u/i*t<a&&(s=l,i-=u)}return"asc"===n?o.splice(0,r-s):o.splice(s,r-s),i}function Eg(e,t){return t&&e.sort((function(e,i){var n="asc"===t?e.getValue()-i.getValue():i.getValue()-e.getValue();return 0===n?"asc"===t?e.dataIndex-i.dataIndex:i.dataIndex-e.dataIndex:n})),e}function Og(e,t,i){for(var n=0,o=0,a=t.length;o<a;o++)n+=t[o].getValue();var r,s=e.get("visualDimension");return t&&t.length?"value"===s&&i?(r=[t[t.length-1].getValue(),t[0].getValue()],"asc"===i&&r.reverse()):(r=[1/0,-1/0],Ig(t,(function(e){var t=e.getValue(s);t<r[0]&&(r[0]=t),t>r[1]&&(r[1]=t)}))):r=[NaN,NaN],{sum:n,dataExtent:r}}function zg(e,t,i){for(var n=0,o=1/0,a=0,r=void 0,s=e.length;a<s;a++)r=e[a].getLayout().area,r&&(r<o&&(o=r),r>n&&(n=r));var l=e.area*e.area,u=t*t*i;return l?Ag(u*n/l,l/(u*o)):1/0}function Gg(e,t,i,n,o){var a=t===i.width?0:1,r=1-a,s=["x","y"],l=["width","height"],u=i[s[a]],c=t?e.area/t:0;(o||c>i[l[r]])&&(c=i[l[r]]);for(var d=0,h=e.length;d<h;d++){var p=e[d],g={},f=c?p.getLayout().area/c:0,m=g[l[r]]=Ag(c-2*n,0),y=i[s[a]]+i[l[a]]-u,v=d===h-1||y<f?y:f,_=g[l[a]]=Ag(v-2*n,0);g[s[r]]=i[s[r]]+kg(n,m/2),g[s[a]]=u+kg(n,_/2),u+=v,p.setLayout(g,!0)}i[s[r]]+=c,i[l[r]]-=c}function Bg(e,t,i,n,o){var a,r=(t||{}).node,s=[n,o];if(!r||r===i)return s;var l=n*o,u=l*e.option.zoomToNodeRatio;while(a=r.parentNode){for(var c=0,d=a.children,h=0,p=d.length;h<p;h++)c+=d[h].getValue();var g=r.getValue();if(0===g)return s;u*=c/g;var f=a.getModel(),m=f.get(Tg),y=Math.max(m,Xg(f));u+=4*m*m+(3*m+y)*Math.pow(u,.5),u>v.Is&&(u=v.Is),r=a}u<l&&(u=l);var _=Math.pow(u/l,.5);return[n*_,o*_]}function Wg(e,t,i){if(t)return{x:t.x,y:t.y};var n={x:0,y:0};if(!i)return n;var o=i.node,a=o.getLayout();if(!a)return n;var r=[a.width/2,a.height/2],s=o;while(s){var l=s.getLayout();r[0]+=l.x,r[1]+=l.y,s=s.parentNode}return{x:e.width/2-r[0],y:e.height/2-r[1]}}function Hg(e,t,i,n,o){var a=e.getLayout(),r=i[o],s=r&&r===e;if(!(r&&!s||o===i.length&&e!==n)){e.setLayout({isInView:!0,invisible:!s&&!t.intersect(a),isAboveViewRoot:s},!0);var l=new f.A(t.x-a.x,t.y-a.y,t.width,t.height);Ig(e.viewChildren||[],(function(e){Hg(e,l,i,n,o+1)}))}}function Xg(e){return e.get(Lg)?e.get(Pg):0}function $g(e){e.registerSeriesModel(Cp),e.registerChartView(Zp),e.registerVisual(mg),e.registerLayout(Fg),yp(e)}function jg(e){var t=e.findComponents({mainType:"legend"});t&&t.length&&e.eachSeriesByType("graph",(function(e){var i=e.getCategoriesData(),n=e.getGraph(),o=n.data,a=i.mapArray(i.getName);o.filterSelf((function(e){var i=o.getItemModel(e),n=i.getShallow("category");if(null!=n){(0,l.Et)(n)&&(n=a[n]);for(var r=0;r<t.length;r++)if(!t[r].isSelected(n))return!1}return!0}))}))}function Ug(e){var t={};e.eachSeriesByType("graph",(function(e){var i=e.getCategoriesData(),n=e.getData(),o={};i.each((function(n){var a=i.getName(n);o["ec-"+a]=n;var r=i.getItemModel(n),s=r.getModel("itemStyle").getItemStyle();s.fill||(s.fill=e.getColorFromPalette(a,t)),i.setItemVisual(n,"style",s);for(var l=["symbol","symbolSize","symbolKeepAspect"],u=0;u<l.length;u++){var c=r.getShallow(l[u],!0);null!=c&&i.setItemVisual(n,l[u],c)}})),i.count()&&n.each((function(e){var t=n.getItemModel(e),a=t.getShallow("category");if(null!=a){(0,l.Kg)(a)&&(a=o["ec-"+a]);var r=i.getItemVisual(a,"style"),s=n.ensureUniqueItemVisual(e,"style");(0,l.X$)(s,r);for(var u=["symbol","symbolSize","symbolKeepAspect"],c=0;c<u.length;c++)n.setItemVisual(e,u[c],i.getItemVisual(a,u[c]))}}))}))}function Yg(e){return e instanceof Array||(e=[e,e]),e}function Zg(e){e.eachSeriesByType("graph",(function(e){var t=e.getGraph(),i=e.getEdgeData(),n=Yg(e.get("edgeSymbol")),o=Yg(e.get("edgeSymbolSize"));i.setVisual("fromSymbol",n&&n[0]),i.setVisual("toSymbol",n&&n[1]),i.setVisual("fromSymbolSize",o&&o[0]),i.setVisual("toSymbolSize",o&&o[1]),i.setVisual("style",e.getModel("lineStyle").getLineStyle()),i.each((function(e){var n=i.getItemModel(e),o=t.getEdgeByIndex(e),a=Yg(n.getShallow("symbol",!0)),r=Yg(n.getShallow("symbolSize",!0)),s=n.getModel("lineStyle").getLineStyle(),u=i.ensureUniqueItemVisual(e,"style");switch((0,l.X$)(u,s),u.stroke){case"source":var c=o.node1.getVisual("style");u.stroke=c&&c.fill;break;case"target":c=o.node2.getVisual("style");u.stroke=c&&c.fill;break}a[0]&&o.setVisual("fromSymbol",a[0]),a[1]&&o.setVisual("toSymbol",a[1]),r[0]&&o.setVisual("fromSymbolSize",r[0]),r[1]&&o.setVisual("toSymbolSize",r[1])}))}))}var qg="--\x3e",Kg=function(e){return e.get("autoCurveness")||null},Qg=function(e,t){var i=Kg(e),n=20,o=[];if(l.Et(i))n=i;else if(l.cy(i))return void(e.__curvenessList=i);t>n&&(n=t);var a=n%2?n+2:n+3;o=[];for(var r=0;r<a;r++)o.push((r%2?r+1:r)/10*(r%2?-1:1));e.__curvenessList=o},Jg=function(e,t,i){var n=[e.id,e.dataIndex].join("."),o=[t.id,t.dataIndex].join(".");return[i.uid,n,o].join(qg)},ef=function(e){var t=e.split(qg);return[t[0],t[2],t[1]].join(qg)},tf=function(e,t){var i=Jg(e.node1,e.node2,t);return t.__edgeMap[i]},nf=function(e,t){var i=of(Jg(e.node1,e.node2,t),t),n=of(Jg(e.node2,e.node1,t),t);return i+n},of=function(e,t){var i=t.__edgeMap;return i[e]?i[e].length:0};function af(e){Kg(e)&&(e.__curvenessList=[],e.__edgeMap={},Qg(e))}function rf(e,t,i,n){if(Kg(i)){var o=Jg(e,t,i),a=i.__edgeMap,r=a[ef(o)];a[o]&&!r?a[o].isForward=!0:r&&a[o]&&(r.isForward=!0,a[o].isForward=!1),a[o]=a[o]||[],a[o].push(n)}}function sf(e,t,i,n){var o=Kg(t),a=l.cy(o);if(!o)return null;var r=tf(e,t);if(!r)return null;for(var s=-1,u=0;u<r.length;u++)if(r[u]===i){s=u;break}var c=nf(e,t);Qg(t,c),e.lineStyle=e.lineStyle||{};var d=Jg(e.node1,e.node2,t),h=t.__curvenessList,p=a||c%2?0:1;if(r.isForward)return h[p+s];var g=ef(d),f=of(g,t),m=h[s+f+p];return n?a?o&&0===o[0]?(f+p)%2?m:-m:((f%2?0:1)+p)%2?m:-m:(f+p)%2?m:-m:h[s+f+p]}function lf(e){var t=e.coordinateSystem;if(!t||"view"===t.type){var i=e.getGraph();i.eachNode((function(e){var t=e.getModel();e.setLayout([+t.get("x"),+t.get("y")])})),uf(i,e)}}function uf(e,t){e.eachEdge((function(e,i){var n=l.WV(e.getModel().get(["lineStyle","curveness"]),-sf(e,t,i,!0),0),o=M.o8(e.node1.getLayout()),a=M.o8(e.node2.getLayout()),r=[o,a];+n&&r.push([(o[0]+a[0])/2-(o[1]-a[1])*n,(o[1]+a[1])/2-(a[0]-o[0])*n]),e.setLayout(r)}))}function cf(e,t){e.eachSeriesByType("graph",(function(e){var t=e.get("layout"),i=e.coordinateSystem;if(i&&"view"!==i.type){var n=e.getData(),o=[];(0,l.__)(i.dimensions,(function(e){o=o.concat(n.mapDimensionsAll(e))}));for(var a=0;a<n.count();a++){for(var r=[],s=!1,u=0;u<o.length;u++){var c=n.get(o[u],a);isNaN(c)||(s=!0),r.push(c)}s?n.setItemLayout(a,i.dataToPoint(r)):n.setItemLayout(a,[NaN,NaN])}uf(n.graph,e)}else t&&"none"!==t||lf(e)}))}function df(e){var t=e.coordinateSystem;if("view"!==t.type)return 1;var i=e.option.nodeScaleRatio,n=t.scaleX,o=t.getZoom(),a=(o-1)*i+1;return a/n}function hf(e){var t=e.getVisual("symbolSize");return t instanceof Array&&(t=(t[0]+t[1])/2),+t}var pf=Math.PI,gf=[];function ff(e,t,i,n){var o=e.coordinateSystem;if(!o||"view"===o.type){var a=o.getBoundingRect(),r=e.getData(),s=r.graph,u=a.width/2+a.x,c=a.height/2+a.y,d=Math.min(a.width,a.height)/2,h=r.count();if(r.setLayout({cx:u,cy:c}),h){if(i){var p=o.pointToData(n),g=p[0],f=p[1],m=[g-u,f-c];M.S8(m,m),M.hs(m,m,d),i.setLayout([u+m[0],c+m[1]],!0);var y=e.get(["circular","rotateLabel"]);yf(i,y,u,c)}mf[t](e,s,r,d,u,c,h),s.eachEdge((function(t,i){var n,o=l.WV(t.getModel().get(["lineStyle","curveness"]),sf(t,e,i),0),a=M.o8(t.node1.getLayout()),r=M.o8(t.node2.getLayout()),s=(a[0]+r[0])/2,d=(a[1]+r[1])/2;+o&&(o*=3,n=[u*o+s*(1-o),c*o+d*(1-o)]),t.setLayout([a,r,n])}))}}}var mf={value:function(e,t,i,n,o,a,r){var s=0,l=i.getSum("value"),u=2*Math.PI/(l||r);t.eachNode((function(e){var t=e.getValue("value"),i=u*(l?t:1)/2;s+=i,e.setLayout([n*Math.cos(s)+o,n*Math.sin(s)+a]),s+=i}))},symbolSize:function(e,t,i,n,o,a,r){var s=0;gf.length=r;var l=df(e);t.eachNode((function(e){var t=hf(e);isNaN(t)&&(t=2),t<0&&(t=0),t*=l;var i=Math.asin(t/2/n);isNaN(i)&&(i=pf/2),gf[e.dataIndex]=i,s+=2*i}));var u=(2*pf-s)/r/2,c=0;t.eachNode((function(e){var t=u+gf[e.dataIndex];c+=t,(!e.getLayout()||!e.getLayout().fixed)&&e.setLayout([n*Math.cos(c)+o,n*Math.sin(c)+a]),c+=t}))}};function yf(e,t,i,n){var o=e.getGraphicEl();if(o){var a=e.getModel(),r=a.get(["label","rotate"])||0,s=o.getSymbolPath();if(t){var u=e.getLayout(),c=Math.atan2(u[1]-n,u[0]-i);c<0&&(c=2*Math.PI+c);var d=u[0]<i;d&&(c-=Math.PI);var h=d?"left":"right";s.setTextConfig({rotation:-c,position:h,origin:"center"});var p=s.ensureState("emphasis");l.X$(p.textConfig||(p.textConfig={}),{position:h})}else s.setTextConfig({rotation:r*=Math.PI/180})}}function vf(e){e.eachSeriesByType("graph",(function(e){"circular"===e.get("layout")&&ff(e,"symbolSize")}))}var _f=M.Ln;function xf(e,t,i){for(var n=e,o=t,a=i.rect,r=a.width,s=a.height,l=[a.x+r/2,a.y+s/2],u=null==i.gravity?.1:i.gravity,c=0;c<n.length;c++){var d=n[c];d.p||(d.p=M.vt(r*(Math.random()-.5)+l[0],s*(Math.random()-.5)+l[1])),d.pp=M.o8(d.p),d.edges=null}var h,p,g=null==i.friction?.6:i.friction,f=g;return{warmUp:function(){f=.8*g},setFixed:function(e){n[e].fixed=!0},setUnfixed:function(e){n[e].fixed=!1},beforeStep:function(e){h=e},afterStep:function(e){p=e},step:function(e){h&&h(n,o);for(var t=[],i=n.length,a=0;a<o.length;a++){var r=o[a];if(!r.ignoreForceLayout){var s=r.n1,c=r.n2;M.jb(t,c.p,s.p);var d=M.Il(t)-r.d,g=c.w/(s.w+c.w);isNaN(g)&&(g=0),M.S8(t,t),!s.fixed&&_f(s.p,s.p,t,g*d*f),!c.fixed&&_f(c.p,c.p,t,-(1-g)*d*f)}}for(a=0;a<i;a++){var m=n[a];m.fixed||(M.jb(t,l,m.p),_f(m.p,m.p,t,u*f))}for(a=0;a<i;a++){s=n[a];for(var y=a+1;y<i;y++){c=n[y];M.jb(t,c.p,s.p);d=M.Il(t);0===d&&(M.hZ(t,Math.random()-.5,Math.random()-.5),d=1);var v=(s.rep+c.rep)/d/d;!s.fixed&&_f(s.pp,s.pp,t,v),!c.fixed&&_f(c.pp,c.pp,t,-v)}}var _=[];for(a=0;a<i;a++){m=n[a];m.fixed||(M.jb(_,m.p,m.pp),_f(m.p,m.p,_,f),M.C(m.pp,m.p))}f*=.992;var x=f<.01;p&&p(n,o,x),e&&e(x)}}}function bf(e){e.eachSeriesByType("graph",(function(e){var t=e.coordinateSystem;if(!t||"view"===t.type)if("force"===e.get("layout")){var i=e.preservedPoints||{},n=e.getGraph(),o=n.data,a=n.edgeData,r=e.getModel("force"),s=r.get("initLayout");e.preservedPoints?o.each((function(e){var t=o.getId(e);o.setItemLayout(e,i[t]||[NaN,NaN])})):s&&"none"!==s?"circular"===s&&ff(e,"value"):lf(e);var u=o.getDataExtent("value"),c=a.getDataExtent("value"),d=r.get("repulsion"),h=r.get("edgeLength"),p=l.cy(d)?d:[d,d],g=l.cy(h)?h:[h,h];g=[g[1],g[0]];var f=o.mapArray("value",(function(e,t){var i=o.getItemLayout(t),n=(0,v.Cb)(e,u,p);return isNaN(n)&&(n=(p[0]+p[1])/2),{w:n,rep:n,fixed:o.getItemModel(t).get("fixed"),p:!i||isNaN(i[0])||isNaN(i[1])?null:i}})),m=a.mapArray("value",(function(t,i){var o=n.getEdgeByIndex(i),a=(0,v.Cb)(t,c,g);isNaN(a)&&(a=(g[0]+g[1])/2);var r=o.getModel(),s=l.WV(o.getModel().get(["lineStyle","curveness"]),-sf(o,e,i,!0),0);return{n1:f[o.node1.dataIndex],n2:f[o.node2.dataIndex],d:a,curveness:s,ignoreForceLayout:r.get("ignoreForceLayout")}})),y=t.getBoundingRect(),_=xf(f,m,{rect:y,gravity:r.get("gravity"),friction:r.get("friction")});_.beforeStep((function(e,t){for(var i=0,o=e.length;i<o;i++)e[i].fixed&&M.C(e[i].p,n.getNodeByIndex(i).getLayout())})),_.afterStep((function(e,t,a){for(var r=0,s=e.length;r<s;r++)e[r].fixed||n.getNodeByIndex(r).setLayout(e[r].p),i[o.getId(r)]=e[r].p;for(r=0,s=t.length;r<s;r++){var l=t[r],u=n.getEdgeByIndex(r),c=l.n1.p,d=l.n2.p,h=u.getLayout();h=h?h.slice():[],h[0]=h[0]||[],h[1]=h[1]||[],M.C(h[0],c),M.C(h[1],d),+l.curveness&&(h[2]=[(c[0]+d[0])/2-(c[1]-d[1])*l.curveness,(c[1]+d[1])/2-(d[0]-c[0])*l.curveness]),u.setLayout(h)}})),e.forceLayout=_,e.preservedPoints=i,_.step()}else e.forceLayout=null}))}function wf(e,t,i){var n=(0,l.X$)(e.getBoxLayoutParams(),{aspect:i});return(0,Ya.dV)(n,{width:t.getWidth(),height:t.getHeight()})}function Cf(e,t){var i=[];return e.eachSeriesByType("graph",(function(e){var n=e.get("coordinateSystem");if(!n||"view"===n){var o=e.getData(),a=o.mapArray((function(e){var t=o.getItemModel(e);return[+t.get("x"),+t.get("y")]})),r=[],s=[];Dh.Cr(a,r,s),s[0]-r[0]===0&&(s[0]+=1,r[0]-=1),s[1]-r[1]===0&&(s[1]+=1,r[1]-=1);var l=(s[0]-r[0])/(s[1]-r[1]),u=wf(e,t,l);isNaN(l)&&(r=[u.x,u.y],s=[u.x+u.width,u.y+u.height]);var c=s[0]-r[0],d=s[1]-r[1],h=u.width,p=u.height,g=e.coordinateSystem=new Zd;g.zoomLimit=e.get("scaleLimit"),g.setBoundingRect(r[0],r[1],c,d),g.setViewRect(u.x,u.y,h,p),g.setCenter(e.get("center"),t),g.setZoom(e.get("zoom")),i.push(g)}})),i}var Sf=Vl.A.prototype,Af=mh.A.prototype,kf=function(){function e(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return e}();(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}(0,_e.C6)(t,e)})(kf);function Mf(e){return isNaN(+e.cpx1)||isNaN(+e.cpy1)}var If=function(e){function t(t){var i=e.call(this,t)||this;return i.type="ec-line",i}return(0,_e.C6)(t,e),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new kf},t.prototype.buildPath=function(e,t){Mf(t)?Sf.buildPath.call(this,e,t):Af.buildPath.call(this,e,t)},t.prototype.pointAt=function(e){return Mf(this.shape)?Sf.pointAt.call(this,e):Af.pointAt.call(this,e)},t.prototype.tangentAt=function(e){var t=this.shape,i=Mf(t)?[t.x2-t.x1,t.y2-t.y1]:Af.tangentAt.call(this,e);return M.S8(i,i)},t}(b.Ay),Tf=If,Df=["fromSymbol","toSymbol"];function Lf(e){return"_"+e+"Type"}function Pf(e,t,i){var n=t.getItemVisual(i,e);if(!n||"none"===n)return n;var o=t.getItemVisual(i,e+"Size"),a=t.getItemVisual(i,e+"Rotate"),r=t.getItemVisual(i,e+"Offset"),s=t.getItemVisual(i,e+"KeepAspect"),l=Vn.xU(o),u=Vn.hV(r||0,l);return n+l+u+(a||"")+(s||"")}function Ff(e,t,i){var n=t.getItemVisual(i,e);if(n&&"none"!==n){var o=t.getItemVisual(i,e+"Size"),a=t.getItemVisual(i,e+"Rotate"),r=t.getItemVisual(i,e+"Offset"),s=t.getItemVisual(i,e+"KeepAspect"),l=Vn.xU(o),u=Vn.hV(r||0,l),c=Vn.v5(n,-l[0]/2+u[0],-l[1]/2+u[1],l[0],l[1],null,s);return c.__specifiedRotation=null==a||isNaN(a)?void 0:+a*Math.PI/180||0,c.name=e,c}}function Nf(e){var t=new Tf({name:"line",subPixelOptimize:!0});return Rf(t.shape,e),t}function Rf(e,t){e.x1=t[0][0],e.y1=t[0][1],e.x2=t[1][0],e.y2=t[1][1],e.percent=1;var i=t[2];i?(e.cpx1=i[0],e.cpy1=i[1]):(e.cpx1=NaN,e.cpy1=NaN)}var Vf=function(e){function t(t,i,n){var o=e.call(this)||this;return o._createLine(t,i,n),o}return(0,_e.C6)(t,e),t.prototype._createLine=function(e,t,i){var n=e.hostModel,o=e.getItemLayout(t),a=Nf(o);a.shape.percent=0,m.LW(a,{shape:{percent:1}},n,t),this.add(a),(0,l.__)(Df,(function(i){var n=Ff(i,e,t);this.add(n),this[Lf(i)]=Pf(i,e,t)}),this),this._updateCommonStl(e,t,i)},t.prototype.updateData=function(e,t,i){var n=e.hostModel,o=this.childOfName("line"),a=e.getItemLayout(t),r={shape:{}};Rf(r.shape,a),m.oi(o,r,n,t),(0,l.__)(Df,(function(i){var n=Pf(i,e,t),o=Lf(i);if(this[o]!==n){this.remove(this.childOfName(i));var a=Ff(i,e,t);this.add(a)}this[o]=n}),this),this._updateCommonStl(e,t,i)},t.prototype.getLinePath=function(){return this.childAt(0)},t.prototype._updateCommonStl=function(e,t,i){var n=e.hostModel,o=this.childOfName("line"),a=i&&i.emphasisLineStyle,r=i&&i.blurLineStyle,s=i&&i.selectLineStyle,u=i&&i.labelStatesModels,c=i&&i.emphasisDisabled,d=i&&i.focus,h=i&&i.blurScope;if(!i||e.hasItemOption){var p=e.getItemModel(t),g=p.getModel("emphasis");a=g.getModel("lineStyle").getLineStyle(),r=p.getModel(["blur","lineStyle"]).getLineStyle(),s=p.getModel(["select","lineStyle"]).getLineStyle(),c=g.get("disabled"),d=g.get("focus"),h=g.get("blurScope"),u=(0,ae.lx)(p)}var f=e.getItemVisual(t,"style"),m=f.stroke;o.useStyle(f),o.style.fill=null,o.style.strokeNoScale=!0,o.ensureState("emphasis").style=a,o.ensureState("blur").style=r,o.ensureState("select").style=s,(0,l.__)(Df,(function(e){var t=this.childOfName(e);if(t){t.setColor(m),t.style.opacity=f.opacity;for(var i=0;i<I.BV.length;i++){var n=I.BV[i],a=o.getState(n);if(a){var r=a.style||{},s=t.ensureState(n),l=s.style||(s.style={});null!=r.stroke&&(l[t.__isEmptyBrush?"stroke":"fill"]=r.stroke),null!=r.opacity&&(l.opacity=r.opacity)}}t.markRedraw()}}),this);var y=n.getRawValue(t);(0,ae.qM)(this,u,{labelDataIndex:t,labelFetcher:{getFormattedLabel:function(t,i){return n.getFormattedLabel(t,i,e.dataType)}},inheritColor:m||"#000",defaultOpacity:f.opacity,defaultText:(null==y?e.getName(t):isFinite(y)?(0,v.LI)(y):y)+""});var _=this.getTextContent();if(_){var x=u.normal;_.__align=_.style.align,_.__verticalAlign=_.style.verticalAlign,_.__position=x.get("position")||"middle";var b=x.get("distance");(0,l.cy)(b)||(b=[b,b]),_.__labelDistance=b}this.setTextConfig({position:null,local:!0,inside:!1}),(0,I.Lm)(this,d,h,c)},t.prototype.highlight=function(){(0,I.HY)(this)},t.prototype.downplay=function(){(0,I.SD)(this)},t.prototype.updateLayout=function(e,t){this.setLinePoints(e.getItemLayout(t))},t.prototype.setLinePoints=function(e){var t=this.childOfName("line");Rf(t.shape,e),t.dirty()},t.prototype.beforeUpdate=function(){var e=this,t=e.childOfName("fromSymbol"),i=e.childOfName("toSymbol"),n=e.getTextContent();if(t||i||n&&!n.ignore){var o=1,a=this.parent;while(a)a.scaleX&&(o/=a.scaleX),a=a.parent;var r=e.childOfName("line");if(this.__dirty||r.__dirty){var s=r.shape.percent,l=r.pointAt(0),u=r.pointAt(s),c=M.jb([],u,l);if(M.S8(c,c),t&&(t.setPosition(l),C(t,0),t.scaleX=t.scaleY=o*s,t.markRedraw()),i&&(i.setPosition(u),C(i,1),i.scaleX=i.scaleY=o*s,i.markRedraw()),n&&!n.ignore){n.x=n.y=0,n.originX=n.originY=0;var d=void 0,h=void 0,p=n.__labelDistance,g=p[0]*o,f=p[1]*o,m=s/2,y=r.tangentAt(m),v=[y[1],-y[0]],_=r.pointAt(m);v[1]>0&&(v[0]=-v[0],v[1]=-v[1]);var x=y[0]<0?-1:1;if("start"!==n.__position&&"end"!==n.__position){var b=-Math.atan2(y[1],y[0]);u[0]<l[0]&&(b=Math.PI+b),n.rotation=b}var w=void 0;switch(n.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":w=-f,h="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":w=f,h="top";break;default:w=0,h="middle"}switch(n.__position){case"end":n.x=c[0]*g+u[0],n.y=c[1]*f+u[1],d=c[0]>.8?"left":c[0]<-.8?"right":"center",h=c[1]>.8?"top":c[1]<-.8?"bottom":"middle";break;case"start":n.x=-c[0]*g+l[0],n.y=-c[1]*f+l[1],d=c[0]>.8?"right":c[0]<-.8?"left":"center",h=c[1]>.8?"bottom":c[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":n.x=g*x+l[0],n.y=l[1]+w,d=y[0]<0?"right":"left",n.originX=-g*x,n.originY=-w;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":n.x=_[0],n.y=_[1]+w,d="center",n.originY=-w;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":n.x=-g*x+u[0],n.y=u[1]+w,d=y[0]>=0?"right":"left",n.originX=g*x,n.originY=-w;break}n.scaleX=n.scaleY=o,n.setStyle({verticalAlign:n.__verticalAlign||h,align:n.__align||d})}}}function C(e,t){var i=e.__specifiedRotation;if(null==i){var n=r.tangentAt(t);e.attr("rotation",(1===t?-1:1)*Math.PI/2-Math.atan2(n[1],n[0]))}else e.attr("rotation",i)}},t}(En.A),Ef=Vf,Of=function(){function e(e){this.group=new En.A,this._LineCtor=e||Ef}return e.prototype.updateData=function(e){var t=this;this._progressiveEls=null;var i=this,n=i.group,o=i._lineData;i._lineData=e,o||n.removeAll();var a=Gf(e);e.diff(o).add((function(i){t._doAdd(e,i,a)})).update((function(i,n){t._doUpdate(o,e,n,i,a)})).remove((function(e){n.remove(o.getItemGraphicEl(e))})).execute()},e.prototype.updateLayout=function(){var e=this._lineData;e&&e.eachItemGraphicEl((function(t,i){t.updateLayout(e,i)}),this)},e.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=Gf(e),this._lineData=null,this.group.removeAll()},e.prototype.incrementalUpdate=function(e,t){function i(e){e.isGroup||zf(e)||(e.incremental=!0,e.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[];for(var n=e.start;n<e.end;n++){var o=t.getItemLayout(n);if(Wf(o)){var a=new this._LineCtor(t,n,this._seriesScope);a.traverse(i),this.group.add(a),t.setItemGraphicEl(n,a),this._progressiveEls.push(a)}}},e.prototype.remove=function(){this.group.removeAll()},e.prototype.eachRendered=function(e){Gn.traverseElements(this._progressiveEls||this.group,e)},e.prototype._doAdd=function(e,t,i){var n=e.getItemLayout(t);if(Wf(n)){var o=new this._LineCtor(e,t,i);e.setItemGraphicEl(t,o),this.group.add(o)}},e.prototype._doUpdate=function(e,t,i,n,o){var a=e.getItemGraphicEl(i);Wf(t.getItemLayout(n))?(a?a.updateData(t,n,o):a=new this._LineCtor(t,n,o),t.setItemGraphicEl(n,a),this.group.add(a)):this.group.remove(a)},e}();function zf(e){return e.animators&&e.animators.length>0}function Gf(e){var t=e.hostModel,i=t.getModel("emphasis");return{lineStyle:t.getModel("lineStyle").getLineStyle(),emphasisLineStyle:i.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:t.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:t.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:i.get("disabled"),blurScope:i.get("blurScope"),focus:i.get("focus"),labelStatesModels:(0,ae.lx)(t)}}function Bf(e){return isNaN(e[0])||isNaN(e[1])}function Wf(e){return e&&!Bf(e[0])&&!Bf(e[1])}var Hf=Of,Xf=[],$f=[],jf=[],Uf=A.k3,Yf=M.oi,Zf=Math.abs;function qf(e,t,i){for(var n,o=e[0],a=e[1],r=e[2],s=1/0,l=i*i,u=.1,c=.1;c<=.9;c+=.1){Xf[0]=Uf(o[0],a[0],r[0],c),Xf[1]=Uf(o[1],a[1],r[1],c);var d=Zf(Yf(Xf,t)-l);d<s&&(s=d,n=c)}for(var h=0;h<32;h++){var p=n+u;$f[0]=Uf(o[0],a[0],r[0],n),$f[1]=Uf(o[1],a[1],r[1],n),jf[0]=Uf(o[0],a[0],r[0],p),jf[1]=Uf(o[1],a[1],r[1],p);d=Yf($f,t)-l;if(Zf(d)<.01)break;var g=Yf(jf,t)-l;u/=2,d<0?g>=0?n+=u:n-=u:g>=0?n-=u:n+=u}return n}function Kf(e,t){var i=[],n=A.kx,o=[[],[],[]],a=[[],[]],r=[];t/=2,e.eachEdge((function(e,s){var l=e.getLayout(),u=e.getVisual("fromSymbol"),c=e.getVisual("toSymbol");l.__original||(l.__original=[M.o8(l[0]),M.o8(l[1])],l[2]&&l.__original.push(M.o8(l[2])));var d=l.__original;if(null!=l[2]){if(M.C(o[0],d[0]),M.C(o[1],d[2]),M.C(o[2],d[1]),u&&"none"!==u){var h=hf(e.node1),p=qf(o,d[0],h*t);n(o[0][0],o[1][0],o[2][0],p,i),o[0][0]=i[3],o[1][0]=i[4],n(o[0][1],o[1][1],o[2][1],p,i),o[0][1]=i[3],o[1][1]=i[4]}if(c&&"none"!==c){h=hf(e.node2),p=qf(o,d[1],h*t);n(o[0][0],o[1][0],o[2][0],p,i),o[1][0]=i[1],o[2][0]=i[2],n(o[0][1],o[1][1],o[2][1],p,i),o[1][1]=i[1],o[2][1]=i[2]}M.C(l[0],o[0]),M.C(l[1],o[2]),M.C(l[2],o[1])}else{if(M.C(a[0],d[0]),M.C(a[1],d[1]),M.jb(r,a[1],a[0]),M.S8(r,r),u&&"none"!==u){h=hf(e.node1);M.Ln(a[0],a[0],r,h*t)}if(c&&"none"!==c){h=hf(e.node2);M.Ln(a[1],a[1],r,-h*t)}M.C(l[0],a[0]),M.C(l[1],a[1])}}))}function Qf(e){return"view"===e.type}var Jf=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return(0,_e.C6)(t,e),t.prototype.init=function(e,t){var i=new qn,n=new Hf,o=this.group;this._controller=new oc(t.getZr()),this._controllerHost={target:o},o.add(i.group),o.add(n.group),this._symbolDraw=i,this._lineDraw=n,this._firstRender=!0},t.prototype.render=function(e,t,i){var n=this,o=e.coordinateSystem;this._model=e;var a=this._symbolDraw,r=this._lineDraw,s=this.group;if(Qf(o)){var l={x:o.x,y:o.y,scaleX:o.scaleX,scaleY:o.scaleY};this._firstRender?s.attr(l):m.oi(s,l,e)}Kf(e.getGraph(),df(e));var u=e.getData();a.updateData(u);var c=e.getEdgeData();r.updateData(c),this._updateNodeAndLinkScale(),this._updateController(e,t,i),clearTimeout(this._layoutTimeout);var d=e.forceLayout,h=e.get(["force","layoutAnimation"]);d&&this._startForceLayoutIteration(d,h);var p=e.get("layout");u.graph.eachNode((function(t){var i=t.dataIndex,o=t.getGraphicEl(),a=t.getModel();if(o){o.off("drag").off("dragend");var r=a.get("draggable");r&&o.on("drag",(function(a){switch(p){case"force":d.warmUp(),!n._layouting&&n._startForceLayoutIteration(d,h),d.setFixed(i),u.setItemLayout(i,[o.x,o.y]);break;case"circular":u.setItemLayout(i,[o.x,o.y]),t.setLayout({fixed:!0},!0),ff(e,"symbolSize",t,[a.offsetX,a.offsetY]),n.updateLayout(e);break;case"none":default:u.setItemLayout(i,[o.x,o.y]),uf(e.getGraph(),e),n.updateLayout(e);break}})).on("dragend",(function(){d&&d.setUnfixed(i)})),o.setDraggable(r,!!a.get("cursor"));var s=a.get(["emphasis","focus"]);"adjacency"===s&&((0,y.z)(o).focus=t.getAdjacentDataIndices())}})),u.graph.eachEdge((function(e){var t=e.getGraphicEl(),i=e.getModel().get(["emphasis","focus"]);t&&"adjacency"===i&&((0,y.z)(t).focus={edge:[e.dataIndex],node:[e.node1.dataIndex,e.node2.dataIndex]})}));var g="circular"===e.get("layout")&&e.get(["circular","rotateLabel"]),f=u.getLayout("cx"),v=u.getLayout("cy");u.graph.eachNode((function(e){yf(e,g,f,v)})),this._firstRender=!1},t.prototype.dispose=function(){this.remove(),this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype._startForceLayoutIteration=function(e,t){var i=this;(function n(){e.step((function(e){i.updateLayout(i._model),(i._layouting=!e)&&(t?i._layoutTimeout=setTimeout(n,16):n())}))})()},t.prototype._updateController=function(e,t,i){var n=this,o=this._controller,a=this._controllerHost,r=this.group;o.setPointerChecker((function(t,n,o){var a=r.getBoundingRect();return a.applyTransform(r.transform),a.contain(n,o)&&!lc(t,i,e)})),Qf(e.coordinateSystem)?(o.enable(e.get("roam")),a.zoomLimit=e.get("scaleLimit"),a.zoom=e.coordinateSystem.getZoom(),o.off("pan").off("zoom").on("pan",(function(t){ac(a,t.dx,t.dy),i.dispatchAction({seriesId:e.id,type:"graphRoam",dx:t.dx,dy:t.dy})})).on("zoom",(function(t){rc(a,t.scale,t.originX,t.originY),i.dispatchAction({seriesId:e.id,type:"graphRoam",zoom:t.scale,originX:t.originX,originY:t.originY}),n._updateNodeAndLinkScale(),Kf(e.getGraph(),df(e)),n._lineDraw.updateLayout(),i.updateLabelLayout()}))):o.disable()},t.prototype._updateNodeAndLinkScale=function(){var e=this._model,t=e.getData(),i=df(e);t.eachItemGraphicEl((function(e,t){e&&e.setSymbolScale(i)}))},t.prototype.updateLayout=function(e){Kf(e.getGraph(),df(e)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},t.prototype.remove=function(){clearTimeout(this._layoutTimeout),this._layouting=!1,this._layoutTimeout=null,this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},t.type="graph",t}(a.A),em=Jf;function tm(e){return"_EC_"+e}var im=function(){function e(e){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=e||!1}return e.prototype.isDirected=function(){return this._directed},e.prototype.addNode=function(e,t){e=null==e?""+t:""+e;var i=this._nodesMap;if(!i[tm(e)]){var n=new nm(e,t);return n.hostGraph=this,this.nodes.push(n),i[tm(e)]=n,n}},e.prototype.getNodeByIndex=function(e){var t=this.data.getRawIndex(e);return this.nodes[t]},e.prototype.getNodeById=function(e){return this._nodesMap[tm(e)]},e.prototype.addEdge=function(e,t,i){var n=this._nodesMap,o=this._edgesMap;if(l.Et(e)&&(e=this.nodes[e]),l.Et(t)&&(t=this.nodes[t]),e instanceof nm||(e=n[tm(e)]),t instanceof nm||(t=n[tm(t)]),e&&t){var a=e.id+"-"+t.id,r=new om(e,t,i);return r.hostGraph=this,this._directed&&(e.outEdges.push(r),t.inEdges.push(r)),e.edges.push(r),e!==t&&t.edges.push(r),this.edges.push(r),o[a]=r,r}},e.prototype.getEdgeByIndex=function(e){var t=this.edgeData.getRawIndex(e);return this.edges[t]},e.prototype.getEdge=function(e,t){e instanceof nm&&(e=e.id),t instanceof nm&&(t=t.id);var i=this._edgesMap;return this._directed?i[e+"-"+t]:i[e+"-"+t]||i[t+"-"+e]},e.prototype.eachNode=function(e,t){for(var i=this.nodes,n=i.length,o=0;o<n;o++)i[o].dataIndex>=0&&e.call(t,i[o],o)},e.prototype.eachEdge=function(e,t){for(var i=this.edges,n=i.length,o=0;o<n;o++)i[o].dataIndex>=0&&i[o].node1.dataIndex>=0&&i[o].node2.dataIndex>=0&&e.call(t,i[o],o)},e.prototype.breadthFirstTraverse=function(e,t,i,n){if(t instanceof nm||(t=this._nodesMap[tm(t)]),t){for(var o="out"===i?"outEdges":"in"===i?"inEdges":"edges",a=0;a<this.nodes.length;a++)this.nodes[a].__visited=!1;if(!e.call(n,t,null)){var r=[t];while(r.length){var s=r.shift(),l=s[o];for(a=0;a<l.length;a++){var u=l[a],c=u.node1===s?u.node2:u.node1;if(!c.__visited){if(e.call(n,c,s))return;r.push(c),c.__visited=!0}}}}}},e.prototype.update=function(){for(var e=this.data,t=this.edgeData,i=this.nodes,n=this.edges,o=0,a=i.length;o<a;o++)i[o].dataIndex=-1;for(o=0,a=e.count();o<a;o++)i[e.getRawIndex(o)].dataIndex=o;t.filterSelf((function(e){var i=n[t.getRawIndex(e)];return i.node1.dataIndex>=0&&i.node2.dataIndex>=0}));for(o=0,a=n.length;o<a;o++)n[o].dataIndex=-1;for(o=0,a=t.count();o<a;o++)n[t.getRawIndex(o)].dataIndex=o},e.prototype.clone=function(){for(var t=new e(this._directed),i=this.nodes,n=this.edges,o=0;o<i.length;o++)t.addNode(i[o].id,i[o].dataIndex);for(o=0;o<n.length;o++){var a=n[o];t.addEdge(a.node1.id,a.node2.id,a.dataIndex)}return t},e}(),nm=function(){function e(e,t){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=null==e?"":e,this.dataIndex=null==t?-1:t}return e.prototype.degree=function(){return this.edges.length},e.prototype.inDegree=function(){return this.inEdges.length},e.prototype.outDegree=function(){return this.outEdges.length},e.prototype.getModel=function(e){if(!(this.dataIndex<0)){var t=this.hostGraph,i=t.data.getItemModel(this.dataIndex);return i.getModel(e)}},e.prototype.getAdjacentDataIndices=function(){for(var e={edge:[],node:[]},t=0;t<this.edges.length;t++){var i=this.edges[t];i.dataIndex<0||(e.edge.push(i.dataIndex),e.node.push(i.node1.dataIndex,i.node2.dataIndex))}return e},e.prototype.getTrajectoryDataIndices=function(){for(var e=l.nt(),t=l.nt(),i=0;i<this.edges.length;i++){var n=this.edges[i];if(!(n.dataIndex<0)){e.set(n.dataIndex,!0);var o=[n.node1],a=[n.node2],r=0;while(r<o.length){var s=o[r];r++,t.set(s.dataIndex,!0);for(var u=0;u<s.inEdges.length;u++)e.set(s.inEdges[u].dataIndex,!0),o.push(s.inEdges[u].node1)}r=0;while(r<a.length){var c=a[r];r++,t.set(c.dataIndex,!0);for(u=0;u<c.outEdges.length;u++)e.set(c.outEdges[u].dataIndex,!0),a.push(c.outEdges[u].node2)}}}return{edge:e.keys(),node:t.keys()}},e}(),om=function(){function e(e,t,i){this.dataIndex=-1,this.node1=e,this.node2=t,this.dataIndex=null==i?-1:i}return e.prototype.getModel=function(e){if(!(this.dataIndex<0)){var t=this.hostGraph,i=t.edgeData.getItemModel(this.dataIndex);return i.getModel(e)}},e.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},e.prototype.getTrajectoryDataIndices=function(){var e=l.nt(),t=l.nt();e.set(this.dataIndex,!0);var i=[this.node1],n=[this.node2],o=0;while(o<i.length){var a=i[o];o++,t.set(a.dataIndex,!0);for(var r=0;r<a.inEdges.length;r++)e.set(a.inEdges[r].dataIndex,!0),i.push(a.inEdges[r].node1)}o=0;while(o<n.length){var s=n[o];o++,t.set(s.dataIndex,!0);for(r=0;r<s.outEdges.length;r++)e.set(s.outEdges[r].dataIndex,!0),n.push(s.outEdges[r].node2)}return{edge:e.keys(),node:t.keys()}},e}();function am(e,t){return{getValue:function(i){var n=this[e][t];return n.getStore().get(n.getDimensionIndex(i||"value"),this.dataIndex)},setVisual:function(i,n){this.dataIndex>=0&&this[e][t].setItemVisual(this.dataIndex,i,n)},getVisual:function(i){return this[e][t].getItemVisual(this.dataIndex,i)},setLayout:function(i,n){this.dataIndex>=0&&this[e][t].setItemLayout(this.dataIndex,i,n)},getLayout:function(){return this[e][t].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[e][t].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[e][t].getRawIndex(this.dataIndex)}}}l.co(nm,am("hostGraph","data")),l.co(om,am("hostGraph","edgeData"));var rm=im;function sm(e,t,i,n,o){for(var a=new rm(n),r=0;r<e.length;r++)a.addNode(l.Je(e[r].id,e[r].name,r),r);var s=[],u=[],c=0;for(r=0;r<t.length;r++){var d=t[r],h=d.source,p=d.target;a.addEdge(h,p,c)&&(u.push(d),s.push(l.Je((0,g.vS)(d.id,null),h+" > "+p)),c++)}var f,m=i.get("coordinateSystem");if("cartesian2d"===m||"polar"===m)f=Rn(e,i);else{var y=bn.A.get(m),v=y&&y.dimensions||[];l.qh(v,"value")<0&&v.concat(["value"]);var _=yn(e,{coordDimensions:v,encodeDefine:i.getEncode()}).dimensions;f=new fn(_,i),f.initData(e)}var x=new fn(["value"],i);return x.initData(u,s),o&&o(f,x),Qh({mainData:f,struct:a,structAttr:"graph",datas:{node:f,edge:x},datasAttr:{node:"data",edge:"edgeData"}}),a.update(),a}var lm=i(60340),um=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i.hasSymbolVisual=!0,i}return(0,_e.C6)(t,e),t.prototype.init=function(t){e.prototype.init.apply(this,arguments);var i=this;function n(){return i._categoriesData}this.legendVisualProvider=new pr(n,n),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},t.prototype.mergeOption=function(t){e.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},t.prototype.mergeDefaultAndTheme=function(t){e.prototype.mergeDefaultAndTheme.apply(this,arguments),(0,g.M5)(t,"edgeLabel",["show"])},t.prototype.getInitialData=function(e,t){var i=e.edges||e.links||[],n=e.data||e.nodes||[],o=this;if(n&&i){af(this);var a=sm(n,i,this,!0,r);return l.__(a.edges,(function(e){rf(e.node1,e.node2,this,e.dataIndex)}),this),a.data}function r(e,t){e.wrapMethod("getItemModel",(function(e){var t=o._categoriesModels,i=e.getShallow("category"),n=t[i];return n&&(n.parentModel=e.parentModel,e.parentModel=n),e}));var i=Di.A.prototype.getModel;function n(e,t){var n=i.call(this,e,t);return n.resolveParentPath=a,n}function a(e){if(e&&("label"===e[0]||"label"===e[1])){var t=e.slice();return"label"===e[0]?t[0]="edgeLabel":"label"===e[1]&&(t[1]="edgeLabel"),t}return e}t.wrapMethod("getItemModel",(function(e){return e.resolveParentPath=a,e.getModel=n,e}))}},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.getCategoriesData=function(){return this._categoriesData},t.prototype.formatTooltip=function(e,t,i){if("edge"===i){var n=this.getData(),o=this.getDataParams(e,i),a=n.graph.getEdgeByIndex(e),r=n.getName(a.node1.dataIndex),s=n.getName(a.node2.dataIndex),l=[];return null!=r&&l.push(r),null!=s&&l.push(s),(0,Du.Qx)("nameValue",{name:l.join(" > "),value:o.value,noValue:null==o.value})}var u=(0,lm.J)({series:this,dataIndex:e,multipleSeries:t});return u},t.prototype._updateCategoriesData=function(){var e=l.Tj(this.option.categories||[],(function(e){return null!=e.value?e:l.X$({value:0},e)})),t=new fn(["value"],this);t.initData(e),this._categoriesData=t,this._categoriesModels=t.mapArray((function(e){return t.getItemModel(e)}))},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.isAnimationEnabled=function(){return e.prototype.isAnimationEnabled.call(this)&&!("force"===this.get("layout")&&this.get(["force","layoutAnimation"]))},t.type="series.graph",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},t}(s.A),cm=um,dm={type:"graphRoam",event:"graphRoam",update:"none"};function hm(e){e.registerChartView(em),e.registerSeriesModel(cm),e.registerProcessor(jg),e.registerVisual(Ug),e.registerVisual(Zg),e.registerLayout(cf),e.registerLayout(e.PRIORITY.VISUAL.POST_CHART_LAYOUT,vf),e.registerLayout(bf),e.registerCoordinateSystem("graphView",{dimensions:Zd.dimensions,create:Cf}),e.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},l.lQ),e.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},l.lQ),e.registerAction(dm,(function(e,t,i){t.eachComponent({mainType:"series",query:e},(function(t){var n=t.coordinateSystem,o=uh(n,e,void 0,i);t.setCenter&&t.setCenter(o.center),t.setZoom&&t.setZoom(o.zoom)}))}))}var pm=function(){function e(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0}return e}(),gm=function(e){function t(t){var i=e.call(this,t)||this;return i.type="pointer",i}return(0,_e.C6)(t,e),t.prototype.getDefaultShape=function(){return new pm},t.prototype.buildPath=function(e,t){var i=Math.cos,n=Math.sin,o=t.r,a=t.width,r=t.angle,s=t.x-i(r)*a*(a>=o/3?1:2),l=t.y-n(r)*a*(a>=o/3?1:2);r=t.angle-Math.PI/2,e.moveTo(s,l),e.lineTo(t.x+i(r)*a,t.y+n(r)*a),e.lineTo(t.x+i(t.angle)*o,t.y+n(t.angle)*o),e.lineTo(t.x-i(r)*a,t.y-n(r)*a),e.lineTo(s,l)},t}(b.Ay),fm=gm;function mm(e,t){var i=e.get("center"),n=t.getWidth(),o=t.getHeight(),a=Math.min(n,o),r=(0,v.lo)(i[0],t.getWidth()),s=(0,v.lo)(i[1],t.getHeight()),l=(0,v.lo)(e.get("radius"),a/2);return{cx:r,cy:s,r:l}}function ym(e,t){var i=null==e?"":e+"";return t&&((0,l.Kg)(t)?i=t.replace("{value}",i):(0,l.Tn)(t)&&(i=t(e))),i}var vm=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return(0,_e.C6)(t,e),t.prototype.render=function(e,t,i){this.group.removeAll();var n=e.get(["axisLine","lineStyle","color"]),o=mm(e,i);this._renderMain(e,t,i,n,o),this._data=e.getData()},t.prototype.dispose=function(){},t.prototype._renderMain=function(e,t,i,n,o){var a=this.group,r=e.get("clockwise"),s=-e.get("startAngle")/180*Math.PI,u=-e.get("endAngle")/180*Math.PI,c=e.getModel("axisLine"),d=c.get("roundCap"),h=d?fa:mo.A,p=c.get("show"),g=c.getModel("lineStyle"),f=g.get("width"),m=[s,u];(0,C.q)(m,!r),s=m[0],u=m[1];for(var y=u-s,v=s,_=[],x=0;p&&x<n.length;x++){var b=Math.min(Math.max(n[x][0],0),1);u=s+y*b;var w=new h({shape:{startAngle:v,endAngle:u,cx:o.cx,cy:o.cy,clockwise:r,r0:o.r-f,r:o.r},silent:!0});w.setStyle({fill:n[x][1]}),w.setStyle(g.getLineStyle(["color","width"])),_.push(w),v=u}_.reverse(),(0,l.__)(_,(function(e){return a.add(e)}));var S=function(e){if(e<=0)return n[0][1];var t;for(t=0;t<n.length;t++)if(n[t][0]>=e&&(0===t?0:n[t-1][0])<e)return n[t][1];return n[t-1][1]};this._renderTicks(e,t,i,S,o,s,u,r,f),this._renderTitleAndDetail(e,t,i,S,o),this._renderAnchor(e,o),this._renderPointer(e,t,i,S,o,s,u,r,f)},t.prototype._renderTicks=function(e,t,i,n,o,a,r,s,u){for(var c,d,h=this.group,p=o.cx,g=o.cy,f=o.r,m=+e.get("min"),y=+e.get("max"),_=e.getModel("splitLine"),x=e.getModel("axisTick"),b=e.getModel("axisLabel"),w=e.get("splitNumber"),C=x.get("splitNumber"),S=(0,v.lo)(_.get("length"),f),A=(0,v.lo)(x.get("length"),f),k=a,M=(r-a)/w,I=M/C,T=_.getModel("lineStyle").getLineStyle(),D=x.getModel("lineStyle").getLineStyle(),L=_.get("distance"),P=0;P<=w;P++){if(c=Math.cos(k),d=Math.sin(k),_.get("show")){var F=L?L+u:u,N=new Vl.A({shape:{x1:c*(f-F)+p,y1:d*(f-F)+g,x2:c*(f-S-F)+p,y2:d*(f-S-F)+g},style:T,silent:!0});"auto"===T.stroke&&N.setStyle({stroke:n(P/w)}),h.add(N)}if(b.get("show")){F=b.get("distance")+L;var R=ym((0,v.LI)(P/w*(y-m)+m),b.get("formatter")),V=n(P/w),E=c*(f-S-F)+p,O=d*(f-S-F)+g,z=b.get("rotate"),G=0;"radial"===z?(G=-k+2*Math.PI,G>Math.PI/2&&(G+=Math.PI)):"tangential"===z?G=-k-Math.PI/2:(0,l.Et)(z)&&(G=z*Math.PI/180),0===G?h.add(new Pt.Ay({style:(0,ae.VB)(b,{text:R,x:E,y:O,verticalAlign:d<-.8?"top":d>.8?"bottom":"middle",align:c<-.4?"left":c>.4?"right":"center"},{inheritColor:V}),silent:!0})):h.add(new Pt.Ay({style:(0,ae.VB)(b,{text:R,x:E,y:O,verticalAlign:"middle",align:"center"},{inheritColor:V}),silent:!0,originX:E,originY:O,rotation:G}))}if(x.get("show")&&P!==w){F=x.get("distance");F=F?F+u:u;for(var B=0;B<=C;B++){c=Math.cos(k),d=Math.sin(k);var W=new Vl.A({shape:{x1:c*(f-F)+p,y1:d*(f-F)+g,x2:c*(f-A-F)+p,y2:d*(f-A-F)+g},silent:!0,style:D});"auto"===D.stroke&&W.setStyle({stroke:n((P+B/C)/w)}),h.add(W),k+=I}k-=I}else k+=M}},t.prototype._renderPointer=function(e,t,i,n,o,a,r,s,u){var c=this.group,d=this._data,h=this._progressEls,p=[],g=e.get(["pointer","show"]),f=e.getModel("progress"),_=f.get("show"),x=e.getData(),b=x.mapDimension("value"),w=+e.get("min"),C=+e.get("max"),S=[w,C],A=[a,r];function k(t,i){var n,a=x.getItemModel(t),r=a.getModel("pointer"),s=(0,v.lo)(r.get("width"),o.r),l=(0,v.lo)(r.get("length"),o.r),u=e.get(["pointer","icon"]),c=r.get("offsetCenter"),d=(0,v.lo)(c[0],o.r),h=(0,v.lo)(c[1],o.r),p=r.get("keepAspect");return n=u?(0,Vn.v5)(u,d-s/2,h-l,s,l,null,p):new fm({shape:{angle:-Math.PI/2,width:s,r:l,x:d,y:h}}),n.rotation=-(i+Math.PI/2),n.x=o.cx,n.y=o.cy,n}function M(e,t){var i=f.get("roundCap"),n=i?fa:mo.A,r=f.get("overlap"),l=r?f.get("width"):u/x.count(),c=r?o.r-l:o.r-(e+1)*l,d=r?o.r:o.r-e*l,h=new n({shape:{startAngle:a,endAngle:t,cx:o.cx,cy:o.cy,clockwise:s,r0:c,r:d}});return r&&(h.z2=C-x.get(b,e)%C),h}(_||g)&&(x.diff(d).add((function(t){var i=x.get(b,t);if(g){var n=k(t,a);m.LW(n,{rotation:-((isNaN(+i)?A[0]:(0,v.Cb)(i,S,A,!0))+Math.PI/2)},e),c.add(n),x.setItemGraphicEl(t,n)}if(_){var o=M(t,a),r=f.get("clip");m.LW(o,{shape:{endAngle:(0,v.Cb)(i,S,A,r)}},e),c.add(o),(0,y.a)(e.seriesIndex,x.dataType,t,o),p[t]=o}})).update((function(t,i){var n=x.get(b,t);if(g){var o=d.getItemGraphicEl(i),r=o?o.rotation:a,s=k(t,r);s.rotation=r,m.oi(s,{rotation:-((isNaN(+n)?A[0]:(0,v.Cb)(n,S,A,!0))+Math.PI/2)},e),c.add(s),x.setItemGraphicEl(t,s)}if(_){var l=h[i],u=l?l.shape.endAngle:a,w=M(t,u),C=f.get("clip");m.oi(w,{shape:{endAngle:(0,v.Cb)(n,S,A,C)}},e),c.add(w),(0,y.a)(e.seriesIndex,x.dataType,t,w),p[t]=w}})).execute(),x.each((function(e){var t=x.getItemModel(e),i=t.getModel("emphasis"),o=i.get("focus"),a=i.get("blurScope"),r=i.get("disabled");if(g){var s=x.getItemGraphicEl(e),u=x.getItemVisual(e,"style"),c=u.fill;if(s instanceof Ge.Ay){var d=s.style;s.useStyle((0,l.X$)({image:d.image,x:d.x,y:d.y,width:d.width,height:d.height},u))}else s.useStyle(u),"pointer"!==s.type&&s.setColor(c);s.setStyle(t.getModel(["pointer","itemStyle"]).getItemStyle()),"auto"===s.style.fill&&s.setStyle("fill",n((0,v.Cb)(x.get(b,e),S,[0,1],!0))),s.z2EmphasisLift=0,(0,I.Mx)(s,t),(0,I.Lm)(s,o,a,r)}if(_){var h=p[e];h.useStyle(x.getItemVisual(e,"style")),h.setStyle(t.getModel(["progress","itemStyle"]).getItemStyle()),h.z2EmphasisLift=0,(0,I.Mx)(h,t),(0,I.Lm)(h,o,a,r)}})),this._progressEls=p)},t.prototype._renderAnchor=function(e,t){var i=e.getModel("anchor"),n=i.get("show");if(n){var o=i.get("size"),a=i.get("icon"),r=i.get("offsetCenter"),s=i.get("keepAspect"),l=(0,Vn.v5)(a,t.cx-o/2+(0,v.lo)(r[0],t.r),t.cy-o/2+(0,v.lo)(r[1],t.r),o,o,null,s);l.z2=i.get("showAbove")?1:0,l.setStyle(i.getModel("itemStyle").getItemStyle()),this.group.add(l)}},t.prototype._renderTitleAndDetail=function(e,t,i,n,o){var a=this,r=e.getData(),s=r.mapDimension("value"),l=+e.get("min"),u=+e.get("max"),c=new En.A,d=[],h=[],p=e.isAnimationEnabled(),g=e.get(["pointer","showAbove"]);r.diff(this._data).add((function(e){d[e]=new Pt.Ay({silent:!0}),h[e]=new Pt.Ay({silent:!0})})).update((function(e,t){d[e]=a._titleEls[t],h[e]=a._detailEls[t]})).execute(),r.each((function(t){var i=r.getItemModel(t),a=r.get(s,t),f=new En.A,m=n((0,v.Cb)(a,[l,u],[0,1],!0)),y=i.getModel("title");if(y.get("show")){var _=y.get("offsetCenter"),x=o.cx+(0,v.lo)(_[0],o.r),b=o.cy+(0,v.lo)(_[1],o.r),w=d[t];w.attr({z2:g?0:2,style:(0,ae.VB)(y,{x:x,y:b,text:r.getName(t),align:"center",verticalAlign:"middle"},{inheritColor:m})}),f.add(w)}var C=i.getModel("detail");if(C.get("show")){var S=C.get("offsetCenter"),A=o.cx+(0,v.lo)(S[0],o.r),k=o.cy+(0,v.lo)(S[1],o.r),M=(0,v.lo)(C.get("width"),o.r),I=(0,v.lo)(C.get("height"),o.r),T=e.get(["progress","show"])?r.getItemVisual(t,"style").fill:m,D=(w=h[t],C.get("formatter"));w.attr({z2:g?0:2,style:(0,ae.VB)(C,{x:A,y:k,text:ym(a,D),width:isNaN(M)?null:M,height:isNaN(I)?null:I,align:"center",verticalAlign:"middle"},{inheritColor:T})}),(0,ae.Oh)(w,{normal:C},a,(function(e){return ym(e,D)})),p&&(0,ae.xb)(w,t,r,e,{getFormattedLabel:function(e,t,i,n,o,r){return ym(r?r.interpolatedValue:a,D)}}),f.add(w)}c.add(f)})),this.group.add(c),this._titleEls=d,this._detailEls=h},t.type="gauge",t}(a.A),_m=vm,xm=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i.visualStyleAccessPath="itemStyle",i}return(0,_e.C6)(t,e),t.prototype.getInitialData=function(e,t){return dr(this,["value"])},t.type="series.gauge",t.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},t}(s.A),bm=xm;function wm(e){e.registerChartView(_m),e.registerSeriesModel(bm)}var Cm=["itemStyle","opacity"],Sm=function(e){function t(t,i){var n=e.call(this)||this,o=n,a=new w.A,r=new Pt.Ay;return o.setTextContent(r),n.setTextGuideLine(a),n.updateData(t,i,!0),n}return(0,_e.C6)(t,e),t.prototype.updateData=function(e,t,i){var n=this,o=e.hostModel,a=e.getItemModel(t),r=e.getItemLayout(t),s=a.getModel("emphasis"),l=a.get(Cm);l=null==l?1:l,i||(0,m.ap)(n),n.useStyle(e.getItemVisual(t,"style")),n.style.lineJoin="round",i?(n.setShape({points:r.points}),n.style.opacity=0,m.LW(n,{style:{opacity:l}},o,t)):m.oi(n,{style:{opacity:l},shape:{points:r.points}},o,t),(0,I.Mx)(n,a),this._updateLabel(e,t),(0,I.Lm)(this,s.get("focus"),s.get("blurScope"),s.get("disabled"))},t.prototype._updateLabel=function(e,t){var i=this,n=this.getTextGuideLine(),o=i.getTextContent(),a=e.hostModel,r=e.getItemModel(t),s=e.getItemLayout(t),l=s.label,u=e.getItemVisual(t,"style"),c=u.fill;(0,ae.qM)(o,(0,ae.lx)(r),{labelFetcher:e.hostModel,labelDataIndex:t,defaultOpacity:u.opacity,defaultText:e.getName(t)},{normal:{align:l.textAlign,verticalAlign:l.verticalAlign}}),i.setTextConfig({local:!0,inside:!!l.inside,insideStroke:c,outsideFill:c});var d=l.linePoints;n.setShape({points:d}),i.textGuideLineConfig={anchor:d?new x.A(d[0][0],d[0][1]):null},m.oi(o,{style:{x:l.x,y:l.y}},a,t),o.attr({rotation:l.rotation,originX:l.x,originY:l.y,z2:10}),K(i,Q(r),{stroke:c})},t}(Mu.A),Am=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i.ignoreLabelLineUpdate=!0,i}return(0,_e.C6)(t,e),t.prototype.render=function(e,t,i){var n=e.getData(),o=this._data,a=this.group;n.diff(o).add((function(e){var t=new Sm(n,e);n.setItemGraphicEl(e,t),a.add(t)})).update((function(e,t){var i=o.getItemGraphicEl(t);i.updateData(n,e),a.add(i),n.setItemGraphicEl(e,i)})).remove((function(t){var i=o.getItemGraphicEl(t);m.t5(i,e,t)})).execute(),this._data=n},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.prototype.dispose=function(){},t.type="funnel",t}(a.A),km=Am,Mm=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return(0,_e.C6)(t,e),t.prototype.init=function(t){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new pr(l.oI(this.getData,this),l.oI(this.getRawData,this)),this._defaultLabelLine(t)},t.prototype.getInitialData=function(e,t){return dr(this,{coordDimensions:["value"],encodeDefaulter:l.cF(mn.ln,this)})},t.prototype._defaultLabelLine=function(e){(0,g.M5)(e,"labelLine",["show"]);var t=e.labelLine,i=e.emphasis.labelLine;t.show=t.show&&e.label.show,i.show=i.show&&e.emphasis.label.show},t.prototype.getDataParams=function(t){var i=this.getData(),n=e.prototype.getDataParams.call(this,t),o=i.mapDimension("value"),a=i.getSum(o);return n.percent=a?+(i.get(o,t)/a*100).toFixed(2):0,n.$vars.push("percent"),n},t.type="series.funnel",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},t}(s.A),Im=Mm;function Tm(e,t){return Ya.dV(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function Dm(e,t){for(var i=e.mapDimension("value"),n=e.mapArray(i,(function(e){return e})),o=[],a="ascending"===t,r=0,s=e.count();r<s;r++)o[r]=r;return(0,l.Tn)(t)?o.sort(t):"none"!==t&&o.sort((function(e,t){return a?n[e]-n[t]:n[t]-n[e]})),o}function Lm(e){var t=e.hostModel,i=t.get("orient");e.each((function(t){var n,o,a,r,s=e.getItemModel(t),l=s.getModel("label"),u=l.get("position"),c=s.getModel("labelLine"),d=e.getItemLayout(t),h=d.points,p="inner"===u||"inside"===u||"center"===u||"insideLeft"===u||"insideRight"===u;if(p)"insideLeft"===u?(o=(h[0][0]+h[3][0])/2+5,a=(h[0][1]+h[3][1])/2,n="left"):"insideRight"===u?(o=(h[1][0]+h[2][0])/2-5,a=(h[1][1]+h[2][1])/2,n="right"):(o=(h[0][0]+h[1][0]+h[2][0]+h[3][0])/4,a=(h[0][1]+h[1][1]+h[2][1]+h[3][1])/4,n="center"),r=[[o,a],[o,a]];else{var g=void 0,f=void 0,m=void 0,y=void 0,v=c.get("length");0,"left"===u?(g=(h[3][0]+h[0][0])/2,f=(h[3][1]+h[0][1])/2,m=g-v,o=m-5,n="right"):"right"===u?(g=(h[1][0]+h[2][0])/2,f=(h[1][1]+h[2][1])/2,m=g+v,o=m+5,n="left"):"top"===u?(g=(h[3][0]+h[0][0])/2,f=(h[3][1]+h[0][1])/2,y=f-v,a=y-5,n="center"):"bottom"===u?(g=(h[1][0]+h[2][0])/2,f=(h[1][1]+h[2][1])/2,y=f+v,a=y+5,n="center"):"rightTop"===u?(g="horizontal"===i?h[3][0]:h[1][0],f="horizontal"===i?h[3][1]:h[1][1],"horizontal"===i?(y=f-v,a=y-5,n="center"):(m=g+v,o=m+5,n="top")):"rightBottom"===u?(g=h[2][0],f=h[2][1],"horizontal"===i?(y=f+v,a=y+5,n="center"):(m=g+v,o=m+5,n="bottom")):"leftTop"===u?(g=h[0][0],f="horizontal"===i?h[0][1]:h[1][1],"horizontal"===i?(y=f-v,a=y-5,n="center"):(m=g-v,o=m-5,n="right")):"leftBottom"===u?(g="horizontal"===i?h[1][0]:h[3][0],f="horizontal"===i?h[1][1]:h[2][1],"horizontal"===i?(y=f+v,a=y+5,n="center"):(m=g-v,o=m-5,n="right")):(g=(h[1][0]+h[2][0])/2,f=(h[1][1]+h[2][1])/2,"horizontal"===i?(y=f+v,a=y+5,n="center"):(m=g+v,o=m+5,n="left")),"horizontal"===i?(m=g,o=m):(y=f,a=y),r=[[g,f],[m,y]]}d.label={linePoints:r,x:o,y:a,verticalAlign:"middle",textAlign:n,inside:p}}))}function Pm(e,t){e.eachSeriesByType("funnel",(function(e){var i=e.getData(),n=i.mapDimension("value"),o=e.get("sort"),a=Tm(e,t),r=e.get("orient"),s=a.width,l=a.height,u=Dm(i,o),c=a.x,d=a.y,h="horizontal"===r?[(0,v.lo)(e.get("minSize"),l),(0,v.lo)(e.get("maxSize"),l)]:[(0,v.lo)(e.get("minSize"),s),(0,v.lo)(e.get("maxSize"),s)],p=i.getDataExtent(n),g=e.get("min"),f=e.get("max");null==g&&(g=Math.min(p[0],0)),null==f&&(f=p[1]);var m=e.get("funnelAlign"),y=e.get("gap"),_="horizontal"===r?s:l,x=(_-y*(i.count()-1))/i.count(),b=function(e,t){if("horizontal"===r){var o=i.get(n,e)||0,a=(0,v.Cb)(o,[g,f],h,!0),u=void 0;switch(m){case"top":u=d;break;case"center":u=d+(l-a)/2;break;case"bottom":u=d+(l-a);break}return[[t,u],[t,u+a]]}var p,y=i.get(n,e)||0,_=(0,v.Cb)(y,[g,f],h,!0);switch(m){case"left":p=c;break;case"center":p=c+(s-_)/2;break;case"right":p=c+s-_;break}return[[p,t],[p+_,t]]};"ascending"===o&&(x=-x,y=-y,"horizontal"===r?c+=s:d+=l,u=u.reverse());for(var w=0;w<u.length;w++){var C=u[w],S=u[w+1],A=i.getItemModel(C);if("horizontal"===r){var k=A.get(["itemStyle","width"]);null==k?k=x:(k=(0,v.lo)(k,s),"ascending"===o&&(k=-k));var M=b(C,c),I=b(S,c+k);c+=k+y,i.setItemLayout(C,{points:M.concat(I.slice().reverse())})}else{var T=A.get(["itemStyle","height"]);null==T?T=x:(T=(0,v.lo)(T,l),"ascending"===o&&(T=-T));M=b(C,d),I=b(S,d+T);d+=T+y,i.setItemLayout(C,{points:M.concat(I.slice().reverse())})}}Lm(i)}))}function Fm(e){e.registerChartView(km),e.registerSeriesModel(Im),e.registerLayout(Pm),e.registerProcessor(tr("funnel"))}var Nm=.3,Rm=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i._dataGroup=new En.A,i._initialized=!1,i}return(0,_e.C6)(t,e),t.prototype.init=function(){this.group.add(this._dataGroup)},t.prototype.render=function(e,t,i,n){this._progressiveEls=null;var o=this._dataGroup,a=e.getData(),r=this._data,s=e.coordinateSystem,l=s.dimensions,u=zm(e);function c(e){var t=Om(a,o,e,l,s);Gm(t,a,e,u)}function d(t,i){var n=r.getItemGraphicEl(i),o=Em(a,t,l,s);a.setItemGraphicEl(t,n),m.oi(n,{shape:{points:o}},e,t),(0,m.ap)(n),Gm(n,a,t,u)}function h(e){var t=r.getItemGraphicEl(e);o.remove(t)}if(a.diff(r).add(c).update(d).remove(h).execute(),!this._initialized){this._initialized=!0;var p=Vm(s,e,(function(){setTimeout((function(){o.removeClipPath()}))}));o.setClipPath(p)}this._data=a},t.prototype.incrementalPrepareRender=function(e,t,i){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},t.prototype.incrementalRender=function(e,t,i){for(var n=t.getData(),o=t.coordinateSystem,a=o.dimensions,r=zm(t),s=this._progressiveEls=[],l=e.start;l<e.end;l++){var u=Om(n,this._dataGroup,l,a,o);u.incremental=!0,Gm(u,n,l,r),s.push(u)}},t.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},t.type="parallel",t}(a.A);function Vm(e,t,i){var n=e.model,o=e.getRect(),a=new fo.A({shape:{x:o.x,y:o.y,width:o.width,height:o.height}}),r="horizontal"===n.get("layout")?"width":"height";return a.setShape(r,0),m.LW(a,{shape:{width:o.width,height:o.height}},t,i),a}function Em(e,t,i,n){for(var o=[],a=0;a<i.length;a++){var r=i[a],s=e.get(e.mapDimension(r),t);Bm(s,n.getAxis(r).type)||o.push(n.dataToPoint(s,r))}return o}function Om(e,t,i,n,o){var a=Em(e,i,n,o),r=new w.A({shape:{points:a},z2:10});return t.add(r),e.setItemGraphicEl(i,r),r}function zm(e){var t=e.get("smooth",!0);return!0===t&&(t=Nm),t=(0,v.Sm)(t),(0,l.Yp)(t)&&(t=0),{smooth:t}}function Gm(e,t,i,n){e.useStyle(t.getItemVisual(i,"style")),e.style.fill=null,e.setShape("smooth",n.smooth);var o=t.getItemModel(i),a=o.getModel("emphasis");(0,I.Mx)(e,o,"lineStyle"),(0,I.Lm)(e,a.get("focus"),a.get("blurScope"),a.get("disabled"))}function Bm(e,t){return"category"===t?null==e:null==e||isNaN(e)}var Wm=Rm,Hm=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i.visualStyleAccessPath="lineStyle",i.visualDrawType="stroke",i}return(0,_e.C6)(t,e),t.prototype.getInitialData=function(e,t){return Rn(null,this,{useEncodeDefaulter:(0,l.oI)(Xm,null,this)})},t.prototype.getRawIndicesByActiveState=function(e){var t=this.coordinateSystem,i=this.getData(),n=[];return t.eachActiveState(i,(function(t,o){e===t&&n.push(i.getRawIndex(o))})),n},t.type="series.parallel",t.dependencies=["parallel"],t.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},t}(s.A);function Xm(e){var t=e.ecModel.getComponent("parallel",e.get("parallelIndex"));if(t){var i={};return(0,l.__)(t.dimensions,(function(e){var t=$m(e);i[e]=t})),i}}function $m(e){return+e.replace("dim","")}var jm=Hm,Um=["lineStyle","opacity"],Ym={seriesType:"parallel",reset:function(e,t){var i=e.coordinateSystem,n={normal:e.get(["lineStyle","opacity"]),active:e.get("activeOpacity"),inactive:e.get("inactiveOpacity")};return{progress:function(e,t){i.eachActiveState(t,(function(e,i){var o=n[e];if("normal"===e&&t.hasItemOption){var a=t.getItemModel(i).get(Um,!0);null!=a&&(o=a)}var r=t.ensureUniqueItemVisual(i,"style");r.opacity=o}),e.start,e.end)}}}},Zm=Ym;function qm(e){Km(e),Qm(e)}function Km(e){if(!e.parallel){var t=!1;l.__(e.series,(function(e){e&&"parallel"===e.type&&(t=!0)})),t&&(e.parallel=[{}])}}function Qm(e){var t=g.qB(e.parallelAxis);l.__(t,(function(t){if(l.Gv(t)){var i=t.parallelIndex||0,n=g.qB(e.parallel)[i];n&&n.parallelAxisDefault&&l.h1(t,n.parallelAxisDefault,!1)}}))}var Jm=5,ey=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return(0,_e.C6)(t,e),t.prototype.render=function(e,t,i){this._model=e,this._api=i,this._handlers||(this._handlers={},(0,l.__)(ty,(function(e,t){i.getZr().on(t,this._handlers[t]=(0,l.oI)(e,this))}),this)),(0,ha.N)(this,"_throttledDispatchExpand",e.get("axisExpandRate"),"fixRate")},t.prototype.dispose=function(e,t){(0,ha.IU)(this,"_throttledDispatchExpand"),(0,l.__)(this._handlers,(function(e,i){t.getZr().off(i,e)})),this._handlers=null},t.prototype._throttledDispatchExpand=function(e){this._dispatchExpand(e)},t.prototype._dispatchExpand=function(e){e&&this._api.dispatchAction((0,l.X$)({type:"parallelAxisExpand"},e))},t.type="parallel",t}(o.A),ty={mousedown:function(e){iy(this,"click")&&(this._mouseDownPoint=[e.offsetX,e.offsetY])},mouseup:function(e){var t=this._mouseDownPoint;if(iy(this,"click")&&t){var i=[e.offsetX,e.offsetY],n=Math.pow(t[0]-i[0],2)+Math.pow(t[1]-i[1],2);if(n>Jm)return;var o=this._model.coordinateSystem.getSlidedAxisExpandWindow([e.offsetX,e.offsetY]);"none"!==o.behavior&&this._dispatchExpand({axisExpandWindow:o.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(e){if(!this._mouseDownPoint&&iy(this,"mousemove")){var t=this._model,i=t.coordinateSystem.getSlidedAxisExpandWindow([e.offsetX,e.offsetY]),n=i.behavior;"jump"===n&&this._throttledDispatchExpand.debounceNextCall(t.get("axisExpandDebounce")),this._throttledDispatchExpand("none"===n?null:{axisExpandWindow:i.axisExpandWindow,animation:"jump"===n?null:{duration:0}})}}};function iy(e,t){var i=e._model;return i.get("axisExpandable")&&i.get("axisExpandTriggerOn")===t}var ny=ey,oy=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return(0,_e.C6)(t,e),t.prototype.init=function(){e.prototype.init.apply(this,arguments),this.mergeOption({})},t.prototype.mergeOption=function(e){var t=this.option;e&&l.h1(t,e,!0),this._initDimensions()},t.prototype.contains=function(e,t){var i=e.get("parallelIndex");return null!=i&&t.getComponent("parallel",i)===this},t.prototype.setAxisExpand=function(e){l.__(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],(function(t){e.hasOwnProperty(t)&&(this.option[t]=e[t])}),this)},t.prototype._initDimensions=function(){var e=this.dimensions=[],t=this.parallelAxisIndex=[],i=l.pb(this.ecModel.queryComponents({mainType:"parallelAxis"}),(function(e){return(e.get("parallelIndex")||0)===this.componentIndex}),this);l.__(i,(function(i){e.push("dim"+i.get("dim")),t.push(i.componentIndex)}))},t.type="parallel",t.dependencies=["parallelAxis"],t.layoutMode="box",t.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},t}(r.A),ay=oy,ry=function(e){function t(t,i,n,o,a){var r=e.call(this,t,i,n)||this;return r.type=o||"value",r.axisIndex=a,r}return(0,_e.C6)(t,e),t.prototype.isHorizontal=function(){return"horizontal"!==this.coordinateSystem.getModel().get("layout")},t}(wl),sy=ry;function ly(e,t,i,n,o,a){e=e||0;var r=i[1]-i[0];if(null!=o&&(o=cy(o,[0,r])),null!=a&&(a=Math.max(a,null!=o?o:0)),"all"===n){var s=Math.abs(t[1]-t[0]);s=cy(s,[0,r]),o=a=cy(s,[o,a]),n=0}t[0]=cy(t[0],i),t[1]=cy(t[1],i);var l=uy(t,n);t[n]+=e;var u,c=o||0,d=i.slice();return l.sign<0?d[0]+=c:d[1]-=c,t[n]=cy(t[n],d),u=uy(t,n),null!=o&&(u.sign!==l.sign||u.span<o)&&(t[1-n]=t[n]+l.sign*o),u=uy(t,n),null!=a&&u.span>a&&(t[1-n]=t[n]+u.sign*a),t}function uy(e,t){var i=e[t]-e[1-t];return{span:Math.abs(i),sign:i>0?-1:i<0?1:t?-1:1}}function cy(e,t){return Math.min(null!=t[1]?t[1]:1/0,Math.max(null!=t[0]?t[0]:-1/0,e))}var dy=l.__,hy=Math.min,py=Math.max,gy=Math.floor,fy=Math.ceil,my=v.LI,yy=Math.PI,vy=function(){function e(e,t,i){this.type="parallel",this._axesMap=l.nt(),this._axesLayout={},this.dimensions=e.dimensions,this._model=e,this._init(e,t,i)}return e.prototype._init=function(e,t,i){var n=e.dimensions,o=e.parallelAxisIndex;dy(n,(function(e,i){var n=o[i],a=t.getComponent("parallelAxis",n),r=this._axesMap.set(e,new sy(e,Gs(a),[0,0],a.get("type"),n)),s="category"===r.type;r.onBand=s&&a.get("boundaryGap"),r.inverse=a.get("inverse"),a.axis=r,r.model=a,r.coordinateSystem=a.coordinateSystem=this}),this)},e.prototype.update=function(e,t){this._updateAxesFromSeries(this._model,e)},e.prototype.containPoint=function(e){var t=this._makeLayoutInfo(),i=t.axisBase,n=t.layoutBase,o=t.pixelDimIndex,a=e[1-o],r=e[o];return a>=i&&a<=i+t.axisLength&&r>=n&&r<=n+t.layoutLength},e.prototype.getModel=function(){return this._model},e.prototype._updateAxesFromSeries=function(e,t){t.eachSeries((function(i){if(e.contains(i,t)){var n=i.getData();dy(this.dimensions,(function(e){var t=this._axesMap.get(e);t.scale.unionExtentFromData(n,n.mapDimension(e)),zs(t.scale,t.model)}),this)}}),this)},e.prototype.resize=function(e,t){this._rect=Ya.dV(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()}),this._layoutAxes()},e.prototype.getRect=function(){return this._rect},e.prototype._makeLayoutInfo=function(){var e,t=this._model,i=this._rect,n=["x","y"],o=["width","height"],a=t.get("layout"),r="horizontal"===a?0:1,s=i[o[r]],l=[0,s],u=this.dimensions.length,c=_y(t.get("axisExpandWidth"),l),d=_y(t.get("axisExpandCount")||0,[0,u]),h=t.get("axisExpandable")&&u>3&&u>d&&d>1&&c>0&&s>0,p=t.get("axisExpandWindow");if(p)e=_y(p[1]-p[0],l),p[1]=p[0]+e;else{e=_y(c*(d-1),l);var g=t.get("axisExpandCenter")||gy(u/2);p=[c*g-e/2],p[1]=p[0]+e}var f=(s-e)/(u-d);f<3&&(f=0);var m=[gy(my(p[0]/c,1))+1,fy(my(p[1]/c,1))-1],y=f/c*p[0];return{layout:a,pixelDimIndex:r,layoutBase:i[n[r]],layoutLength:s,axisBase:i[n[1-r]],axisLength:i[o[1-r]],axisExpandable:h,axisExpandWidth:c,axisCollapseWidth:f,axisExpandWindow:p,axisCount:u,winInnerIndices:m,axisExpandWindow0Pos:y}},e.prototype._layoutAxes=function(){var e=this._rect,t=this._axesMap,i=this.dimensions,n=this._makeLayoutInfo(),o=n.layout;t.each((function(e){var t=[0,n.axisLength],i=e.inverse?1:0;e.setExtent(t[i],t[1-i])})),dy(i,(function(t,i){var a=(n.axisExpandable?by:xy)(i,n),r={horizontal:{x:a.position,y:n.axisLength},vertical:{x:0,y:a.position}},s={horizontal:yy/2,vertical:0},l=[r[o].x+e.x,r[o].y+e.y],u=s[o],c=k.vt();k.e$(c,c,u),k.Tl(c,c,l),this._axesLayout[t]={position:l,rotation:u,transform:c,axisNameAvailableWidth:a.axisNameAvailableWidth,axisLabelShow:a.axisLabelShow,nameTruncateMaxWidth:a.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}}),this)},e.prototype.getAxis=function(e){return this._axesMap.get(e)},e.prototype.dataToPoint=function(e,t){return this.axisCoordToPoint(this._axesMap.get(t).dataToCoord(e),t)},e.prototype.eachActiveState=function(e,t,i,n){null==i&&(i=0),null==n&&(n=e.count());var o=this._axesMap,a=this.dimensions,r=[],s=[];l.__(a,(function(t){r.push(e.mapDimension(t)),s.push(o.get(t).model)}));for(var u=this.hasAxisBrushed(),c=i;c<n;c++){var d=void 0;if(u){d="active";for(var h=e.getValues(r,c),p=0,g=a.length;p<g;p++){var f=s[p].getActiveState(h[p]);if("inactive"===f){d="inactive";break}}}else d="normal";t(d,c)}},e.prototype.hasAxisBrushed=function(){for(var e=this.dimensions,t=this._axesMap,i=!1,n=0,o=e.length;n<o;n++)"normal"!==t.get(e[n]).model.getActiveState()&&(i=!0);return i},e.prototype.axisCoordToPoint=function(e,t){var i=this._axesLayout[t];return Gn.applyTransform([e,0],i.transform)},e.prototype.getAxisLayout=function(e){return l.o8(this._axesLayout[e])},e.prototype.getSlidedAxisExpandWindow=function(e){var t=this._makeLayoutInfo(),i=t.pixelDimIndex,n=t.axisExpandWindow.slice(),o=n[1]-n[0],a=[0,t.axisExpandWidth*(t.axisCount-1)];if(!this.containPoint(e))return{behavior:"none",axisExpandWindow:n};var r,s=e[i]-t.layoutBase-t.axisExpandWindow0Pos,l="slide",u=t.axisCollapseWidth,c=this._model.get("axisExpandSlideTriggerArea"),d=null!=c[0];if(u)d&&u&&s<o*c[0]?(l="jump",r=s-o*c[2]):d&&u&&s>o*(1-c[0])?(l="jump",r=s-o*(1-c[2])):(r=s-o*c[1])>=0&&(r=s-o*(1-c[1]))<=0&&(r=0),r*=t.axisExpandWidth/u,r?ly(r,n,a,"all"):l="none";else{var h=n[1]-n[0],p=a[1]*s/h;n=[py(0,p-h/2)],n[1]=hy(a[1],n[0]+h),n[0]=n[1]-h}return{axisExpandWindow:n,behavior:l}},e}();function _y(e,t){return hy(py(e,t[0]),t[1])}function xy(e,t){var i=t.layoutLength/(t.axisCount-1);return{position:i*e,axisNameAvailableWidth:i,axisLabelShow:!0}}function by(e,t){var i,n,o=t.layoutLength,a=t.axisExpandWidth,r=t.axisCount,s=t.axisCollapseWidth,l=t.winInnerIndices,u=s,c=!1;return e<l[0]?(i=e*s,n=s):e<=l[1]?(i=t.axisExpandWindow0Pos+e*a-t.axisExpandWindow[0],u=a,c=!0):(i=o-(r-1-e)*s,n=s),{position:i,axisNameAvailableWidth:u,axisLabelShow:c,nameTruncateMaxWidth:n}}var wy=vy;function Cy(e,t){var i=[];return e.eachComponent("parallel",(function(n,o){var a=new wy(n,e,t);a.name="parallel_"+o,a.resize(n,t),n.coordinateSystem=a,a.model=n,i.push(a)})),e.eachSeries((function(e){if("parallel"===e.get("coordinateSystem")){var t=e.getReferringComponents("parallel",g.US).models[0];e.coordinateSystem=t.coordinateSystem}})),i}var Sy={create:Cy},Ay=Sy,ky=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i.activeIntervals=[],i}return(0,_e.C6)(t,e),t.prototype.getAreaSelectStyle=function(){return(0,Fp.A)([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},t.prototype.setActiveIntervals=function(e){var t=this.activeIntervals=l.o8(e);if(t)for(var i=t.length-1;i>=0;i--)v.Y6(t[i])},t.prototype.getActiveState=function(e){var t=this.activeIntervals;if(!t.length)return"normal";if(null==e||isNaN(+e))return"inactive";if(1===t.length){var i=t[0];if(i[0]<=e&&e<=i[1])return"active"}else for(var n=0,o=t.length;n<o;n++)if(t[n][0]<=e&&e<=t[n][1])return"active";return"inactive"},t}(r.A);l.co(ky,Dr);var My=ky,Iy=!0,Ty=Math.min,Dy=Math.max,Ly=Math.pow,Py=1e4,Fy=6,Ny=6,Ry="globalPan",Vy={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},Ey={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},Oy={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},zy=0,Gy=function(e){function t(t){var i=e.call(this)||this;return i._track=[],i._covers=[],i._handlers={},i._zr=t,i.group=new En.A,i._uid="brushController_"+zy++,(0,l.__)(vv,(function(e,t){this._handlers[t]=(0,l.oI)(e,this)}),i),i}return(0,_e.C6)(t,e),t.prototype.enableBrush=function(e){return this._brushType&&this._doDisableBrush(),e.brushType&&this._doEnableBrush(e),this},t.prototype._doEnableBrush=function(e){var t=this._zr;this._enableGlobalPan||qu(t,Ry,this._uid),(0,l.__)(this._handlers,(function(e,i){t.on(i,e)})),this._brushType=e.brushType,this._brushOption=(0,l.h1)((0,l.o8)(Oy),e,!0)},t.prototype._doDisableBrush=function(){var e=this._zr;Ku(e,Ry,this._uid),(0,l.__)(this._handlers,(function(t,i){e.off(i,t)})),this._brushType=this._brushOption=null},t.prototype.setPanels=function(e){if(e&&e.length){var t=this._panels={};(0,l.__)(e,(function(e){t[e.panelId]=(0,l.o8)(e)}))}else this._panels=null;return this},t.prototype.mount=function(e){e=e||{},this._enableGlobalPan=e.enableGlobalPan;var t=this.group;return this._zr.add(t),t.attr({x:e.x||0,y:e.y||0,rotation:e.rotation||0,scaleX:e.scaleX||1,scaleY:e.scaleY||1}),this._transform=t.getLocalTransform(),this},t.prototype.updateCovers=function(e){e=(0,l.Tj)(e,(function(e){return(0,l.h1)((0,l.o8)(Oy),e,!0)}));var t="\0-brush-index-",i=this._covers,n=this._covers=[],o=this,a=this._creatingCover;return new Ni(i,e,s,r).add(u).update(u).remove(c).execute(),this;function r(e,i){return(null!=e.id?e.id:t+i)+"-"+e.brushType}function s(e,t){return r(e.__brushOption,t)}function u(t,r){var s=e[t];if(null!=r&&i[r]===a)n[t]=i[r];else{var l=n[t]=null!=r?(i[r].__brushOption=s,i[r]):Wy(o,By(o,s));$y(o,l)}}function c(e){i[e]!==a&&o.group.remove(i[e])}},t.prototype.unmount=function(){return this.enableBrush(!1),Zy(this),this._zr.remove(this.group),this},t.prototype.dispose=function(){this.unmount(),this.off()},t}(xe.A);function By(e,t){var i=bv[t.brushType].createCover(e,t);return i.__brushOption=t,Xy(i,t),e.group.add(i),i}function Wy(e,t){var i=jy(t);return i.endCreating&&(i.endCreating(e,t),Xy(t,t.__brushOption)),t}function Hy(e,t){var i=t.__brushOption;jy(t).updateCoverShape(e,t,i.range,i)}function Xy(e,t){var i=t.z;null==i&&(i=Py),e.traverse((function(e){e.z=i,e.z2=i}))}function $y(e,t){jy(t).updateCommon(e,t),Hy(e,t)}function jy(e){return bv[e.__brushOption.brushType]}function Uy(e,t,i){var n,o=e._panels;if(!o)return Iy;var a=e._transform;return(0,l.__)(o,(function(e){e.isTargetByCursor(t,i,a)&&(n=e)})),n}function Yy(e,t){var i=e._panels;if(!i)return Iy;var n=t.__brushOption.panelId;return null!=n?i[n]:Iy}function Zy(e){var t=e._covers,i=t.length;return(0,l.__)(t,(function(t){e.group.remove(t)}),e),t.length=0,!!i}function qy(e,t){var i=(0,l.Tj)(e._covers,(function(e){var t=e.__brushOption,i=(0,l.o8)(t.range);return{brushType:t.brushType,panelId:t.panelId,range:i}}));e.trigger("brush",{areas:i,isEnd:!!t.isEnd,removeOnClick:!!t.removeOnClick})}function Ky(e){var t=e._track;if(!t.length)return!1;var i=t[t.length-1],n=t[0],o=i[0]-n[0],a=i[1]-n[1],r=Ly(o*o+a*a,.5);return r>Fy}function Qy(e){var t=e.length-1;return t<0&&(t=0),[e[0],e[t]]}function Jy(e,t,i,n){var o=new En.A;return o.add(new fo.A({name:"main",style:nv(i),silent:!0,draggable:!0,cursor:"move",drift:(0,l.cF)(lv,e,t,o,["n","s","w","e"]),ondragend:(0,l.cF)(qy,t,{isEnd:!0})})),(0,l.__)(n,(function(i){o.add(new fo.A({name:i.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:(0,l.cF)(lv,e,t,o,i),ondragend:(0,l.cF)(qy,t,{isEnd:!0})}))})),o}function ev(e,t,i,n){var o=n.brushStyle.lineWidth||0,a=Dy(o,Ny),r=i[0][0],s=i[1][0],l=r-o/2,u=s-o/2,c=i[0][1],d=i[1][1],h=c-a+o/2,p=d-a+o/2,g=c-r,f=d-s,m=g+o,y=f+o;iv(e,t,"main",r,s,g,f),n.transformable&&(iv(e,t,"w",l,u,a,y),iv(e,t,"e",h,u,a,y),iv(e,t,"n",l,u,m,a),iv(e,t,"s",l,p,m,a),iv(e,t,"nw",l,u,a,a),iv(e,t,"ne",h,u,a,a),iv(e,t,"sw",l,p,a,a),iv(e,t,"se",h,p,a,a))}function tv(e,t){var i=t.__brushOption,n=i.transformable,o=t.childAt(0);o.useStyle(nv(i)),o.attr({silent:!n,cursor:n?"move":"default"}),(0,l.__)([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],(function(i){var o=t.childOfName(i.join("")),a=1===i.length?rv(e,i[0]):sv(e,i);o&&o.attr({silent:!n,invisible:!n,cursor:n?Ey[a]+"-resize":null})}))}function iv(e,t,i,n,o,a,r){var s=t.childOfName(i);s&&s.setShape(hv(dv(e,t,[[n,o],[n+a,o+r]])))}function nv(e){return(0,l.NT)({strokeNoScale:!0},e.brushStyle)}function ov(e,t,i,n){var o=[Ty(e,i),Ty(t,n)],a=[Dy(e,i),Dy(t,n)];return[[o[0],a[0]],[o[1],a[1]]]}function av(e){return Gn.getTransform(e.group)}function rv(e,t){var i={w:"left",e:"right",n:"top",s:"bottom"},n={left:"w",right:"e",top:"n",bottom:"s"},o=Gn.transformDirection(i[t],av(e));return n[o]}function sv(e,t){var i=[rv(e,t[0]),rv(e,t[1])];return("e"===i[0]||"w"===i[0])&&i.reverse(),i.join("")}function lv(e,t,i,n,o,a){var r=i.__brushOption,s=e.toRectRange(r.range),u=cv(t,o,a);(0,l.__)(n,(function(e){var t=Vy[e];s[t[0]][t[1]]+=u[t[0]]})),r.range=e.fromRectRange(ov(s[0][0],s[1][0],s[0][1],s[1][1])),$y(t,i),qy(t,{isEnd:!1})}function uv(e,t,i,n){var o=t.__brushOption.range,a=cv(e,i,n);(0,l.__)(o,(function(e){e[0]+=a[0],e[1]+=a[1]})),$y(e,t),qy(e,{isEnd:!1})}function cv(e,t,i){var n=e.group,o=n.transformCoordToLocal(t,i),a=n.transformCoordToLocal(0,0);return[o[0]-a[0],o[1]-a[1]]}function dv(e,t,i){var n=Yy(e,t);return n&&n!==Iy?n.clipPath(i,e._transform):(0,l.o8)(i)}function hv(e){var t=Ty(e[0][0],e[1][0]),i=Ty(e[0][1],e[1][1]),n=Dy(e[0][0],e[1][0]),o=Dy(e[0][1],e[1][1]);return{x:t,y:i,width:n-t,height:o-i}}function pv(e,t,i){if(e._brushType&&!xv(e,t.offsetX,t.offsetY)){var n=e._zr,o=e._covers,a=Uy(e,t,i);if(!e._dragging)for(var r=0;r<o.length;r++){var s=o[r].__brushOption;if(a&&(a===Iy||s.panelId===a.panelId)&&bv[s.brushType].contain(o[r],i[0],i[1]))return}a&&n.setCursorStyle("crosshair")}}function gv(e){var t=e.event;t.preventDefault&&t.preventDefault()}function fv(e,t,i){return e.childOfName("main").contain(t,i)}function mv(e,t,i,n){var o,a=e._creatingCover,r=e._creatingPanel,s=e._brushOption;if(e._track.push(i.slice()),Ky(e)||a){if(r&&!a){"single"===s.brushMode&&Zy(e);var u=(0,l.o8)(s);u.brushType=yv(u.brushType,r),u.panelId=r===Iy?null:r.panelId,a=e._creatingCover=By(e,u),e._covers.push(a)}if(a){var c=bv[yv(e._brushType,r)],d=a.__brushOption;d.range=c.getCreatingRange(dv(e,a,e._track)),n&&(Wy(e,a),c.updateCommon(e,a)),Hy(e,a),o={isEnd:n}}}else n&&"single"===s.brushMode&&s.removeOnClick&&Uy(e,t,i)&&Zy(e)&&(o={isEnd:n,removeOnClick:!0});return o}function yv(e,t){return"auto"===e?t.defaultBrushType:e}var vv={mousedown:function(e){if(this._dragging)_v(this,e);else if(!e.target||!e.target.draggable){gv(e);var t=this.group.transformCoordToLocal(e.offsetX,e.offsetY);this._creatingCover=null;var i=this._creatingPanel=Uy(this,e,t);i&&(this._dragging=!0,this._track=[t.slice()])}},mousemove:function(e){var t=e.offsetX,i=e.offsetY,n=this.group.transformCoordToLocal(t,i);if(pv(this,e,n),this._dragging){gv(e);var o=mv(this,e,n,!1);o&&qy(this,o)}},mouseup:function(e){_v(this,e)}};function _v(e,t){if(e._dragging){gv(t);var i=t.offsetX,n=t.offsetY,o=e.group.transformCoordToLocal(i,n),a=mv(e,t,o,!0);e._dragging=!1,e._track=[],e._creatingCover=null,a&&qy(e,a)}}function xv(e,t,i){var n=e._zr;return t<0||t>n.getWidth()||i<0||i>n.getHeight()}var bv={lineX:wv(0),lineY:wv(1),rect:{createCover:function(e,t){function i(e){return e}return Jy({toRectRange:i,fromRectRange:i},e,t,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(e){var t=Qy(e);return ov(t[1][0],t[1][1],t[0][0],t[0][1])},updateCoverShape:function(e,t,i,n){ev(e,t,i,n)},updateCommon:tv,contain:fv},polygon:{createCover:function(e,t){var i=new En.A;return i.add(new w.A({name:"main",style:nv(t),silent:!0})),i},getCreatingRange:function(e){return e},endCreating:function(e,t){t.remove(t.childAt(0)),t.add(new Mu.A({name:"main",draggable:!0,drift:(0,l.cF)(uv,e,t),ondragend:(0,l.cF)(qy,e,{isEnd:!0})}))},updateCoverShape:function(e,t,i,n){t.childAt(0).setShape({points:dv(e,t,i)})},updateCommon:tv,contain:fv}};function wv(e){return{createCover:function(t,i){return Jy({toRectRange:function(t){var i=[t,[0,100]];return e&&i.reverse(),i},fromRectRange:function(t){return t[e]}},t,i,[[["w"],["e"]],[["n"],["s"]]][e])},getCreatingRange:function(t){var i=Qy(t),n=Ty(i[0][e],i[1][e]),o=Dy(i[0][e],i[1][e]);return[n,o]},updateCoverShape:function(t,i,n,o){var a,r=Yy(t,i);if(r!==Iy&&r.getLinearBrushOtherExtent)a=r.getLinearBrushOtherExtent(e);else{var s=t._zr;a=[0,[s.getWidth(),s.getHeight()][1-e]]}var l=[n,a];e&&l.reverse(),ev(t,i,l,o)},updateCommon:tv,contain:fv}}var Cv=Gy;function Sv(e){return e=Mv(e),function(t){return Gn.clipPointsByRect(t,e)}}function Av(e,t){return e=Mv(e),function(i){var n=null!=t?t:i,o=n?e.width:e.height,a=n?e.x:e.y;return[a,a+(o||0)]}}function kv(e,t,i){var n=Mv(e);return function(e,o){return n.contain(o[0],o[1])&&!lc(e,t,i)}}function Mv(e){return f.A.create(e)}var Iv=["axisLine","axisTickLabel","axisName"],Tv=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return(0,_e.C6)(t,e),t.prototype.init=function(t,i){e.prototype.init.apply(this,arguments),(this._brushController=new Cv(i.getZr())).on("brush",l.oI(this._onBrush,this))},t.prototype.render=function(e,t,i,n){if(!Dv(e,t,n)){this.axisModel=e,this.api=i,this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new En.A,this.group.add(this._axisGroup),e.get("show")){var a=Pv(e,t),r=a.coordinateSystem,s=e.getAreaSelectStyle(),u=s.width,c=e.axis.dim,d=r.getAxisLayout(c),h=l.X$({strokeContainThreshold:u},d),p=new Zl(e,h);l.__(Iv,p.add,p),this._axisGroup.add(p.getGroup()),this._refreshBrushController(h,s,e,a,u,i),Gn.groupTransition(o,this._axisGroup,e)}}},t.prototype._refreshBrushController=function(e,t,i,n,o,a){var r=i.axis.getExtent(),s=r[1]-r[0],l=Math.min(30,.1*Math.abs(s)),u=f.A.create({x:r[0],y:-o/2,width:s,height:o});u.x-=l,u.width+=2*l,this._brushController.mount({enableGlobalPan:!0,rotation:e.rotation,x:e.position[0],y:e.position[1]}).setPanels([{panelId:"pl",clipPath:Sv(u),isTargetByCursor:kv(u,a,n),getLinearBrushOtherExtent:Av(u,0)}]).enableBrush({brushType:"lineX",brushStyle:t,removeOnClick:!0}).updateCovers(Lv(i))},t.prototype._onBrush=function(e){var t=e.areas,i=this.axisModel,n=i.axis,o=l.Tj(t,(function(e){return[n.coordToData(e.range[0],!0),n.coordToData(e.range[1],!0)]}));(!i.option.realtime===e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:i.id,intervals:o})},t.prototype.dispose=function(){this._brushController.dispose()},t.type="parallelAxis",t}(o.A);function Dv(e,t,i){return i&&"axisAreaSelect"===i.type&&t.findComponents({mainType:"parallelAxis",query:i})[0]===e}function Lv(e){var t=e.axis;return l.Tj(e.activeIntervals,(function(e){return{brushType:"lineX",panelId:"pl",range:[t.dataToCoord(e[0],!0),t.dataToCoord(e[1],!0)]}}))}function Pv(e,t){return t.getComponent("parallel",e.get("parallelIndex"))}var Fv=Tv,Nv={type:"axisAreaSelect",event:"axisAreaSelected"};function Rv(e){e.registerAction(Nv,(function(e,t){t.eachComponent({mainType:"parallelAxis",query:e},(function(t){t.axis.model.setActiveIntervals(e.intervals)}))})),e.registerAction("parallelAxisExpand",(function(e,t){t.eachComponent({mainType:"parallel",query:e},(function(t){t.setAxisExpand(e)}))}))}var Vv={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function Ev(e){e.registerComponentView(ny),e.registerComponentModel(ay),e.registerCoordinateSystem("parallel",Ay),e.registerPreprocessor(qm),e.registerComponentModel(My),e.registerComponentView(Fv),Hr(e,"parallel",My,Vv),Rv(e)}function Ov(e){p(Ev),e.registerChartView(Wm),e.registerSeriesModel(jm),e.registerVisual(e.PRIORITY.VISUAL.BRUSH,Zm)}var zv=function(){function e(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0}return e}(),Gv=function(e){function t(t){return e.call(this,t)||this}return(0,_e.C6)(t,e),t.prototype.getDefaultShape=function(){return new zv},t.prototype.buildPath=function(e,t){var i=t.extent;e.moveTo(t.x1,t.y1),e.bezierCurveTo(t.cpx1,t.cpy1,t.cpx2,t.cpy2,t.x2,t.y2),"vertical"===t.orient?(e.lineTo(t.x2+i,t.y2),e.bezierCurveTo(t.cpx2+i,t.cpy2,t.cpx1+i,t.cpy1,t.x1+i,t.y1)):(e.lineTo(t.x2,t.y2+i),e.bezierCurveTo(t.cpx2,t.cpy2+i,t.cpx1,t.cpy1+i,t.x1,t.y1+i)),e.closePath()},t.prototype.highlight=function(){(0,I.HY)(this)},t.prototype.downplay=function(){(0,I.SD)(this)},t}(b.Ay),Bv=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i._focusAdjacencyDisabled=!1,i}return(0,_e.C6)(t,e),t.prototype.render=function(e,t,i){var n=this,o=e.getGraph(),a=this.group,r=e.layoutInfo,s=r.width,u=r.height,c=e.getData(),d=e.getData("edge"),h=e.get("orient");this._model=e,a.removeAll(),a.x=r.x,a.y=r.y,o.eachEdge((function(t){var i=new Gv,n=(0,y.z)(i);n.dataIndex=t.dataIndex,n.seriesIndex=e.seriesIndex,n.dataType="edge";var o,r,c,p,g,f,m,v,_=t.getModel(),x=_.getModel("lineStyle"),b=x.get("curveness"),w=t.node1.getLayout(),C=t.node1.getModel(),S=C.get("localX"),A=C.get("localY"),k=t.node2.getLayout(),M=t.node2.getModel(),T=M.get("localX"),D=M.get("localY"),L=t.getLayout();i.shape.extent=Math.max(1,L.dy),i.shape.orient=h,"vertical"===h?(o=(null!=S?S*s:w.x)+L.sy,r=(null!=A?A*u:w.y)+w.dy,c=(null!=T?T*s:k.x)+L.ty,p=null!=D?D*u:k.y,g=o,f=r*(1-b)+p*b,m=c,v=r*b+p*(1-b)):(o=(null!=S?S*s:w.x)+w.dx,r=(null!=A?A*u:w.y)+L.sy,c=null!=T?T*s:k.x,p=(null!=D?D*u:k.y)+L.ty,g=o*(1-b)+c*b,f=r,m=o*b+c*(1-b),v=p),i.setShape({x1:o,y1:r,x2:c,y2:p,cpx1:g,cpy1:f,cpx2:m,cpy2:v}),i.useStyle(x.getItemStyle()),Wv(i.style,h,t);var P=""+_.get("value"),F=(0,ae.lx)(_,"edgeLabel");(0,ae.qM)(i,F,{labelFetcher:{getFormattedLabel:function(t,i,n,o,a,r){return e.getFormattedLabel(t,i,"edge",o,(0,l.WV)(a,F.normal&&F.normal.get("formatter"),P),r)}},labelDataIndex:t.dataIndex,defaultText:P}),i.setTextConfig({position:"inside"});var N=_.getModel("emphasis");(0,I.Mx)(i,_,"lineStyle",(function(e){var i=e.getItemStyle();return Wv(i,h,t),i})),a.add(i),d.setItemGraphicEl(t.dataIndex,i);var R=N.get("focus");(0,I.Lm)(i,"adjacency"===R?t.getAdjacentDataIndices():"trajectory"===R?t.getTrajectoryDataIndices():R,N.get("blurScope"),N.get("disabled"))})),o.eachNode((function(t){var i=t.getLayout(),n=t.getModel(),o=n.get("localX"),r=n.get("localY"),l=n.getModel("emphasis"),d=n.get(["itemStyle","borderRadius"])||0,h=new fo.A({shape:{x:null!=o?o*s:i.x,y:null!=r?r*u:i.y,width:i.dx,height:i.dy,r:d},style:n.getModel("itemStyle").getItemStyle(),z2:10});(0,ae.qM)(h,(0,ae.lx)(n),{labelFetcher:{getFormattedLabel:function(t,i){return e.getFormattedLabel(t,i,"node")}},labelDataIndex:t.dataIndex,defaultText:t.id}),h.disableLabelAnimation=!0,h.setStyle("fill",t.getVisual("color")),h.setStyle("decal",t.getVisual("style").decal),(0,I.Mx)(h,n),a.add(h),c.setItemGraphicEl(t.dataIndex,h),(0,y.z)(h).dataType="node";var p=l.get("focus");(0,I.Lm)(h,"adjacency"===p?t.getAdjacentDataIndices():"trajectory"===p?t.getTrajectoryDataIndices():p,l.get("blurScope"),l.get("disabled"))})),c.eachItemGraphicEl((function(t,o){var a=c.getItemModel(o);a.get("draggable")&&(t.drift=function(t,a){n._focusAdjacencyDisabled=!0,this.shape.x+=t,this.shape.y+=a,this.dirty(),i.dispatchAction({type:"dragNode",seriesId:e.id,dataIndex:c.getRawIndex(o),localX:this.shape.x/s,localY:this.shape.y/u})},t.ondragend=function(){n._focusAdjacencyDisabled=!1},t.draggable=!0,t.cursor="move")})),!this._data&&e.isAnimationEnabled()&&a.setClipPath(Hv(a.getBoundingRect(),e,(function(){a.removeClipPath()}))),this._data=e.getData()},t.prototype.dispose=function(){},t.type="sankey",t}(a.A);function Wv(e,t,i){switch(e.fill){case"source":e.fill=i.node1.getVisual("color"),e.decal=i.node1.getVisual("style").decal;break;case"target":e.fill=i.node2.getVisual("color"),e.decal=i.node2.getVisual("style").decal;break;case"gradient":var n=i.node1.getVisual("color"),o=i.node2.getVisual("color");(0,l.Kg)(n)&&(0,l.Kg)(o)&&(e.fill=new ao.A(0,0,+("horizontal"===t),+("vertical"===t),[{color:n,offset:0},{color:o,offset:1}]))}}function Hv(e,t,i){var n=new fo.A({shape:{x:e.x-10,y:e.y-10,width:0,height:e.height+20}});return m.LW(n,{shape:{width:e.width+20}},t,i),n}var Xv=Bv,$v=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return(0,_e.C6)(t,e),t.prototype.getInitialData=function(e,t){var i=e.edges||e.links,n=e.data||e.nodes,o=e.levels;this.levelModels=[];for(var a=this.levelModels,r=0;r<o.length;r++)null!=o[r].depth&&o[r].depth>=0&&(a[o[r].depth]=new Di.A(o[r],this,t));if(n&&i){var s=sm(n,i,this,!0,l);return s.data}function l(e,t){e.wrapMethod("getItemModel",(function(e,t){var i=e.parentModel,n=i.getData().getItemLayout(t);if(n){var o=n.depth,a=i.levelModels[o];a&&(e.parentModel=a)}return e})),t.wrapMethod("getItemModel",(function(e,t){var i=e.parentModel,n=i.getGraph().getEdgeByIndex(t),o=n.node1.getLayout();if(o){var a=o.depth,r=i.levelModels[a];r&&(e.parentModel=r)}return e}))}},t.prototype.setNodePosition=function(e,t){var i=this.option.data||this.option.nodes,n=i[e];n.localX=t[0],n.localY=t[1]},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.formatTooltip=function(e,t,i){function n(e){return isNaN(e)||null==e}if("edge"===i){var o=this.getDataParams(e,i),a=o.data,r=o.value,s=a.source+" -- "+a.target;return(0,Du.Qx)("nameValue",{name:s,value:r,noValue:n(r)})}var l=this.getGraph().getNodeByIndex(e),u=l.getLayout().value,c=this.getDataParams(e,i).data.name;return(0,Du.Qx)("nameValue",{name:null!=c?c+"":null,value:u,noValue:n(u)})},t.prototype.optionUpdated=function(){},t.prototype.getDataParams=function(t,i){var n=e.prototype.getDataParams.call(this,t,i);if(null==n.value&&"node"===i){var o=this.getGraph().getNodeByIndex(t),a=o.getLayout().value;n.value=a}return n},t.type="series.sankey",t.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},t}(s.A),jv=$v;function Uv(e,t){e.eachSeriesByType("sankey",(function(e){var i=e.get("nodeWidth"),n=e.get("nodeGap"),o=Yv(e,t);e.layoutInfo=o;var a=o.width,r=o.height,s=e.getGraph(),u=s.nodes,c=s.edges;qv(u);var d=l.pb(u,(function(e){return 0===e.getLayout().value})),h=0!==d.length?0:e.get("layoutIterations"),p=e.get("orient"),g=e.get("nodeAlign");Zv(u,c,i,n,a,r,h,p,g)}))}function Yv(e,t){return Ya.dV(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function Zv(e,t,i,n,o,a,r,s,l){Kv(e,t,i,o,a,s,l),i_(e,t,a,o,n,r,s),f_(e,s)}function qv(e){l.__(e,(function(e){var t=p_(e.outEdges,h_),i=p_(e.inEdges,h_),n=e.getValue()||0,o=Math.max(t,i,n);e.setLayout({value:o},!0)}))}function Kv(e,t,i,n,o,a,r){for(var s=[],l=[],u=[],c=[],d=0,h=0;h<t.length;h++)s[h]=1;for(h=0;h<e.length;h++)l[h]=e[h].inEdges.length,0===l[h]&&u.push(e[h]);var p=-1;while(u.length){for(var g=0;g<u.length;g++){var f=u[g],m=f.hostGraph.data.getRawDataItem(f.dataIndex),y=null!=m.depth&&m.depth>=0;y&&m.depth>p&&(p=m.depth),f.setLayout({depth:y?m.depth:d},!0),"vertical"===a?f.setLayout({dy:i},!0):f.setLayout({dx:i},!0);for(var v=0;v<f.outEdges.length;v++){var _=f.outEdges[v],x=t.indexOf(_);s[x]=0;var b=_.node2,w=e.indexOf(b);0===--l[w]&&c.indexOf(b)<0&&c.push(b)}}++d,u=c,c=[]}for(h=0;h<s.length;h++)if(1===s[h])throw new Error("Sankey is a DAG, the original data has cycle!");var C=p>d-1?p:d-1;r&&"left"!==r&&Jv(e,r,a,C);var S="vertical"===a?(o-i)/C:(n-i)/C;t_(e,S,a)}function Qv(e){var t=e.hostGraph.data.getRawDataItem(e.dataIndex);return null!=t.depth&&t.depth>=0}function Jv(e,t,i,n){if("right"===t){var o=[],a=e,r=0;while(a.length){for(var s=0;s<a.length;s++){var u=a[s];u.setLayout({skNodeHeight:r},!0);for(var c=0;c<u.inEdges.length;c++){var d=u.inEdges[c];o.indexOf(d.node1)<0&&o.push(d.node1)}}a=o,o=[],++r}l.__(e,(function(e){Qv(e)||e.setLayout({depth:Math.max(0,n-e.getLayout().skNodeHeight)},!0)}))}else"justify"===t&&e_(e,n)}function e_(e,t){l.__(e,(function(e){Qv(e)||e.outEdges.length||e.setLayout({depth:t},!0)}))}function t_(e,t,i){l.__(e,(function(e){var n=e.getLayout().depth*t;"vertical"===i?e.setLayout({y:n},!0):e.setLayout({x:n},!0)}))}function i_(e,t,i,n,o,a,r){var s=n_(e,r);o_(s,t,i,n,o,r),a_(s,o,i,n,r);for(var l=1;a>0;a--)l*=.99,r_(s,l,r),a_(s,o,i,n,r),g_(s,l,r),a_(s,o,i,n,r)}function n_(e,t){var i=[],n="vertical"===t?"y":"x",o=(0,g.Sq)(e,(function(e){return e.getLayout()[n]}));return o.keys.sort((function(e,t){return e-t})),l.__(o.keys,(function(e){i.push(o.buckets.get(e))})),i}function o_(e,t,i,n,o,a){var r=1/0;l.__(e,(function(e){var t=e.length,s=0;l.__(e,(function(e){s+=e.getLayout().value}));var u="vertical"===a?(n-(t-1)*o)/s:(i-(t-1)*o)/s;u<r&&(r=u)})),l.__(e,(function(e){l.__(e,(function(e,t){var i=e.getLayout().value*r;"vertical"===a?(e.setLayout({x:t},!0),e.setLayout({dx:i},!0)):(e.setLayout({y:t},!0),e.setLayout({dy:i},!0))}))})),l.__(t,(function(e){var t=+e.getValue()*r;e.setLayout({dy:t},!0)}))}function a_(e,t,i,n,o){var a="vertical"===o?"x":"y";l.__(e,(function(e){var r,s,l;e.sort((function(e,t){return e.getLayout()[a]-t.getLayout()[a]}));for(var u=0,c=e.length,d="vertical"===o?"dx":"dy",h=0;h<c;h++)s=e[h],l=u-s.getLayout()[a],l>0&&(r=s.getLayout()[a]+l,"vertical"===o?s.setLayout({x:r},!0):s.setLayout({y:r},!0)),u=s.getLayout()[a]+s.getLayout()[d]+t;var p="vertical"===o?n:i;if(l=u-t-p,l>0){r=s.getLayout()[a]-l,"vertical"===o?s.setLayout({x:r},!0):s.setLayout({y:r},!0),u=r;for(h=c-2;h>=0;--h)s=e[h],l=s.getLayout()[a]+s.getLayout()[d]+t-u,l>0&&(r=s.getLayout()[a]-l,"vertical"===o?s.setLayout({x:r},!0):s.setLayout({y:r},!0)),u=s.getLayout()[a]}}))}function r_(e,t,i){l.__(e.slice().reverse(),(function(e){l.__(e,(function(e){if(e.outEdges.length){var n=p_(e.outEdges,s_,i)/p_(e.outEdges,h_);if(isNaN(n)){var o=e.outEdges.length;n=o?p_(e.outEdges,l_,i)/o:0}if("vertical"===i){var a=e.getLayout().x+(n-d_(e,i))*t;e.setLayout({x:a},!0)}else{var r=e.getLayout().y+(n-d_(e,i))*t;e.setLayout({y:r},!0)}}}))}))}function s_(e,t){return d_(e.node2,t)*e.getValue()}function l_(e,t){return d_(e.node2,t)}function u_(e,t){return d_(e.node1,t)*e.getValue()}function c_(e,t){return d_(e.node1,t)}function d_(e,t){return"vertical"===t?e.getLayout().x+e.getLayout().dx/2:e.getLayout().y+e.getLayout().dy/2}function h_(e){return e.getValue()}function p_(e,t,i){var n=0,o=e.length,a=-1;while(++a<o){var r=+t(e[a],i);isNaN(r)||(n+=r)}return n}function g_(e,t,i){l.__(e,(function(e){l.__(e,(function(e){if(e.inEdges.length){var n=p_(e.inEdges,u_,i)/p_(e.inEdges,h_);if(isNaN(n)){var o=e.inEdges.length;n=o?p_(e.inEdges,c_,i)/o:0}if("vertical"===i){var a=e.getLayout().x+(n-d_(e,i))*t;e.setLayout({x:a},!0)}else{var r=e.getLayout().y+(n-d_(e,i))*t;e.setLayout({y:r},!0)}}}))}))}function f_(e,t){var i="vertical"===t?"x":"y";l.__(e,(function(e){e.outEdges.sort((function(e,t){return e.node2.getLayout()[i]-t.node2.getLayout()[i]})),e.inEdges.sort((function(e,t){return e.node1.getLayout()[i]-t.node1.getLayout()[i]}))})),l.__(e,(function(e){var t=0,i=0;l.__(e.outEdges,(function(e){e.setLayout({sy:t},!0),t+=e.getLayout().dy})),l.__(e.inEdges,(function(e){e.setLayout({ty:i},!0),i+=e.getLayout().dy}))}))}function m_(e){e.eachSeriesByType("sankey",(function(e){var t=e.getGraph(),i=t.nodes,n=t.edges;if(i.length){var o=1/0,a=-1/0;l.__(i,(function(e){var t=e.getLayout().value;t<o&&(o=t),t>a&&(a=t)})),l.__(i,(function(t){var i=new pg({type:"color",mappingMethod:"linear",dataExtent:[o,a],visual:e.get("color")}),n=i.mapValueToVisual(t.getLayout().value),r=t.getModel().get(["itemStyle","color"]);null!=r?(t.setVisual("color",r),t.setVisual("style",{fill:r})):(t.setVisual("color",n),t.setVisual("style",{fill:n}))}))}n.length&&l.__(n,(function(e){var t=e.getModel().get("lineStyle");e.setVisual("style",t)}))}))}function y_(e){e.registerChartView(Xv),e.registerSeriesModel(jv),e.registerLayout(Uv),e.registerVisual(m_),e.registerAction({type:"dragNode",event:"dragnode",update:"update"},(function(e,t){t.eachComponent({mainType:"series",subType:"sankey",query:e},(function(t){t.setNodePosition(e.dataIndex,[e.localX,e.localY])}))}))}var v_=function(){function e(){}return e.prototype.getInitialData=function(e,t){var i,n,o=t.getComponent("xAxis",this.get("xAxisIndex")),a=t.getComponent("yAxis",this.get("yAxisIndex")),r=o.get("type"),s=a.get("type");"category"===r?(e.layout="horizontal",i=o.getOrdinalMeta(),n=!0):"category"===s?(e.layout="vertical",i=a.getOrdinalMeta(),n=!0):e.layout=e.layout||"horizontal";var u=["x","y"],c="horizontal"===e.layout?0:1,d=this._baseAxisDim=u[c],h=u[1-c],p=[o,a],g=p[c].get("type"),f=p[1-c].get("type"),m=e.data;if(m&&n){var y=[];l.__(m,(function(e,t){var i;l.cy(e)?(i=e.slice(),e.unshift(t)):l.cy(e.value)?(i=l.X$({},e),i.value=i.value.slice(),e.value.unshift(t)):i=e,y.push(i)})),e.data=y}var v=this.defaultValueDimensions,_=[{name:d,type:Gi(g),ordinalMeta:i,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:h,type:Gi(f),dimsDef:v.slice()}];return dr(this,{coordDimensions:_,dimensionsCount:v.length+1,encodeDefaulter:l.cF(mn.OC,_,this)})},e.prototype.getBaseAxis=function(){var e=this._baseAxisDim;return this.ecModel.getComponent(e+"Axis",this.get(e+"AxisIndex")).axis},e}(),__=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],i.visualDrawType="stroke",i}return(0,_e.C6)(t,e),t.type="series.boxplot",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},t}(s.A);(0,l.co)(__,v_,!0);var x_=__,b_=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return(0,_e.C6)(t,e),t.prototype.render=function(e,t,i){var n=e.getData(),o=this.group,a=this._data;this._data||o.removeAll();var r="horizontal"===e.get("layout")?1:0;n.diff(a).add((function(e){if(n.hasValue(e)){var t=n.getItemLayout(e),i=S_(t,n,e,r,!0);n.setItemGraphicEl(e,i),o.add(i)}})).update((function(e,t){var i=a.getItemGraphicEl(t);if(n.hasValue(e)){var s=n.getItemLayout(e);i?((0,m.ap)(i),A_(s,i,n,e)):i=S_(s,n,e,r),o.add(i),n.setItemGraphicEl(e,i)}else o.remove(i)})).remove((function(e){var t=a.getItemGraphicEl(e);t&&o.remove(t)})).execute(),this._data=n},t.prototype.remove=function(e){var t=this.group,i=this._data;this._data=null,i&&i.eachItemGraphicEl((function(e){e&&t.remove(e)}))},t.type="boxplot",t}(a.A),w_=function(){function e(){}return e}(),C_=function(e){function t(t){var i=e.call(this,t)||this;return i.type="boxplotBoxPath",i}return(0,_e.C6)(t,e),t.prototype.getDefaultShape=function(){return new w_},t.prototype.buildPath=function(e,t){var i=t.points,n=0;for(e.moveTo(i[n][0],i[n][1]),n++;n<4;n++)e.lineTo(i[n][0],i[n][1]);for(e.closePath();n<i.length;n++)e.moveTo(i[n][0],i[n][1]),n++,e.lineTo(i[n][0],i[n][1])},t}(b.Ay);function S_(e,t,i,n,o){var a=e.ends,r=new C_({shape:{points:o?k_(a,n,e):a}});return A_(e,r,t,i,o),r}function A_(e,t,i,n,o){var a=i.hostModel,r=Gn[o?"initProps":"updateProps"];r(t,{shape:{points:e.ends}},a,n),t.useStyle(i.getItemVisual(n,"style")),t.style.strokeNoScale=!0,t.z2=100;var s=i.getItemModel(n),l=s.getModel("emphasis");(0,I.Mx)(t,s),(0,I.Lm)(t,l.get("focus"),l.get("blurScope"),l.get("disabled"))}function k_(e,t,i){return l.Tj(e,(function(e){return e=e.slice(),e[t]=i.initBaseline,e}))}var M_=b_,I_=l.__;function T_(e){var t=D_(e);I_(t,(function(e){var t=e.seriesModels;t.length&&(L_(e),I_(t,(function(t,i){P_(t,e.boxOffsetList[i],e.boxWidthList[i])})))}))}function D_(e){var t=[],i=[];return e.eachSeriesByType("boxplot",(function(e){var n=e.getBaseAxis(),o=l.qh(i,n);o<0&&(o=i.length,i[o]=n,t[o]={axis:n,seriesModels:[]}),t[o].seriesModels.push(e)})),t}function L_(e){var t,i=e.axis,n=e.seriesModels,o=n.length,a=e.boxWidthList=[],r=e.boxOffsetList=[],s=[];if("category"===i.type)t=i.getBandWidth();else{var u=0;I_(n,(function(e){u=Math.max(u,e.getData().count())}));var c=i.getExtent();t=Math.abs(c[1]-c[0])/u}I_(n,(function(e){var i=e.get("boxWidth");l.cy(i)||(i=[i,i]),s.push([(0,v.lo)(i[0],t)||0,(0,v.lo)(i[1],t)||0])}));var d=.8*t-2,h=d/o*.3,p=(d-h*(o-1))/o,g=p/2-d/2;I_(n,(function(e,t){r.push(g),g+=h+p,a.push(Math.min(Math.max(p,s[t][0]),s[t][1]))}))}function P_(e,t,i){var n=e.coordinateSystem,o=e.getData(),a=i/2,r="horizontal"===e.get("layout")?0:1,s=1-r,l=["x","y"],u=o.mapDimension(l[r]),c=o.mapDimensionsAll(l[s]);if(!(null==u||c.length<5))for(var d=0;d<o.count();d++){var h=o.get(u,d),p=_(h,c[2],d),g=_(h,c[0],d),f=_(h,c[1],d),m=_(h,c[3],d),y=_(h,c[4],d),v=[];x(v,f,!1),x(v,m,!0),v.push(g,f,y,m),b(v,g),b(v,y),b(v,p),o.setItemLayout(d,{initBaseline:p[s],ends:v})}function _(e,i,a){var l,u=o.get(i,a),c=[];return c[r]=e,c[s]=u,isNaN(e)||isNaN(u)?l=[NaN,NaN]:(l=n.dataToPoint(c),l[r]+=t),l}function x(e,t,i){var n=t.slice(),o=t.slice();n[r]+=a,o[r]-=a,i?e.push(n,o):e.push(o,n)}function b(e,t){var i=t.slice(),n=t.slice();i[r]-=a,n[r]+=a,e.push(i,n)}}function F_(e,t){t=t||{};for(var i=[],n=[],o=t.boundIQR,a="none"===o||0===o,r=0;r<e.length;r++){var s=(0,v.Y6)(e[r].slice()),u=(0,v.YV)(s,.25),c=(0,v.YV)(s,.5),d=(0,v.YV)(s,.75),h=s[0],p=s[s.length-1],g=(null==o?1.5:o)*(d-u),f=a?h:Math.max(h,u-g),m=a?p:Math.min(p,d+g),y=t.itemNameFormatter,_=(0,l.Tn)(y)?y({value:r}):(0,l.Kg)(y)?y.replace("{value}",r+""):r+"";i.push([_,f,u,c,d,m]);for(var x=0;x<s.length;x++){var b=s[x];if(b<f||b>m){var w=[_,b];n.push(w)}}}return{boxData:i,outliers:n}}var N_=i(43256),R_={type:"echarts:boxplot",transform:function(e){var t=e.upstream;if(t.sourceFormat!==Vi.Km){var i="";0,(0,N_.$8)(i)}var n=F_(t.getRawData(),e.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:n.boxData},{data:n.outliers}]}};function V_(e){e.registerSeriesModel(x_),e.registerChartView(M_),e.registerLayout(T_),e.registerTransform(R_)}var E_=["color","borderColor"],O_=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return(0,_e.C6)(t,e),t.prototype.render=function(e,t,i){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(e),this._isLargeDraw?this._renderLarge(e):this._renderNormal(e)},t.prototype.incrementalPrepareRender=function(e,t,i){this._clear(),this._updateDrawMode(e)},t.prototype.incrementalRender=function(e,t,i,n){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(e,t):this._incrementalRenderNormal(e,t)},t.prototype.eachRendered=function(e){Gn.traverseElements(this._progressiveEls||this.group,e)},t.prototype._updateDrawMode=function(e){var t=e.pipelineContext.large;null!=this._isLargeDraw&&t===this._isLargeDraw||(this._isLargeDraw=t,this._clear())},t.prototype._renderNormal=function(e){var t=e.getData(),i=this._data,n=this.group,o=t.getLayout("isSimpleBox"),a=e.get("clip",!0),r=e.coordinateSystem,s=r.getArea&&r.getArea();this._data||n.removeAll(),t.diff(i).add((function(i){if(t.hasValue(i)){var r=t.getItemLayout(i);if(a&&W_(s,r))return;var l=B_(r,i,!0);m.LW(l,{shape:{points:r.ends}},e,i),H_(l,t,i,o),n.add(l),t.setItemGraphicEl(i,l)}})).update((function(r,l){var u=i.getItemGraphicEl(l);if(t.hasValue(r)){var c=t.getItemLayout(r);a&&W_(s,c)?n.remove(u):(u?(m.oi(u,{shape:{points:c.ends}},e,r),(0,m.ap)(u)):u=B_(c,r),H_(u,t,r,o),n.add(u),t.setItemGraphicEl(r,u))}else n.remove(u)})).remove((function(e){var t=i.getItemGraphicEl(e);t&&n.remove(t)})).execute(),this._data=t},t.prototype._renderLarge=function(e){this._clear(),U_(e,this.group);var t=e.get("clip",!0)?_o(e.coordinateSystem,!1,e):null;t?this.group.setClipPath(t):this.group.removeClipPath()},t.prototype._incrementalRenderNormal=function(e,t){var i,n=t.getData(),o=n.getLayout("isSimpleBox");while(null!=(i=e.next())){var a=n.getItemLayout(i),r=B_(a,i);H_(r,n,i,o),r.incremental=!0,this.group.add(r),this._progressiveEls.push(r)}},t.prototype._incrementalRenderLarge=function(e,t){U_(t,this.group,this._progressiveEls,!0)},t.prototype.remove=function(e){this._clear()},t.prototype._clear=function(){this.group.removeAll(),this._data=null},t.type="candlestick",t}(a.A),z_=function(){function e(){}return e}(),G_=function(e){function t(t){var i=e.call(this,t)||this;return i.type="normalCandlestickBox",i}return(0,_e.C6)(t,e),t.prototype.getDefaultShape=function(){return new z_},t.prototype.buildPath=function(e,t){var i=t.points;this.__simpleBox?(e.moveTo(i[4][0],i[4][1]),e.lineTo(i[6][0],i[6][1])):(e.moveTo(i[0][0],i[0][1]),e.lineTo(i[1][0],i[1][1]),e.lineTo(i[2][0],i[2][1]),e.lineTo(i[3][0],i[3][1]),e.closePath(),e.moveTo(i[4][0],i[4][1]),e.lineTo(i[5][0],i[5][1]),e.moveTo(i[6][0],i[6][1]),e.lineTo(i[7][0],i[7][1]))},t}(b.Ay);function B_(e,t,i){var n=e.ends;return new G_({shape:{points:i?X_(n,e):n},z2:100})}function W_(e,t){for(var i=!0,n=0;n<t.ends.length;n++)if(e.contain(t.ends[n][0],t.ends[n][1])){i=!1;break}return i}function H_(e,t,i,n){var o=t.getItemModel(i);e.useStyle(t.getItemVisual(i,"style")),e.style.strokeNoScale=!0,e.__simpleBox=n,(0,I.Mx)(e,o)}function X_(e,t){return l.Tj(e,(function(e){return e=e.slice(),e[1]=t.initBaseline,e}))}var $_=function(){function e(){}return e}(),j_=function(e){function t(t){var i=e.call(this,t)||this;return i.type="largeCandlestickBox",i}return(0,_e.C6)(t,e),t.prototype.getDefaultShape=function(){return new $_},t.prototype.buildPath=function(e,t){for(var i=t.points,n=0;n<i.length;)if(this.__sign===i[n++]){var o=i[n++];e.moveTo(o,i[n++]),e.lineTo(o,i[n++])}else n+=3},t}(b.Ay);function U_(e,t,i,n){var o=e.getData(),a=o.getLayout("largePoints"),r=new j_({shape:{points:a},__sign:1,ignoreCoarsePointer:!0});t.add(r);var s=new j_({shape:{points:a},__sign:-1,ignoreCoarsePointer:!0});t.add(s);var l=new j_({shape:{points:a},__sign:0,ignoreCoarsePointer:!0});t.add(l),Y_(1,r,e,o),Y_(-1,s,e,o),Y_(0,l,e,o),n&&(r.incremental=!0,s.incremental=!0),i&&i.push(r,s)}function Y_(e,t,i,n){var o=i.get(["itemStyle",e>0?"borderColor":"borderColor0"])||i.get(["itemStyle",e>0?"color":"color0"]);0===e&&(o=i.get(["itemStyle","borderColorDoji"]));var a=i.getModel("itemStyle").getItemStyle(E_);t.useStyle(a),t.style.fill=null,t.style.stroke=o}var Z_=O_,q_=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],i}return(0,_e.C6)(t,e),t.prototype.getShadowDim=function(){return"open"},t.prototype.brushSelector=function(e,t,i){var n=t.getItemLayout(e);return n&&i.rect(n.brushRect)},t.type="series.candlestick",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},t}(s.A);(0,l.co)(q_,v_,!0);var K_=q_;function Q_(e){e&&l.cy(e.series)&&l.__(e.series,(function(e){l.Gv(e)&&"k"===e.type&&(e.type="candlestick")}))}var J_=["itemStyle","borderColor"],ex=["itemStyle","borderColor0"],tx=["itemStyle","borderColorDoji"],ix=["itemStyle","color"],nx=["itemStyle","color0"],ox={seriesType:"candlestick",plan:(0,Bo.A)(),performRawSeries:!0,reset:function(e,t){function i(e,t){return t.get(e>0?ix:nx)}function n(e,t){return t.get(0===e?tx:e>0?J_:ex)}if(!t.isSeriesFiltered(e)){var o=e.pipelineContext.large;return!o&&{progress:function(e,t){var o;while(null!=(o=e.next())){var a=t.getItemModel(o),r=t.getItemLayout(o).sign,s=a.getItemStyle();s.fill=i(r,a),s.stroke=n(r,a)||s.fill;var u=t.ensureUniqueItemVisual(o,"style");(0,l.X$)(u,s)}}}}}},ax=ox,rx={seriesType:"candlestick",plan:(0,Bo.A)(),reset:function(e){var t=e.coordinateSystem,i=e.getData(),n=lx(e,i),o=0,a=1,r=["x","y"],s=i.getDimensionIndex(i.mapDimension(r[o])),u=(0,l.Tj)(i.mapDimensionsAll(r[a]),i.getDimensionIndex,i),c=u[0],d=u[1],h=u[2],p=u[3];if(i.setLayout({candleWidth:n,isSimpleBox:n<=1.3}),!(s<0||u.length<4))return{progress:e.pipelineContext.large?f:g};function g(e,i){var r,l=i.getStore();while(null!=(r=e.next())){var u=l.get(s,r),g=l.get(c,r),f=l.get(d,r),m=l.get(h,r),y=l.get(p,r),v=Math.min(g,f),_=Math.max(g,f),x=M(v,u),b=M(_,u),w=M(m,u),C=M(y,u),S=[];I(S,b,0),I(S,x,1),S.push(D(C),D(b),D(w),D(x));var A=i.getItemModel(r),k=!!A.get(["itemStyle","borderColorDoji"]);i.setItemLayout(r,{sign:sx(l,r,g,f,d,k),initBaseline:g>f?b[a]:x[a],ends:S,brushRect:T(m,y,u)})}function M(e,i){var n=[];return n[o]=i,n[a]=e,isNaN(i)||isNaN(e)?[NaN,NaN]:t.dataToPoint(n)}function I(e,t,i){var a=t.slice(),r=t.slice();a[o]=(0,Gn.subPixelOptimize)(a[o]+n/2,1,!1),r[o]=(0,Gn.subPixelOptimize)(r[o]-n/2,1,!0),i?e.push(a,r):e.push(r,a)}function T(e,t,i){var r=M(e,i),s=M(t,i);return r[o]-=n/2,s[o]-=n/2,{x:r[0],y:r[1],width:a?n:s[0]-r[0],height:a?s[1]-r[1]:n}}function D(e){return e[o]=(0,Gn.subPixelOptimize)(e[o],1),e}}function f(i,n){var r,l,u=io(4*i.count),g=0,f=[],m=[],y=n.getStore(),v=!!e.get(["itemStyle","borderColorDoji"]);while(null!=(l=i.next())){var _=y.get(s,l),x=y.get(c,l),b=y.get(d,l),w=y.get(h,l),C=y.get(p,l);isNaN(_)||isNaN(w)||isNaN(C)?(u[g++]=NaN,g+=3):(u[g++]=sx(y,l,x,b,d,v),f[o]=_,f[a]=w,r=t.dataToPoint(f,null,m),u[g++]=r?r[0]:NaN,u[g++]=r?r[1]:NaN,f[a]=C,r=t.dataToPoint(f,null,m),u[g++]=r?r[1]:NaN)}n.setLayout("largePoints",u)}}};function sx(e,t,i,n,o,a){var r;return r=i>n?-1:i<n?1:a?0:t>0?e.get(o,t-1)<=n?1:-1:1,r}function lx(e,t){var i,n=e.getBaseAxis(),o="category"===n.type?n.getBandWidth():(i=n.getExtent(),Math.abs(i[1]-i[0])/t.count()),a=(0,v.lo)((0,l.bZ)(e.get("barMaxWidth"),o),o),r=(0,v.lo)((0,l.bZ)(e.get("barMinWidth"),1),o),s=e.get("barWidth");return null!=s?(0,v.lo)(s,o):Math.max(Math.min(o/2,a),r)}var ux=rx;function cx(e){e.registerChartView(Z_),e.registerSeriesModel(K_),e.registerPreprocessor(Q_),e.registerVisual(ax),e.registerLayout(ux)}function dx(e,t){var i=t.rippleEffectColor||t.color;e.eachChild((function(e){e.attr({z:t.z,zlevel:t.zlevel,style:{stroke:"stroke"===t.brushType?i:null,fill:"fill"===t.brushType?i:null}})}))}var hx=function(e){function t(t,i){var n=e.call(this)||this,o=new $n(t,i),a=new En.A;return n.add(o),n.add(a),n.updateData(t,i),n}return(0,_e.C6)(t,e),t.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},t.prototype.startEffectAnimation=function(e){for(var t=e.symbolType,i=e.color,n=e.rippleNumber,o=this.childAt(1),a=0;a<n;a++){var r=(0,Vn.v5)(t,-1,-1,2,2,i);r.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var s=-a/n*e.period+e.effectOffset;r.animate("",!0).when(e.period,{scaleX:e.rippleScale/2,scaleY:e.rippleScale/2}).delay(s).start(),r.animateStyle(!0).when(e.period,{opacity:0}).delay(s).start(),o.add(r)}dx(o,e)},t.prototype.updateEffectAnimation=function(e){for(var t=this._effectCfg,i=this.childAt(1),n=["symbolType","period","rippleScale","rippleNumber"],o=0;o<n.length;o++){var a=n[o];if(t[a]!==e[a])return this.stopEffectAnimation(),void this.startEffectAnimation(e)}dx(i,e)},t.prototype.highlight=function(){(0,I.HY)(this)},t.prototype.downplay=function(){(0,I.SD)(this)},t.prototype.getSymbolType=function(){var e=this.childAt(0);return e&&e.getSymbolType()},t.prototype.updateData=function(e,t){var i=this,n=e.hostModel;this.childAt(0).updateData(e,t);var o=this.childAt(1),a=e.getItemModel(t),r=e.getItemVisual(t,"symbol"),s=(0,Vn.xU)(e.getItemVisual(t,"symbolSize")),l=e.getItemVisual(t,"style"),u=l&&l.fill,c=a.getModel("emphasis");o.setScale(s),o.traverse((function(e){e.setStyle("fill",u)}));var d=(0,Vn.hV)(e.getItemVisual(t,"symbolOffset"),s);d&&(o.x=d[0],o.y=d[1]);var h=e.getItemVisual(t,"symbolRotate");o.rotation=(h||0)*Math.PI/180||0;var p={};p.showEffectOn=n.get("showEffectOn"),p.rippleScale=a.get(["rippleEffect","scale"]),p.brushType=a.get(["rippleEffect","brushType"]),p.period=1e3*a.get(["rippleEffect","period"]),p.effectOffset=t/e.count(),p.z=n.getShallow("z")||0,p.zlevel=n.getShallow("zlevel")||0,p.symbolType=r,p.color=u,p.rippleEffectColor=a.get(["rippleEffect","color"]),p.rippleNumber=a.get(["rippleEffect","number"]),"render"===p.showEffectOn?(this._effectCfg?this.updateEffectAnimation(p):this.startEffectAnimation(p),this._effectCfg=p):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(e){"emphasis"===e?"render"!==p.showEffectOn&&i.startEffectAnimation(p):"normal"===e&&"render"!==p.showEffectOn&&i.stopEffectAnimation()}),this._effectCfg=p,(0,I.Lm)(this,c.get("focus"),c.get("blurScope"),c.get("disabled"))},t.prototype.fadeOut=function(e){e&&e()},t}(En.A),px=hx,gx=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return(0,_e.C6)(t,e),t.prototype.init=function(){this._symbolDraw=new qn(px)},t.prototype.render=function(e,t,i){var n=e.getData(),o=this._symbolDraw;o.updateData(n,{clipShape:this._getClipShape(e)}),this.group.add(o.group)},t.prototype._getClipShape=function(e){var t=e.coordinateSystem,i=t&&t.getArea&&t.getArea();return e.get("clip",!0)?i:null},t.prototype.updateTransform=function(e,t,i){var n=e.getData();this.group.dirty();var o=Wo("").reset(e,t,i);o.progress&&o.progress({start:0,end:n.count(),count:n.count()},n),this._symbolDraw.updateLayout()},t.prototype._updateGroupTransform=function(e){var t=e.coordinateSystem;t&&t.getRoamTransform&&(this.group.transform=k.o8(t.getRoamTransform()),this.group.decomposeTransform())},t.prototype.remove=function(e,t){this._symbolDraw&&this._symbolDraw.remove(!0)},t.type="effectScatter",t}(a.A),fx=gx,mx=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i.hasSymbolVisual=!0,i}return(0,_e.C6)(t,e),t.prototype.getInitialData=function(e,t){return Rn(null,this,{useEncodeDefaulter:!0})},t.prototype.brushSelector=function(e,t,i){return i.point(t.getItemLayout(e))},t.type="series.effectScatter",t.dependencies=["grid","polar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},t}(s.A),yx=mx;function vx(e){e.registerChartView(fx),e.registerSeriesModel(yx),e.registerLayout(Wo("effectScatter"))}var _x=function(e){function t(t,i,n){var o=e.call(this)||this;return o.add(o.createLine(t,i,n)),o._updateEffectSymbol(t,i),o}return(0,_e.C6)(t,e),t.prototype.createLine=function(e,t,i){return new Ef(e,t,i)},t.prototype._updateEffectSymbol=function(e,t){var i=e.getItemModel(t),n=i.getModel("effect"),o=n.get("symbolSize"),a=n.get("symbol");l.cy(o)||(o=[o,o]);var r=e.getItemVisual(t,"style"),s=n.get("color")||r&&r.stroke,u=this.childAt(1);this._symbolType!==a&&(this.remove(u),u=(0,Vn.v5)(a,-.5,-.5,1,1,s),u.z2=100,u.culling=!0,this.add(u)),u&&(u.setStyle("shadowColor",s),u.setStyle(n.getItemStyle(["color"])),u.scaleX=o[0],u.scaleY=o[1],u.setColor(s),this._symbolType=a,this._symbolScale=o,this._updateEffectAnimation(e,n,t))},t.prototype._updateEffectAnimation=function(e,t,i){var n=this.childAt(1);if(n){var o=e.getItemLayout(i),a=1e3*t.get("period"),r=t.get("loop"),s=t.get("roundTrip"),u=t.get("constantSpeed"),c=l.Je(t.get("delay"),(function(t){return t/e.count()*a/3}));if(n.ignore=!0,this._updateAnimationPoints(n,o),u>0&&(a=this._getLineLength(n)/u*1e3),a!==this._period||r!==this._loop||s!==this._roundTrip){n.stopAnimation();var d=void 0;d=l.Tn(c)?c(i):c,n.__t>0&&(d=-a*n.__t),this._animateSymbol(n,a,d,r,s)}this._period=a,this._loop=r,this._roundTrip=s}},t.prototype._animateSymbol=function(e,t,i,n,o){if(t>0){e.__t=0;var a=this,r=e.animate("",n).when(o?2*t:t,{__t:o?2:1}).delay(i).during((function(){a._updateSymbolPosition(e)}));n||r.done((function(){a.remove(e)})),r.start()}},t.prototype._getLineLength=function(e){return M.xg(e.__p1,e.__cp1)+M.xg(e.__cp1,e.__p2)},t.prototype._updateAnimationPoints=function(e,t){e.__p1=t[0],e.__p2=t[1],e.__cp1=t[2]||[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]},t.prototype.updateData=function(e,t,i){this.childAt(0).updateData(e,t,i),this._updateEffectSymbol(e,t)},t.prototype._updateSymbolPosition=function(e){var t=e.__p1,i=e.__p2,n=e.__cp1,o=e.__t<1?e.__t:2-e.__t,a=[e.x,e.y],r=a.slice(),s=A.k3,l=A.z7;a[0]=s(t[0],n[0],i[0],o),a[1]=s(t[1],n[1],i[1],o);var u=e.__t<1?l(t[0],n[0],i[0],o):l(i[0],n[0],t[0],1-o),c=e.__t<1?l(t[1],n[1],i[1],o):l(i[1],n[1],t[1],1-o);e.rotation=-Math.atan2(c,u)-Math.PI/2,"line"!==this._symbolType&&"rect"!==this._symbolType&&"roundRect"!==this._symbolType||(void 0!==e.__lastT&&e.__lastT<e.__t?(e.scaleY=1.05*M.xg(r,a),1===o&&(a[0]=r[0]+(a[0]-r[0])/2,a[1]=r[1]+(a[1]-r[1])/2)):1===e.__lastT?e.scaleY=2*M.xg(t,a):e.scaleY=this._symbolScale[1]),e.__lastT=e.__t,e.ignore=!1,e.x=a[0],e.y=a[1]},t.prototype.updateLayout=function(e,t){this.childAt(0).updateLayout(e,t);var i=e.getItemModel(t).getModel("effect");this._updateEffectAnimation(e,i,t)},t}(En.A),xx=_x,bx=function(e){function t(t,i,n){var o=e.call(this)||this;return o._createPolyline(t,i,n),o}return(0,_e.C6)(t,e),t.prototype._createPolyline=function(e,t,i){var n=e.getItemLayout(t),o=new w.A({shape:{points:n}});this.add(o),this._updateCommonStl(e,t,i)},t.prototype.updateData=function(e,t,i){var n=e.hostModel,o=this.childAt(0),a={shape:{points:e.getItemLayout(t)}};m.oi(o,a,n,t),this._updateCommonStl(e,t,i)},t.prototype._updateCommonStl=function(e,t,i){var n=this.childAt(0),o=e.getItemModel(t),a=i&&i.emphasisLineStyle,r=i&&i.focus,s=i&&i.blurScope,l=i&&i.emphasisDisabled;if(!i||e.hasItemOption){var u=o.getModel("emphasis");a=u.getModel("lineStyle").getLineStyle(),l=u.get("disabled"),r=u.get("focus"),s=u.get("blurScope")}n.useStyle(e.getItemVisual(t,"style")),n.style.fill=null,n.style.strokeNoScale=!0;var c=n.ensureState("emphasis");c.style=a,(0,I.Lm)(this,r,s,l)},t.prototype.updateLayout=function(e,t){var i=this.childAt(0);i.setShape("points",e.getItemLayout(t))},t}(En.A),wx=bx,Cx=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._lastFrame=0,t._lastFramePercent=0,t}return(0,_e.C6)(t,e),t.prototype.createLine=function(e,t,i){return new wx(e,t,i)},t.prototype._updateAnimationPoints=function(e,t){this._points=t;for(var i=[0],n=0,o=1;o<t.length;o++){var a=t[o-1],r=t[o];n+=M.xg(a,r),i.push(n)}if(0!==n){for(o=0;o<i.length;o++)i[o]/=n;this._offsets=i,this._length=n}else this._length=0},t.prototype._getLineLength=function(){return this._length},t.prototype._updateSymbolPosition=function(e){var t=e.__t<1?e.__t:2-e.__t,i=this._points,n=this._offsets,o=i.length;if(n){var a,r=this._lastFrame;if(t<this._lastFramePercent){var s=Math.min(r+1,o-1);for(a=s;a>=0;a--)if(n[a]<=t)break;a=Math.min(a,o-2)}else{for(a=r;a<o;a++)if(n[a]>t)break;a=Math.min(a-1,o-2)}var l=(t-n[a])/(n[a+1]-n[a]),u=i[a],c=i[a+1];e.x=u[0]*(1-l)+l*c[0],e.y=u[1]*(1-l)+l*c[1];var d=e.__t<1?c[0]-u[0]:u[0]-c[0],h=e.__t<1?c[1]-u[1]:u[1]-c[1];e.rotation=-Math.atan2(h,d)-Math.PI/2,this._lastFrame=a,this._lastFramePercent=t,e.ignore=!1}},t}(xx),Sx=Cx,Ax=i(18710),kx=i(93684),Mx=function(){function e(){this.polyline=!1,this.curveness=0,this.segs=[]}return e}(),Ix=function(e){function t(t){var i=e.call(this,t)||this;return i._off=0,i.hoverDataIdx=-1,i}return(0,_e.C6)(t,e),t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new Mx},t.prototype.buildPath=function(e,t){var i,n=t.segs,o=t.curveness;if(t.polyline)for(i=this._off;i<n.length;){var a=n[i++];if(a>0){e.moveTo(n[i++],n[i++]);for(var r=1;r<a;r++)e.lineTo(n[i++],n[i++])}}else for(i=this._off;i<n.length;){var s=n[i++],l=n[i++],u=n[i++],c=n[i++];if(e.moveTo(s,l),o>0){var d=(s+u)/2-(l-c)*o,h=(l+c)/2-(u-s)*o;e.quadraticCurveTo(d,h,u,c)}else e.lineTo(u,c)}this.incremental&&(this._off=i,this.notClear=!0)},t.prototype.findDataIndex=function(e,t){var i=this.shape,n=i.segs,o=i.curveness,a=this.style.lineWidth;if(i.polyline)for(var r=0,s=0;s<n.length;){var l=n[s++];if(l>0)for(var u=n[s++],c=n[s++],d=1;d<l;d++){var h=n[s++],p=n[s++];if(Ax.l(u,c,h,p,a,e,t))return r}r++}else for(r=0,s=0;s<n.length;){u=n[s++],c=n[s++],h=n[s++],p=n[s++];if(o>0){var g=(u+h)/2-(c-p)*o,f=(c+p)/2-(h-u)*o;if(kx.l(u,c,g,f,h,p,a,e,t))return r}else if(Ax.l(u,c,h,p,a,e,t))return r;r++}return-1},t.prototype.contain=function(e,t){var i=this.transformCoordToLocal(e,t),n=this.getBoundingRect();if(e=i[0],t=i[1],n.contain(e,t)){var o=this.hoverDataIdx=this.findDataIndex(e,t);return o>=0}return this.hoverDataIdx=-1,!1},t.prototype.getBoundingRect=function(){var e=this._rect;if(!e){for(var t=this.shape,i=t.segs,n=1/0,o=1/0,a=-1/0,r=-1/0,s=0;s<i.length;){var l=i[s++],u=i[s++];n=Math.min(l,n),a=Math.max(l,a),o=Math.min(u,o),r=Math.max(u,r)}e=this._rect=new f.A(n,o,a,r)}return e},t}(b.Ay),Tx=function(){function e(){this.group=new En.A}return e.prototype.updateData=function(e){this._clear();var t=this._create();t.setShape({segs:e.getLayout("linesPoints")}),this._setCommon(t,e)},e.prototype.incrementalPrepareUpdate=function(e){this.group.removeAll(),this._clear()},e.prototype.incrementalUpdate=function(e,t){var i=this._newAdded[0],n=t.getLayout("linesPoints"),o=i&&i.shape.segs;if(o&&o.length<2e4){var a=o.length,r=new Float32Array(a+n.length);r.set(o),r.set(n,a),i.setShape({segs:r})}else{this._newAdded=[];var s=this._create();s.incremental=!0,s.setShape({segs:n}),this._setCommon(s,t),s.__startIndex=e.start}},e.prototype.remove=function(){this._clear()},e.prototype.eachRendered=function(e){this._newAdded[0]&&e(this._newAdded[0])},e.prototype._create=function(){var e=new Ix({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(e),this.group.add(e),e},e.prototype._setCommon=function(e,t,i){var n=t.hostModel;e.setShape({polyline:n.get("polyline"),curveness:n.get(["lineStyle","curveness"])}),e.useStyle(n.getModel("lineStyle").getLineStyle()),e.style.strokeNoScale=!0;var o=t.getVisual("style");o&&o.stroke&&e.setStyle("stroke",o.stroke),e.setStyle("fill",null);var a=(0,y.z)(e);a.seriesIndex=n.seriesIndex,e.on("mousemove",(function(t){a.dataIndex=null;var i=e.hoverDataIdx;i>0&&(a.dataIndex=i+e.__startIndex)}))},e.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},e}(),Dx=Tx,Lx={seriesType:"lines",plan:(0,Bo.A)(),reset:function(e){var t=e.coordinateSystem;if(t){var i=e.get("polyline"),n=e.pipelineContext.large;return{progress:function(o,a){var r=[];if(n){var s=void 0,l=o.end-o.start;if(i){for(var u=0,c=o.start;c<o.end;c++)u+=e.getLineCoordsCount(c);s=new Float32Array(l+2*u)}else s=new Float32Array(4*l);var d=0,h=[];for(c=o.start;c<o.end;c++){var p=e.getLineCoords(c,r);i&&(s[d++]=p);for(var g=0;g<p;g++)h=t.dataToPoint(r[g],!1,h),s[d++]=h[0],s[d++]=h[1]}a.setLayout("linesPoints",s)}else for(c=o.start;c<o.end;c++){var f=a.getItemModel(c),m=(p=e.getLineCoords(c,r),[]);if(i)for(var y=0;y<p;y++)m.push(t.dataToPoint(r[y]));else{m[0]=t.dataToPoint(r[0]),m[1]=t.dataToPoint(r[1]);var v=f.get(["lineStyle","curveness"]);+v&&(m[2]=[(m[0][0]+m[1][0])/2-(m[0][1]-m[1][1])*v,(m[0][1]+m[1][1])/2-(m[1][0]-m[0][0])*v])}a.setItemLayout(c,m)}}}}}},Px=Lx,Fx=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return(0,_e.C6)(t,e),t.prototype.render=function(e,t,i){var n=e.getData(),o=this._updateLineDraw(n,e),a=e.get("zlevel"),r=e.get(["effect","trailLength"]),s=i.getZr(),l="svg"===s.painter.getType();l||s.painter.getLayer(a).clear(!0),null==this._lastZlevel||l||s.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(e)&&r>0&&(l||s.configLayer(a,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(r/10+.9,1),0)})),o.updateData(n);var u=e.get("clip",!0)&&_o(e.coordinateSystem,!1,e);u?this.group.setClipPath(u):this.group.removeClipPath(),this._lastZlevel=a,this._finished=!0},t.prototype.incrementalPrepareRender=function(e,t,i){var n=e.getData(),o=this._updateLineDraw(n,e);o.incrementalPrepareUpdate(n),this._clearLayer(i),this._finished=!1},t.prototype.incrementalRender=function(e,t,i){this._lineDraw.incrementalUpdate(e,t.getData()),this._finished=e.end===t.getData().count()},t.prototype.eachRendered=function(e){this._lineDraw&&this._lineDraw.eachRendered(e)},t.prototype.updateTransform=function(e,t,i){var n=e.getData(),o=e.pipelineContext;if(!this._finished||o.large||o.progressiveRender)return{update:!0};var a=Px.reset(e,t,i);a.progress&&a.progress({start:0,end:n.count(),count:n.count()},n),this._lineDraw.updateLayout(),this._clearLayer(i)},t.prototype._updateLineDraw=function(e,t){var i=this._lineDraw,n=this._showEffect(t),o=!!t.get("polyline"),a=t.pipelineContext,r=a.large;return i&&n===this._hasEffet&&o===this._isPolyline&&r===this._isLargeDraw||(i&&i.remove(),i=this._lineDraw=r?new Dx:new Hf(o?n?Sx:wx:n?xx:Ef),this._hasEffet=n,this._isPolyline=o,this._isLargeDraw=r),this.group.add(i.group),i},t.prototype._showEffect=function(e){return!!e.get(["effect","show"])},t.prototype._clearLayer=function(e){var t=e.getZr(),i="svg"===t.painter.getType();i||null==this._lastZlevel||t.painter.getLayer(this._lastZlevel).clear(!0)},t.prototype.remove=function(e,t){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(t)},t.prototype.dispose=function(e,t){this.remove(e,t)},t.type="lines",t}(a.A),Nx=Fx,Rx="undefined"===typeof Uint32Array?Array:Uint32Array,Vx="undefined"===typeof Float64Array?Array:Float64Array;function Ex(e){var t=e.data;t&&t[0]&&t[0][0]&&t[0][0].coord&&(e.data=(0,l.Tj)(t,(function(e){var t=[e[0].coord,e[1].coord],i={coords:t};return e[0].name&&(i.fromName=e[0].name),e[1].name&&(i.toName=e[1].name),(0,l.Um)([i,e[0],e[1]])})))}var Ox=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i.visualStyleAccessPath="lineStyle",i.visualDrawType="stroke",i}return(0,_e.C6)(t,e),t.prototype.init=function(t){t.data=t.data||[],Ex(t);var i=this._processFlatCoordsArray(t.data);this._flatCoords=i.flatCoords,this._flatCoordsOffset=i.flatCoordsOffset,i.flatCoords&&(t.data=new Float32Array(i.count)),e.prototype.init.apply(this,arguments)},t.prototype.mergeOption=function(t){if(Ex(t),t.data){var i=this._processFlatCoordsArray(t.data);this._flatCoords=i.flatCoords,this._flatCoordsOffset=i.flatCoordsOffset,i.flatCoords&&(t.data=new Float32Array(i.count))}e.prototype.mergeOption.apply(this,arguments)},t.prototype.appendData=function(e){var t=this._processFlatCoordsArray(e.data);t.flatCoords&&(this._flatCoords?(this._flatCoords=(0,l.yB)(this._flatCoords,t.flatCoords),this._flatCoordsOffset=(0,l.yB)(this._flatCoordsOffset,t.flatCoordsOffset)):(this._flatCoords=t.flatCoords,this._flatCoordsOffset=t.flatCoordsOffset),e.data=new Float32Array(t.count)),this.getRawData().appendData(e.data)},t.prototype._getCoordsFromItemModel=function(e){var t=this.getData().getItemModel(e),i=t.option instanceof Array?t.option:t.getShallow("coords");return i},t.prototype.getLineCoordsCount=function(e){return this._flatCoordsOffset?this._flatCoordsOffset[2*e+1]:this._getCoordsFromItemModel(e).length},t.prototype.getLineCoords=function(e,t){if(this._flatCoordsOffset){for(var i=this._flatCoordsOffset[2*e],n=this._flatCoordsOffset[2*e+1],o=0;o<n;o++)t[o]=t[o]||[],t[o][0]=this._flatCoords[i+2*o],t[o][1]=this._flatCoords[i+2*o+1];return n}var a=this._getCoordsFromItemModel(e);for(o=0;o<a.length;o++)t[o]=t[o]||[],t[o][0]=a[o][0],t[o][1]=a[o][1];return a.length},t.prototype._processFlatCoordsArray=function(e){var t=0;if(this._flatCoords&&(t=this._flatCoords.length),(0,l.Et)(e[0])){for(var i=e.length,n=new Rx(i),o=new Vx(i),a=0,r=0,s=0,u=0;u<i;){s++;var c=e[u++];n[r++]=a+t,n[r++]=c;for(var d=0;d<c;d++){var h=e[u++],p=e[u++];o[a++]=h,o[a++]=p}}return{flatCoordsOffset:new Uint32Array(n.buffer,0,r),flatCoords:o,count:s}}return{flatCoordsOffset:null,flatCoords:null,count:e.length}},t.prototype.getInitialData=function(e,t){var i=new fn(["value"],this);return i.hasItemOption=!1,i.initData(e.data,[],(function(e,t,n,o){if(e instanceof Array)return NaN;i.hasItemOption=!0;var a=e.value;return null!=a?a instanceof Array?a[o]:a:void 0})),i},t.prototype.formatTooltip=function(e,t,i){var n=this.getData(),o=n.getItemModel(e),a=o.get("name");if(a)return a;var r=o.get("fromName"),s=o.get("toName"),l=[];return null!=r&&l.push(r),null!=s&&l.push(s),(0,Du.Qx)("nameValue",{name:l.join(" > ")})},t.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},t.prototype.getProgressive=function(){var e=this.option.progressive;return null==e?this.option.large?1e4:this.get("progressive"):e},t.prototype.getProgressiveThreshold=function(){var e=this.option.progressiveThreshold;return null==e?this.option.large?2e4:this.get("progressiveThreshold"):e},t.prototype.getZLevelKey=function(){var e=this.getModel("effect"),t=e.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:e.get("show")&&t>0?t+"":""},t.type="series.lines",t.dependencies=["grid","polar","geo","calendar"],t.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},t}(s.A),zx=Ox;function Gx(e){return e instanceof Array||(e=[e,e]),e}var Bx={seriesType:"lines",reset:function(e){var t=Gx(e.get("symbol")),i=Gx(e.get("symbolSize")),n=e.getData();function o(e,t){var i=e.getItemModel(t),n=Gx(i.getShallow("symbol",!0)),o=Gx(i.getShallow("symbolSize",!0));n[0]&&e.setItemVisual(t,"fromSymbol",n[0]),n[1]&&e.setItemVisual(t,"toSymbol",n[1]),o[0]&&e.setItemVisual(t,"fromSymbolSize",o[0]),o[1]&&e.setItemVisual(t,"toSymbolSize",o[1])}return n.setVisual("fromSymbol",t&&t[0]),n.setVisual("toSymbol",t&&t[1]),n.setVisual("fromSymbolSize",i&&i[0]),n.setVisual("toSymbolSize",i&&i[1]),{dataEach:n.hasItemOption?o:null}}},Wx=Bx;function Hx(e){e.registerChartView(Nx),e.registerSeriesModel(zx),e.registerLayout(Px),e.registerVisual(Wx)}var Xx=256,$x=function(){function e(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var e=Se.yh.createCanvas();this.canvas=e}return e.prototype.update=function(e,t,i,n,o,a){var r=this._getBrush(),s=this._getGradient(o,"inRange"),l=this._getGradient(o,"outOfRange"),u=this.pointSize+this.blurSize,c=this.canvas,d=c.getContext("2d"),h=e.length;c.width=t,c.height=i;for(var p=0;p<h;++p){var g=e[p],f=g[0],m=g[1],y=g[2],v=n(y);d.globalAlpha=v,d.drawImage(r,f-u,m-u)}if(!c.width||!c.height)return c;var _=d.getImageData(0,0,c.width,c.height),x=_.data,b=0,w=x.length,C=this.minOpacity,S=this.maxOpacity,A=S-C;while(b<w){v=x[b+3]/256;var k=4*Math.floor(v*(Xx-1));if(v>0){var M=a(v)?s:l;v>0&&(v=v*A+C),x[b++]=M[k],x[b++]=M[k+1],x[b++]=M[k+2],x[b++]=M[k+3]*v*256}else b+=4}return d.putImageData(_,0,0),c},e.prototype._getBrush=function(){var e=this._brushCanvas||(this._brushCanvas=Se.yh.createCanvas()),t=this.pointSize+this.blurSize,i=2*t;e.width=i,e.height=i;var n=e.getContext("2d");return n.clearRect(0,0,i,i),n.shadowOffsetX=i,n.shadowBlur=this.blurSize,n.shadowColor="#000",n.beginPath(),n.arc(-t,t,this.pointSize,0,2*Math.PI,!0),n.closePath(),n.fill(),e},e.prototype._getGradient=function(e,t){for(var i=this._gradientPixels,n=i[t]||(i[t]=new Uint8ClampedArray(1024)),o=[0,0,0,0],a=0,r=0;r<256;r++)e[t](r/255,!0,o),n[a++]=o[0],n[a++]=o[1],n[a++]=o[2],n[a++]=o[3];return n},e}(),jx=$x;function Ux(e,t,i){var n=e[1]-e[0];t=l.Tj(t,(function(t){return{interval:[(t.interval[0]-e[0])/n,(t.interval[1]-e[0])/n]}}));var o=t.length,a=0;return function(e){var n;for(n=a;n<o;n++){var r=t[n].interval;if(r[0]<=e&&e<=r[1]){a=n;break}}if(n===o)for(n=a-1;n>=0;n--){r=t[n].interval;if(r[0]<=e&&e<=r[1]){a=n;break}}return n>=0&&n<o&&i[n]}}function Yx(e,t){var i=e[1]-e[0];return t=[(t[0]-e[0])/i,(t[1]-e[0])/i],function(e){return e>=t[0]&&e<=t[1]}}function Zx(e){var t=e.dimensions;return"lng"===t[0]&&"lat"===t[1]}var qx=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return(0,_e.C6)(t,e),t.prototype.render=function(e,t,i){var n;t.eachComponent("visualMap",(function(t){t.eachTargetSeries((function(i){i===e&&(n=t)}))})),this._progressiveEls=null,this.group.removeAll();var o=e.coordinateSystem;"cartesian2d"===o.type||"calendar"===o.type?this._renderOnCartesianAndCalendar(e,i,0,e.getData().count()):Zx(o)&&this._renderOnGeo(o,e,n,i)},t.prototype.incrementalPrepareRender=function(e,t,i){this.group.removeAll()},t.prototype.incrementalRender=function(e,t,i,n){var o=t.coordinateSystem;o&&(Zx(o)?this.render(t,i,n):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(t,n,e.start,e.end,!0)))},t.prototype.eachRendered=function(e){Gn.traverseElements(this._progressiveEls||this.group,e)},t.prototype._renderOnCartesianAndCalendar=function(e,t,i,n,o){var a,r,s,l,u=e.coordinateSystem,c=xo(u,"cartesian2d");if(c){var d=u.getAxis("x"),h=u.getAxis("y");0,a=d.getBandWidth()+.5,r=h.getBandWidth()+.5,s=d.scale.getExtent(),l=h.scale.getExtent()}for(var p=this.group,g=e.getData(),f=e.getModel(["emphasis","itemStyle"]).getItemStyle(),m=e.getModel(["blur","itemStyle"]).getItemStyle(),y=e.getModel(["select","itemStyle"]).getItemStyle(),v=e.get(["itemStyle","borderRadius"]),_=(0,ae.lx)(e),x=e.getModel("emphasis"),b=x.get("focus"),w=x.get("blurScope"),C=x.get("disabled"),S=c?[g.mapDimension("x"),g.mapDimension("y"),g.mapDimension("value")]:[g.mapDimension("time"),g.mapDimension("value")],A=i;A<n;A++){var k=void 0,M=g.getItemVisual(A,"style");if(c){var T=g.get(S[0],A),D=g.get(S[1],A);if(isNaN(g.get(S[2],A))||isNaN(T)||isNaN(D)||T<s[0]||T>s[1]||D<l[0]||D>l[1])continue;var L=u.dataToPoint([T,D]);k=new fo.A({shape:{x:L[0]-a/2,y:L[1]-r/2,width:a,height:r},style:M})}else{if(isNaN(g.get(S[1],A)))continue;k=new fo.A({z2:1,shape:u.dataToRect([g.get(S[0],A)]).contentShape,style:M})}if(g.hasItemOption){var P=g.getItemModel(A),F=P.getModel("emphasis");f=F.getModel("itemStyle").getItemStyle(),m=P.getModel(["blur","itemStyle"]).getItemStyle(),y=P.getModel(["select","itemStyle"]).getItemStyle(),v=P.get(["itemStyle","borderRadius"]),b=F.get("focus"),w=F.get("blurScope"),C=F.get("disabled"),_=(0,ae.lx)(P)}k.shape.r=v;var N=e.getRawValue(A),R="-";N&&null!=N[2]&&(R=N[2]+""),(0,ae.qM)(k,_,{labelFetcher:e,labelDataIndex:A,defaultOpacity:M.opacity,defaultText:R}),k.ensureState("emphasis").style=f,k.ensureState("blur").style=m,k.ensureState("select").style=y,(0,I.Lm)(k,b,w,C),k.incremental=o,o&&(k.states.emphasis.hoverLayer=!0),p.add(k),g.setItemGraphicEl(A,k),this._progressiveEls&&this._progressiveEls.push(k)}},t.prototype._renderOnGeo=function(e,t,i,n){var o=i.targetVisuals.inRange,a=i.targetVisuals.outOfRange,r=t.getData(),s=this._hmLayer||this._hmLayer||new jx;s.blurSize=t.get("blurSize"),s.pointSize=t.get("pointSize"),s.minOpacity=t.get("minOpacity"),s.maxOpacity=t.get("maxOpacity");var l=e.getViewRect().clone(),u=e.getRoamTransform();l.applyTransform(u);var c=Math.max(l.x,0),d=Math.max(l.y,0),h=Math.min(l.width+l.x,n.getWidth()),p=Math.min(l.height+l.y,n.getHeight()),g=h-c,f=p-d,m=[r.mapDimension("lng"),r.mapDimension("lat"),r.mapDimension("value")],y=r.mapArray(m,(function(t,i,n){var o=e.dataToPoint([t,i]);return o[0]-=c,o[1]-=d,o.push(n),o})),v=i.getExtent(),_="visualMap.continuous"===i.type?Yx(v,i.option.range):Ux(v,i.getPieceList(),i.option.selected);s.update(y,g,f,o.color.getNormalizer(),{inRange:o.color.getColorMapper(),outOfRange:a.color.getColorMapper()},_);var x=new Ge.Ay({style:{width:g,height:f,x:c,y:d,image:s.canvas},silent:!0});this.group.add(x)},t.type="heatmap",t}(a.A),Kx=qx,Qx=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return(0,_e.C6)(t,e),t.prototype.getInitialData=function(e,t){return Rn(null,this,{generateCoord:"value"})},t.prototype.preventIncremental=function(){var e=bn.A.get(this.get("coordinateSystem"));if(e&&e.dimensions)return"lng"===e.dimensions[0]&&"lat"===e.dimensions[1]},t.type="series.heatmap",t.dependencies=["grid","geo","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},t}(s.A),Jx=Qx;function eb(e){e.registerChartView(Kx),e.registerSeriesModel(Jx)}var tb=["itemStyle","borderWidth"],ib=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],nb=new Eu.A,ob=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return(0,_e.C6)(t,e),t.prototype.render=function(e,t,i){var n=this.group,o=e.getData(),a=this._data,r=e.coordinateSystem,s=r.getBaseAxis(),l=s.isHorizontal(),u=r.master.getRect(),c={ecSize:{width:i.getWidth(),height:i.getHeight()},seriesModel:e,coordSys:r,coordSysExtent:[[u.x,u.x+u.width],[u.y,u.y+u.height]],isHorizontal:l,valueDim:ib[+l],categoryDim:ib[1-+l]};o.diff(a).add((function(e){if(o.hasValue(e)){var t=mb(o,e),i=ab(o,e,t,c),a=_b(o,c,i);o.setItemGraphicEl(e,a),n.add(a),Ab(a,c,i)}})).update((function(e,t){var i=a.getItemGraphicEl(t);if(o.hasValue(e)){var r=mb(o,e),s=ab(o,e,r,c),l=wb(o,s);i&&l!==i.__pictorialShapeStr&&(n.remove(i),o.setItemGraphicEl(e,null),i=null),i?xb(i,c,s):i=_b(o,c,s,!0),o.setItemGraphicEl(e,i),i.__pictorialSymbolMeta=s,n.add(i),Ab(i,c,s)}else n.remove(i)})).remove((function(e){var t=a.getItemGraphicEl(e);t&&bb(a,e,t.__pictorialSymbolMeta.animationModel,t)})).execute();var d=e.get("clip",!0)?_o(e.coordinateSystem,!1,e):null;return d?n.setClipPath(d):n.removeClipPath(),this._data=o,this.group},t.prototype.remove=function(e,t){var i=this.group,n=this._data;e.get("animation")?n&&n.eachItemGraphicEl((function(t){bb(n,(0,y.z)(t).dataIndex,e,t)})):i.removeAll()},t.type="pictorialBar",t}(a.A);function ab(e,t,i,n){var o=e.getItemLayout(t),a=i.get("symbolRepeat"),r=i.get("symbolClip"),s=i.get("symbolPosition")||"start",l=i.get("symbolRotate"),u=(l||0)*Math.PI/180||0,c=i.get("symbolPatternSize")||2,d=i.isAnimationEnabled(),h={dataIndex:t,layout:o,itemModel:i,symbolType:e.getItemVisual(t,"symbol")||"circle",style:e.getItemVisual(t,"style"),symbolClip:r,symbolRepeat:a,symbolRepeatDirection:i.get("symbolRepeatDirection"),symbolPatternSize:c,rotation:u,animationModel:d?i:null,hoverScale:d&&i.get(["emphasis","scale"]),z2:i.getShallow("z",!0)||0};rb(i,a,o,n,h),lb(e,t,o,a,r,h.boundingLength,h.pxSign,c,n,h),ub(i,h.symbolScale,u,n,h);var p=h.symbolSize,g=(0,Vn.hV)(i.get("symbolOffset"),p);return cb(i,p,o,a,r,g,s,h.valueLineWidth,h.boundingLength,h.repeatCutLength,n,h),h}function rb(e,t,i,n,o){var a,r=n.valueDim,s=e.get("symbolBoundingData"),u=n.coordSys.getOtherAxis(n.coordSys.getBaseAxis()),c=u.toGlobalCoord(u.dataToCoord(0)),d=1-+(i[r.wh]<=0);if(l.cy(s)){var h=[sb(u,s[0])-c,sb(u,s[1])-c];h[1]<h[0]&&h.reverse(),a=h[d]}else a=null!=s?sb(u,s)-c:t?n.coordSysExtent[r.index][d]-c:i[r.wh];o.boundingLength=a,t&&(o.repeatCutLength=i[r.wh]),o.pxSign=a>0?1:-1}function sb(e,t){return e.toGlobalCoord(e.dataToCoord(e.scale.parse(t)))}function lb(e,t,i,n,o,a,r,s,u,c){var d,h=u.valueDim,p=u.categoryDim,g=Math.abs(i[p.wh]),f=e.getItemVisual(t,"symbolSize");d=l.cy(f)?f.slice():null==f?["100%","100%"]:[f,f],d[p.index]=(0,v.lo)(d[p.index],g),d[h.index]=(0,v.lo)(d[h.index],n?g:Math.abs(a)),c.symbolSize=d;var m=c.symbolScale=[d[0]/s,d[1]/s];m[h.index]*=(u.isHorizontal?-1:1)*r}function ub(e,t,i,n,o){var a=e.get(tb)||0;a&&(nb.attr({scaleX:t[0],scaleY:t[1],rotation:i}),nb.updateTransform(),a/=nb.getLineScale(),a*=t[n.valueDim.index]),o.valueLineWidth=a||0}function cb(e,t,i,n,o,a,r,s,u,c,d,h){var p=d.categoryDim,g=d.valueDim,f=h.pxSign,m=Math.max(t[g.index]+s,0),y=m;if(n){var _=Math.abs(u),x=l.Je(e.get("symbolMargin"),"15%")+"",b=!1;x.lastIndexOf("!")===x.length-1&&(b=!0,x=x.slice(0,x.length-1));var w=(0,v.lo)(x,t[g.index]),C=Math.max(m+2*w,0),S=b?0:2*w,A=(0,v.kf)(n),k=A?n:kb((_+S)/C),M=_-k*m;w=M/2/(b?k:Math.max(k-1,1)),C=m+2*w,S=b?0:2*w,A||"fixed"===n||(k=c?kb((Math.abs(c)+S)/C):0),y=k*C-S,h.repeatTimes=k,h.symbolMargin=w}var I=f*(y/2),T=h.pathPosition=[];T[p.index]=i[p.wh]/2,T[g.index]="start"===r?I:"end"===r?u-I:u/2,a&&(T[0]+=a[0],T[1]+=a[1]);var D=h.bundlePosition=[];D[p.index]=i[p.xy],D[g.index]=i[g.xy];var L=h.barRectShape=l.X$({},i);L[g.wh]=f*Math.max(Math.abs(i[g.wh]),Math.abs(T[g.index]+I)),L[p.wh]=i[p.wh];var P=h.clipShape={};P[p.xy]=-i[p.xy],P[p.wh]=d.ecSize[p.wh],P[g.xy]=0,P[g.wh]=i[g.wh]}function db(e){var t=e.symbolPatternSize,i=(0,Vn.v5)(e.symbolType,-t/2,-t/2,t,t);return i.attr({culling:!0}),"image"!==i.type&&i.setStyle({strokeNoScale:!0}),i}function hb(e,t,i,n){var o=e.__pictorialBundle,a=i.symbolSize,r=i.valueLineWidth,s=i.pathPosition,l=t.valueDim,u=i.repeatTimes||0,c=0,d=a[t.valueDim.index]+r+2*i.symbolMargin;for(Cb(e,(function(e){e.__pictorialAnimationIndex=c,e.__pictorialRepeatTimes=u,c<u?Sb(e,null,g(c),i,n):Sb(e,null,{scaleX:0,scaleY:0},i,n,(function(){o.remove(e)})),c++}));c<u;c++){var h=db(i);h.__pictorialAnimationIndex=c,h.__pictorialRepeatTimes=u,o.add(h);var p=g(c);Sb(h,{x:p.x,y:p.y,scaleX:0,scaleY:0},{scaleX:p.scaleX,scaleY:p.scaleY,rotation:p.rotation},i,n)}function g(e){var t=s.slice(),n=i.pxSign,o=e;return("start"===i.symbolRepeatDirection?n>0:n<0)&&(o=u-1-e),t[l.index]=d*(o-u/2+.5)+s[l.index],{x:t[0],y:t[1],scaleX:i.symbolScale[0],scaleY:i.symbolScale[1],rotation:i.rotation}}}function pb(e,t,i,n){var o=e.__pictorialBundle,a=e.__pictorialMainPath;a?Sb(a,null,{x:i.pathPosition[0],y:i.pathPosition[1],scaleX:i.symbolScale[0],scaleY:i.symbolScale[1],rotation:i.rotation},i,n):(a=e.__pictorialMainPath=db(i),o.add(a),Sb(a,{x:i.pathPosition[0],y:i.pathPosition[1],scaleX:0,scaleY:0,rotation:i.rotation},{scaleX:i.symbolScale[0],scaleY:i.symbolScale[1]},i,n))}function gb(e,t,i){var n=l.X$({},t.barRectShape),o=e.__pictorialBarRect;o?Sb(o,null,{shape:n},t,i):(o=e.__pictorialBarRect=new fo.A({z2:2,shape:n,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),o.disableMorphing=!0,e.add(o))}function fb(e,t,i,n){if(i.symbolClip){var o=e.__pictorialClipPath,a=l.X$({},i.clipShape),r=t.valueDim,s=i.animationModel,u=i.dataIndex;if(o)m.oi(o,{shape:a},s,u);else{a[r.wh]=0,o=new fo.A({shape:a}),e.__pictorialBundle.setClipPath(o),e.__pictorialClipPath=o;var c={};c[r.wh]=i.clipShape[r.wh],Gn[n?"updateProps":"initProps"](o,{shape:c},s,u)}}}function mb(e,t){var i=e.getItemModel(t);return i.getAnimationDelayParams=yb,i.isAnimationEnabled=vb,i}function yb(e){return{index:e.__pictorialAnimationIndex,count:e.__pictorialRepeatTimes}}function vb(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function _b(e,t,i,n){var o=new En.A,a=new En.A;return o.add(a),o.__pictorialBundle=a,a.x=i.bundlePosition[0],a.y=i.bundlePosition[1],i.symbolRepeat?hb(o,t,i):pb(o,t,i),gb(o,i,n),fb(o,t,i,n),o.__pictorialShapeStr=wb(e,i),o.__pictorialSymbolMeta=i,o}function xb(e,t,i){var n=i.animationModel,o=i.dataIndex,a=e.__pictorialBundle;m.oi(a,{x:i.bundlePosition[0],y:i.bundlePosition[1]},n,o),i.symbolRepeat?hb(e,t,i,!0):pb(e,t,i,!0),gb(e,i,!0),fb(e,t,i,!0)}function bb(e,t,i,n){var o=n.__pictorialBarRect;o&&o.removeTextContent();var a=[];Cb(n,(function(e){a.push(e)})),n.__pictorialMainPath&&a.push(n.__pictorialMainPath),n.__pictorialClipPath&&(i=null),l.__(a,(function(e){m.Nz(e,{scaleX:0,scaleY:0},i,t,(function(){n.parent&&n.parent.remove(n)}))})),e.setItemGraphicEl(t,null)}function wb(e,t){return[e.getItemVisual(t.dataIndex,"symbol")||"none",!!t.symbolRepeat,!!t.symbolClip].join(":")}function Cb(e,t,i){l.__(e.__pictorialBundle.children(),(function(n){n!==e.__pictorialBarRect&&t.call(i,n)}))}function Sb(e,t,i,n,o,a){t&&e.attr(t),n.symbolClip&&!o?i&&e.attr(i):i&&Gn[o?"updateProps":"initProps"](e,i,n.animationModel,n.dataIndex,a)}function Ab(e,t,i){var n=i.dataIndex,o=i.itemModel,a=o.getModel("emphasis"),r=a.getModel("itemStyle").getItemStyle(),s=o.getModel(["blur","itemStyle"]).getItemStyle(),u=o.getModel(["select","itemStyle"]).getItemStyle(),c=o.getShallow("cursor"),d=a.get("focus"),h=a.get("blurScope"),p=a.get("scale");Cb(e,(function(e){if(e instanceof Ge.Ay){var t=e.style;e.useStyle(l.X$({image:t.image,x:t.x,y:t.y,width:t.width,height:t.height},i.style))}else e.useStyle(i.style);var n=e.ensureState("emphasis");n.style=r,p&&(n.scaleX=1.1*e.scaleX,n.scaleY=1.1*e.scaleY),e.ensureState("blur").style=s,e.ensureState("select").style=u,c&&(e.cursor=c),e.z2=i.z2}));var g=t.valueDim.posDesc[+(i.boundingLength>0)],f=e.__pictorialBarRect;f.ignoreClip=!0,(0,ae.qM)(f,(0,ae.lx)(o),{labelFetcher:t.seriesModel,labelDataIndex:n,defaultText:Bn(t.seriesModel.getData(),n),inheritColor:i.style.fill,defaultOpacity:i.style.opacity,defaultOutsidePosition:g}),(0,I.Lm)(e,d,h,a.get("disabled"))}function kb(e){var t=Math.round(e);return Math.abs(e-t)<1e-4?t:Math.ceil(e)}var Mb=ob,Ib=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i.hasSymbolVisual=!0,i.defaultSymbol="roundRect",i}return(0,_e.C6)(t,e),t.prototype.getInitialData=function(t){return t.stack=null,e.prototype.getInitialData.apply(this,arguments)},t.type="series.pictorialBar",t.dependencies=["grid"],t.defaultOption=(0,ua.G_)(la.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",clip:!1,progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),t}(la),Tb=Ib;function Db(e){e.registerChartView(Mb),e.registerSeriesModel(Tb),e.registerLayout(e.PRIORITY.VISUAL.LAYOUT,(0,l.cF)(ia,"pictorialBar")),e.registerLayout(e.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,na("pictorialBar"))}var Lb=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i._layers=[],i}return(0,_e.C6)(t,e),t.prototype.render=function(e,t,i){var n=e.getData(),o=this,a=this.group,r=e.getLayerSeries(),s=n.getLayout("layoutInfo"),u=s.rect,c=s.boundaryGap;function d(e){return e.name}a.x=0,a.y=u.y+c[0];var h=new Ni(this._layersSeries||[],r,d,d),p=[];function g(t,i,s){var l=o._layers;if("remove"!==t){for(var u,c,d=[],h=[],g=r[i].indices,f=0;f<g.length;f++){var y=n.getItemLayout(g[f]),v=y.x,_=y.y0,x=y.y;d.push(v,_),h.push(v,_+x),u=n.getItemVisual(g[f],"style")}var b=n.getItemLayout(g[0]),w=e.getModel("label"),C=w.get("margin"),S=e.getModel("emphasis");if("add"===t){var A=p[i]=new En.A;c=new go({shape:{points:d,stackedOnPoints:h,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),A.add(c),a.add(A),e.isAnimationEnabled()&&c.setClipPath(Pb(c.getBoundingRect(),e,(function(){c.removeClipPath()})))}else{A=l[s];c=A.childAt(0),a.add(A),p[i]=A,m.oi(c,{shape:{points:d,stackedOnPoints:h}},e),(0,m.ap)(c)}(0,ae.qM)(c,(0,ae.lx)(e),{labelDataIndex:g[f-1],defaultText:n.getName(g[f-1]),inheritColor:u.fill},{normal:{verticalAlign:"middle"}}),c.setTextConfig({position:null,local:!0});var k=c.getTextContent();k&&(k.x=b.x-C,k.y=b.y0+b.y/2),c.useStyle(u),n.setItemGraphicEl(i,c),(0,I.Mx)(c,e),(0,I.Lm)(c,S.get("focus"),S.get("blurScope"),S.get("disabled"))}else a.remove(l[i])}h.add((0,l.oI)(g,this,"add")).update((0,l.oI)(g,this,"update")).remove((0,l.oI)(g,this,"remove")).execute(),this._layersSeries=r,this._layers=p},t.type="themeRiver",t}(a.A);function Pb(e,t,i){var n=new fo.A({shape:{x:e.x-10,y:e.y-10,width:0,height:e.height+20}});return m.LW(n,{shape:{x:e.x-50,width:e.width+100,height:e.height+20}},t,i),n}var Fb=Lb,Nb=2,Rb=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return(0,_e.C6)(t,e),t.prototype.init=function(t){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new pr(l.oI(this.getData,this),l.oI(this.getRawData,this))},t.prototype.fixData=function(e){var t=e.length,i={},n=(0,g.Sq)(e,(function(e){return i.hasOwnProperty(e[0]+"")||(i[e[0]+""]=-1),e[2]})),o=[];n.buckets.each((function(e,t){o.push({name:t,dataList:e})}));for(var a=o.length,r=0;r<a;++r){for(var s=o[r].name,l=0;l<o[r].dataList.length;++l){var u=o[r].dataList[l][0]+"";i[u]=r}for(var u in i)i.hasOwnProperty(u)&&i[u]!==r&&(i[u]=r,e[t]=[u,0,s],t++)}return e},t.prototype.getInitialData=function(e,t){for(var i=this.getReferringComponents("singleAxis",g.US).models[0],n=i.get("type"),o=l.pb(e.data,(function(e){return void 0!==e[2]})),a=this.fixData(o||[]),r=[],s=this.nameMap=l.nt(),u=0,c=0;c<a.length;++c)r.push(a[c][Nb]),s.get(a[c][Nb])||(s.set(a[c][Nb],u),u++);var d=yn(a,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:Gi(n)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,h=new fn(d,this);return h.initData(a),h},t.prototype.getLayerSeries=function(){for(var e=this.getData(),t=e.count(),i=[],n=0;n<t;++n)i[n]=n;var o=e.mapDimension("single"),a=(0,g.Sq)(i,(function(t){return e.get("name",t)})),r=[];return a.buckets.each((function(t,i){t.sort((function(t,i){return e.get(o,t)-e.get(o,i)})),r.push({name:i,indices:t})})),r},t.prototype.getAxisTooltipData=function(e,t,i){l.cy(e)||(e=e?[e]:[]);for(var n,o=this.getData(),a=this.getLayerSeries(),r=[],s=a.length,u=0;u<s;++u){for(var c=Number.MAX_VALUE,d=-1,h=a[u].indices.length,p=0;p<h;++p){var g=o.get(e[0],a[u].indices[p]),f=Math.abs(g-t);f<=c&&(n=g,c=f,d=a[u].indices[p])}r.push(d)}return{dataIndices:r,nestestValue:n}},t.prototype.formatTooltip=function(e,t,i){var n=this.getData(),o=n.getName(e),a=n.get(n.mapDimension("value"),e);return(0,Du.Qx)("nameValue",{name:o,value:a})},t.type="series.themeRiver",t.dependencies=["singleAxis"],t.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},t}(s.A),Vb=Rb;function Eb(e,t){e.eachSeriesByType("themeRiver",(function(e){var t=e.getData(),i=e.coordinateSystem,n={},o=i.getRect();n.rect=o;var a=e.get("boundaryGap"),r=i.getAxis();if(n.boundaryGap=a,"horizontal"===r.orient){a[0]=v.lo(a[0],o.height),a[1]=v.lo(a[1],o.height);var s=o.height-a[0]-a[1];Ob(t,e,s)}else{a[0]=v.lo(a[0],o.width),a[1]=v.lo(a[1],o.width);var l=o.width-a[0]-a[1];Ob(t,e,l)}t.setLayout("layoutInfo",n)}))}function Ob(e,t,i){if(e.count())for(var n,o=t.coordinateSystem,a=t.getLayerSeries(),r=e.mapDimension("single"),s=e.mapDimension("value"),u=l.Tj(a,(function(t){return l.Tj(t.indices,(function(t){var i=o.dataToPoint(e.get(r,t));return i[1]=e.get(s,t),i}))})),c=zb(u),d=c.y0,h=i/c.max,p=a.length,g=a[0].indices.length,f=0;f<g;++f){n=d[f]*h,e.setItemLayout(a[0].indices[f],{layerIndex:0,x:u[0][f][0],y0:n,y:u[0][f][1]*h});for(var m=1;m<p;++m)n+=u[m-1][f][1]*h,e.setItemLayout(a[m].indices[f],{layerIndex:m,x:u[m][f][0],y0:n,y:u[m][f][1]*h})}}function zb(e){for(var t=e.length,i=e[0].length,n=[],o=[],a=0,r=0;r<i;++r){for(var s=0,l=0;l<t;++l)s+=e[l][r][1];s>a&&(a=s),n.push(s)}for(var u=0;u<i;++u)o[u]=(a-n[u])/2;a=0;for(var c=0;c<i;++c){var d=n[c]+o[c];d>a&&(a=d)}return{y0:o,max:a}}function Gb(e){e.registerChartView(Fb),e.registerSeriesModel(Vb),e.registerLayout(Eb),e.registerProcessor(tr("themeRiver"))}var Bb=2,Wb=4,Hb=function(e){function t(t,i,n,o){var a=e.call(this)||this;a.z2=Bb,a.textConfig={inside:!0},(0,y.z)(a).seriesIndex=i.seriesIndex;var r=new Pt.Ay({z2:Wb,silent:t.getModel().get(["label","silent"])});return a.setTextContent(r),a.updateData(!0,t,i,n,o),a}return(0,_e.C6)(t,e),t.prototype.updateData=function(e,t,i,n,o){this.node=t,t.piece=this,i=i||this._seriesModel,n=n||this._ecModel;var a=this;(0,y.z)(a).dataIndex=t.dataIndex;var r=t.getModel(),s=r.getModel("emphasis"),u=t.getLayout(),c=l.X$({},u);c.label=null;var d=t.getVisual("style");d.lineJoin="bevel";var h=t.getVisual("decal");h&&(d.decal=(0,wd.w)(h,o));var p=xa(r.getModel("itemStyle"),c,!0);l.X$(c,p),l.__(I.BV,(function(e){var t=a.ensureState(e),i=r.getModel([e,"itemStyle"]);t.style=i.getItemStyle();var n=xa(i,c);n&&(t.shape=n)})),e?(a.setShape(c),a.shape.r=u.r0,m.LW(a,{shape:{r:u.r}},i,t.dataIndex)):(m.oi(a,{shape:c},i),(0,m.ap)(a)),a.useStyle(d),this._updateLabel(i);var g=r.getShallow("cursor");g&&a.attr("cursor",g),this._seriesModel=i||this._seriesModel,this._ecModel=n||this._ecModel;var f=s.get("focus"),v="ancestor"===f?t.getAncestorsIndices():"descendant"===f?t.getDescendantIndices():f;(0,I.Lm)(this,v,s.get("blurScope"),s.get("disabled"))},t.prototype._updateLabel=function(e){var t=this,i=this.node.getModel(),n=i.getModel("label"),o=this.node.getLayout(),a=o.endAngle-o.startAngle,r=(o.startAngle+o.endAngle)/2,s=Math.cos(r),u=Math.sin(r),c=this,d=c.getTextContent(),h=this.node.dataIndex,p=n.get("minAngle")/180*Math.PI,g=n.get("show")&&!(null!=p&&Math.abs(a)<p);function f(e,t){var i=e.get(t);return null==i?n.get(t):i}d.ignore=!g,l.__(I.wV,(function(n){var p="normal"===n?i.getModel("label"):i.getModel([n,"label"]),g="normal"===n,m=g?d:d.ensureState(n),y=e.getFormattedLabel(h,n);g&&(y=y||t.node.name),m.style=(0,ae.VB)(p,{},null,"normal"!==n,!0),y&&(m.style.text=y);var _=p.get("show");null==_||g||(m.ignore=!_);var x,b=f(p,"position"),w=g?c:c.states[n],C=w.style.fill;w.textConfig={outsideFill:"inherit"===p.get("color")?C:null,inside:"outside"!==b};var A=f(p,"distance")||0,k=f(p,"align"),M=f(p,"rotate"),I=.5*Math.PI,T=1.5*Math.PI,D=(0,S.n)("tangential"===M?Math.PI/2-r:r),L=D>I&&!(0,v.dh)(D-I)&&D<T;"outside"===b?(x=o.r+A,k=L?"right":"left"):k&&"center"!==k?"left"===k?(x=o.r0+A,k=L?"right":"left"):"right"===k&&(x=o.r-A,k=L?"left":"right"):(x=a===2*Math.PI&&0===o.r0?0:(o.r+o.r0)/2,k="center"),m.style.align=k,m.style.verticalAlign=f(p,"verticalAlign")||"middle",m.x=x*s+o.cx,m.y=x*u+o.cy;var P=0;"radial"===M?P=(0,S.n)(-r)+(L?Math.PI:0):"tangential"===M?P=(0,S.n)(Math.PI/2-r)+(L?Math.PI:0):l.Et(M)&&(P=M*Math.PI/180),m.rotation=(0,S.n)(P)})),d.dirtyStyle()},t}(mo.A),Xb=Hb,$b="sunburstRootToNode",jb="sunburstHighlight",Ub="sunburstUnhighlight";function Yb(e){e.registerAction({type:$b,update:"updateView"},(function(e,t){function i(t,i){var n=np(e,[$b],t);if(n){var o=t.getViewRoot();o&&(e.direction=ap(o,n.node)?"rollUp":"drillDown"),t.resetViewRoot(n.node)}}t.eachComponent({mainType:"series",subType:"sunburst",query:e},i)})),e.registerAction({type:jb,update:"none"},(function(e,t,i){function n(t){var i=np(e,[jb],t);i&&(e.dataIndex=i.node.dataIndex)}e=(0,l.X$)({},e),t.eachComponent({mainType:"series",subType:"sunburst",query:e},n),i.dispatchAction((0,l.X$)(e,{type:"highlight"}))})),e.registerAction({type:Ub,update:"updateView"},(function(e,t,i){e=(0,l.X$)({},e),i.dispatchAction((0,l.X$)(e,{type:"downplay"}))}))}var Zb=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return(0,_e.C6)(t,e),t.prototype.render=function(e,t,i,n){var o=this;this.seriesModel=e,this.api=i,this.ecModel=t;var a=e.getData(),r=a.tree.root,s=e.getViewRoot(),u=this.group,c=e.get("renderLabelForZeroData"),d=[];s.eachNode((function(e){d.push(e)}));var h=this._oldChildren||[];function p(e,t){function i(e){return e.getId()}function n(i,n){var o=null==i?null:e[i],a=null==n?null:t[n];g(o,a)}0===e.length&&0===t.length||new Ni(t,e,i,i).add(n).update(n).remove(l.cF(n,null)).execute()}function g(n,o){if(c||!n||n.getValue()||(n=null),n!==r&&o!==r)if(o&&o.piece)n?(o.piece.updateData(!1,n,e,t,i),a.setItemGraphicEl(n.dataIndex,o.piece)):f(o);else if(n){var s=new Xb(n,e,t,i);u.add(s),a.setItemGraphicEl(n.dataIndex,s)}}function f(e){e&&e.piece&&(u.remove(e.piece),e.piece=null)}function m(n,a){a.depth>0?(o.virtualPiece?o.virtualPiece.updateData(!1,n,e,t,i):(o.virtualPiece=new Xb(n,e,t,i),u.add(o.virtualPiece)),a.piece.off("click"),o.virtualPiece.on("click",(function(e){o._rootToNode(a.parentNode)}))):o.virtualPiece&&(u.remove(o.virtualPiece),o.virtualPiece=null)}p(d,h),m(r,s),this._initEvents(),this._oldChildren=d},t.prototype._initEvents=function(){var e=this;this.group.off("click"),this.group.on("click",(function(t){var i=!1,n=e.seriesModel.getViewRoot();n.eachNode((function(n){if(!i&&n.piece&&n.piece===t.target){var o=n.getModel().get("nodeClick");if("rootToNode"===o)e._rootToNode(n);else if("link"===o){var a=n.getModel(),r=a.get("link");if(r){var s=a.get("target",!0)||"_blank";(0,bo.JW)(r,s)}}i=!0}}))}))},t.prototype._rootToNode=function(e){e!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:$b,from:this.uid,seriesId:this.seriesModel.id,targetNode:e})},t.prototype.containPoint=function(e,t){var i=t.getData(),n=i.getItemLayout(0);if(n){var o=e[0]-n.cx,a=e[1]-n.cy,r=Math.sqrt(o*o+a*a);return r<=n.r&&r>=n.r0}},t.type="sunburst",t}(a.A),qb=Zb,Kb=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i.ignoreStyleOnData=!0,i}return(0,_e.C6)(t,e),t.prototype.getInitialData=function(e,t){var i={name:e.name,children:e.data};Qb(i);var n=this._levelModels=l.Tj(e.levels||[],(function(e){return new Di.A(e,this,t)}),this),o=ip.createTree(i,this,a);function a(e){e.wrapMethod("getItemModel",(function(e,t){var i=o.getNodeByDataIndex(t),a=n[i.depth];return a&&(e.parentModel=a),e}))}return o.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.getDataParams=function(t){var i=e.prototype.getDataParams.apply(this,arguments),n=this.getData().tree.getNodeByDataIndex(t);return i.treePathInfo=rp(n,this),i},t.prototype.getLevelModel=function(e){return this._levelModels&&this._levelModels[e.depth]},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var t=this.getRawData().tree.root;e&&(e===t||t.contains(e))||(this._viewRoot=t)},t.prototype.enableAriaDecal=function(){_p(this)},t.type="series.sunburst",t.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},t}(s.A);function Qb(e){var t=0;l.__(e.children,(function(e){Qb(e);var i=e.value;l.cy(i)&&(i=i[0]),t+=i}));var i=e.value;l.cy(i)&&(i=i[0]),(null==i||isNaN(i))&&(i=t),i<0&&(i=0),l.cy(e.value)?e.value[0]=i:e.value=i}var Jb=Kb,ew=Math.PI/180;function tw(e,t,i){t.eachSeriesByType(e,(function(e){var t=e.get("center"),n=e.get("radius");l.cy(n)||(n=[0,n]),l.cy(t)||(t=[t,t]);var o=i.getWidth(),a=i.getHeight(),r=Math.min(o,a),s=(0,v.lo)(t[0],o),u=(0,v.lo)(t[1],a),c=(0,v.lo)(n[0],r/2),d=(0,v.lo)(n[1],r/2),h=-e.get("startAngle")*ew,p=e.get("minAngle")*ew,g=e.getData().tree.root,f=e.getViewRoot(),m=f.depth,y=e.get("sort");null!=y&&iw(f,y);var _=0;l.__(f.children,(function(e){!isNaN(e.getValue())&&_++}));var x=f.getValue(),b=Math.PI/(x||_)*2,w=f.depth>0,C=f.height-(w?-1:1),S=(d-c)/(C||1),A=e.get("clockwise"),k=e.get("stillShowZeroSum"),M=A?1:-1,I=function(t,i){if(t){var n=i;if(t!==g){var o=t.getValue(),a=0===x&&k?b:o*b;a<p&&(a=p),n=i+M*a;var d=t.depth-m-(w?-1:1),h=c+S*d,f=c+S*(d+1),y=e.getLevelModel(t);if(y){var _=y.get("r0",!0),C=y.get("r",!0),T=y.get("radius",!0);null!=T&&(_=T[0],C=T[1]),null!=_&&(h=(0,v.lo)(_,r/2)),null!=C&&(f=(0,v.lo)(C,r/2))}t.setLayout({angle:a,startAngle:i,endAngle:n,clockwise:A,cx:s,cy:u,r0:h,r:f})}if(t.children&&t.children.length){var D=0;l.__(t.children,(function(e){D+=I(e,i+D)}))}return n-i}};if(w){var T=c,D=c+S,L=2*Math.PI;g.setLayout({angle:L,startAngle:h,endAngle:h+L,clockwise:A,cx:s,cy:u,r0:T,r:D})}I(f,h)}))}function iw(e,t){var i=e.children||[];e.children=nw(i,t),i.length&&l.__(e.children,(function(e){iw(e,t)}))}function nw(e,t){if(l.Tn(t)){var i=l.Tj(e,(function(e,t){var i=e.getValue();return{params:{depth:e.depth,height:e.height,dataIndex:e.dataIndex,getValue:function(){return i}},index:t}}));return i.sort((function(e,i){return t(e.params,i.params)})),l.Tj(i,(function(t){return e[t.index]}))}var n="asc"===t;return e.sort((function(e,t){var i=(e.getValue()-t.getValue())*(n?1:-1);return 0===i?(e.dataIndex-t.dataIndex)*(n?-1:1):i}))}function ow(e){var t={};function i(e,i,n){var o=e;while(o&&o.depth>1)o=o.parentNode;var a=i.getColorFromPalette(o.name||o.dataIndex+"",t);return e.depth>1&&(0,l.Kg)(a)&&(a=(0,Ft.yY)(a,(e.depth-1)/(n-1)*.5)),a}e.eachSeriesByType("sunburst",(function(e){var t=e.getData(),n=t.tree;n.eachNode((function(o){var a=o.getModel(),r=a.getModel("itemStyle").getItemStyle();r.fill||(r.fill=i(o,e,n.root.height));var s=t.ensureUniqueItemVisual(o.dataIndex,"style");(0,l.X$)(s,r)}))}))}function aw(e){e.registerChartView(qb),e.registerSeriesModel(Jb),e.registerLayout((0,l.cF)(tw,"sunburst")),e.registerProcessor((0,l.cF)(tr,"sunburst")),e.registerVisual(ow),Yb(e)}var rw={color:"fill",borderColor:"stroke"},sw={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},lw=(0,g.$r)(),uw=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return(0,_e.C6)(t,e),t.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},t.prototype.getInitialData=function(e,t){return Rn(null,this)},t.prototype.getDataParams=function(t,i,n){var o=e.prototype.getDataParams.call(this,t,i);return n&&(o.info=lw(n).info),o},t.type="series.custom",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},t}(s.A),cw=uw;function dw(e,t){return t=t||[0,0],l.Tj(["x","y"],(function(i,n){var o=this.getAxis(i),a=t[n],r=e[n]/2;return"category"===o.type?o.getBandWidth():Math.abs(o.dataToCoord(a-r)-o.dataToCoord(a+r))}),this)}function hw(e){var t=e.master.getRect();return{coordSys:{type:"cartesian2d",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(t){return e.dataToPoint(t)},size:l.oI(dw,e)}}}function pw(e,t){return t=t||[0,0],l.Tj([0,1],(function(i){var n=t[i],o=e[i]/2,a=[],r=[];return a[i]=n-o,r[i]=n+o,a[1-i]=r[1-i]=t[1-i],Math.abs(this.dataToPoint(a)[i]-this.dataToPoint(r)[i])}),this)}function gw(e){var t=e.getBoundingRect();return{coordSys:{type:"geo",x:t.x,y:t.y,width:t.width,height:t.height,zoom:e.getZoom()},api:{coord:function(t){return e.dataToPoint(t)},size:l.oI(pw,e)}}}function fw(e,t){var i=this.getAxis(),n=t instanceof Array?t[0]:t,o=(e instanceof Array?e[0]:e)/2;return"category"===i.type?i.getBandWidth():Math.abs(i.dataToCoord(n-o)-i.dataToCoord(n+o))}function mw(e){var t=e.getRect();return{coordSys:{type:"singleAxis",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(t){return e.dataToPoint(t)},size:(0,l.oI)(fw,e)}}}function yw(e,t){return t=t||[0,0],l.Tj(["Radius","Angle"],(function(i,n){var o="get"+i+"Axis",a=this[o](),r=t[n],s=e[n]/2,l="category"===a.type?a.getBandWidth():Math.abs(a.dataToCoord(r-s)-a.dataToCoord(r+s));return"Angle"===i&&(l=l*Math.PI/180),l}),this)}function vw(e){var t=e.getRadiusAxis(),i=e.getAngleAxis(),n=t.getExtent();return n[0]>n[1]&&n.reverse(),{coordSys:{type:"polar",cx:e.cx,cy:e.cy,r:n[1],r0:n[0]},api:{coord:function(n){var o=t.dataToRadius(n[0]),a=i.dataToAngle(n[1]),r=e.coordToPoint([o,a]);return r.push(o,a*Math.PI/180),r},size:l.oI(yw,e)}}}function _w(e){var t=e.getRect(),i=e.getRangeInfo();return{coordSys:{type:"calendar",x:t.x,y:t.y,width:t.width,height:t.height,cellWidth:e.getCellWidth(),cellHeight:e.getCellHeight(),rangeInfo:{start:i.start,end:i.end,weeks:i.weeks,dayCount:i.allDay}},api:{coord:function(t,i){return e.dataToPoint(t,i)}}}}function xw(e,t,i,n){return e&&(e.legacy||!1!==e.legacy&&!i&&!n&&"tspan"!==t&&("text"===t||(0,l.$3)(e,"text")))}function bw(e,t,i){var n,o,a,r=e;if("text"===t)a=r;else{a={},(0,l.$3)(r,"text")&&(a.text=r.text),(0,l.$3)(r,"rich")&&(a.rich=r.rich),(0,l.$3)(r,"textFill")&&(a.fill=r.textFill),(0,l.$3)(r,"textStroke")&&(a.stroke=r.textStroke),(0,l.$3)(r,"fontFamily")&&(a.fontFamily=r.fontFamily),(0,l.$3)(r,"fontSize")&&(a.fontSize=r.fontSize),(0,l.$3)(r,"fontStyle")&&(a.fontStyle=r.fontStyle),(0,l.$3)(r,"fontWeight")&&(a.fontWeight=r.fontWeight),o={type:"text",style:a,silent:!0},n={};var s=(0,l.$3)(r,"textPosition");i?n.position=s?r.textPosition:"inside":s&&(n.position=r.textPosition),(0,l.$3)(r,"textPosition")&&(n.position=r.textPosition),(0,l.$3)(r,"textOffset")&&(n.offset=r.textOffset),(0,l.$3)(r,"textRotation")&&(n.rotation=r.textRotation),(0,l.$3)(r,"textDistance")&&(n.distance=r.textDistance)}return ww(a,e),(0,l.__)(a.rich,(function(e){ww(e,e)})),{textConfig:n,textContent:o}}function ww(e,t){t&&(t.font=t.textFont||t.font,(0,l.$3)(t,"textStrokeWidth")&&(e.lineWidth=t.textStrokeWidth),(0,l.$3)(t,"textAlign")&&(e.align=t.textAlign),(0,l.$3)(t,"textVerticalAlign")&&(e.verticalAlign=t.textVerticalAlign),(0,l.$3)(t,"textLineHeight")&&(e.lineHeight=t.textLineHeight),(0,l.$3)(t,"textWidth")&&(e.width=t.textWidth),(0,l.$3)(t,"textHeight")&&(e.height=t.textHeight),(0,l.$3)(t,"textBackgroundColor")&&(e.backgroundColor=t.textBackgroundColor),(0,l.$3)(t,"textPadding")&&(e.padding=t.textPadding),(0,l.$3)(t,"textBorderColor")&&(e.borderColor=t.textBorderColor),(0,l.$3)(t,"textBorderWidth")&&(e.borderWidth=t.textBorderWidth),(0,l.$3)(t,"textBorderRadius")&&(e.borderRadius=t.textBorderRadius),(0,l.$3)(t,"textBoxShadowColor")&&(e.shadowColor=t.textBoxShadowColor),(0,l.$3)(t,"textBoxShadowBlur")&&(e.shadowBlur=t.textBoxShadowBlur),(0,l.$3)(t,"textBoxShadowOffsetX")&&(e.shadowOffsetX=t.textBoxShadowOffsetX),(0,l.$3)(t,"textBoxShadowOffsetY")&&(e.shadowOffsetY=t.textBoxShadowOffsetY))}function Cw(e,t,i){var n=e;n.textPosition=n.textPosition||i.position||"inside",null!=i.offset&&(n.textOffset=i.offset),null!=i.rotation&&(n.textRotation=i.rotation),null!=i.distance&&(n.textDistance=i.distance);var o=n.textPosition.indexOf("inside")>=0,a=e.fill||"#000";Sw(n,t);var r=null==n.textFill;return o?r&&(n.textFill=i.insideFill||"#fff",!n.textStroke&&i.insideStroke&&(n.textStroke=i.insideStroke),!n.textStroke&&(n.textStroke=a),null==n.textStrokeWidth&&(n.textStrokeWidth=2)):(r&&(n.textFill=e.fill||i.outsideFill||"#000"),!n.textStroke&&i.outsideStroke&&(n.textStroke=i.outsideStroke)),n.text=t.text,n.rich=t.rich,(0,l.__)(t.rich,(function(e){Sw(e,e)})),n}function Sw(e,t){t&&((0,l.$3)(t,"fill")&&(e.textFill=t.fill),(0,l.$3)(t,"stroke")&&(e.textStroke=t.fill),(0,l.$3)(t,"lineWidth")&&(e.textStrokeWidth=t.lineWidth),(0,l.$3)(t,"font")&&(e.font=t.font),(0,l.$3)(t,"fontStyle")&&(e.fontStyle=t.fontStyle),(0,l.$3)(t,"fontWeight")&&(e.fontWeight=t.fontWeight),(0,l.$3)(t,"fontSize")&&(e.fontSize=t.fontSize),(0,l.$3)(t,"fontFamily")&&(e.fontFamily=t.fontFamily),(0,l.$3)(t,"align")&&(e.textAlign=t.align),(0,l.$3)(t,"verticalAlign")&&(e.textVerticalAlign=t.verticalAlign),(0,l.$3)(t,"lineHeight")&&(e.textLineHeight=t.lineHeight),(0,l.$3)(t,"width")&&(e.textWidth=t.width),(0,l.$3)(t,"height")&&(e.textHeight=t.height),(0,l.$3)(t,"backgroundColor")&&(e.textBackgroundColor=t.backgroundColor),(0,l.$3)(t,"padding")&&(e.textPadding=t.padding),(0,l.$3)(t,"borderColor")&&(e.textBorderColor=t.borderColor),(0,l.$3)(t,"borderWidth")&&(e.textBorderWidth=t.borderWidth),(0,l.$3)(t,"borderRadius")&&(e.textBorderRadius=t.borderRadius),(0,l.$3)(t,"shadowColor")&&(e.textBoxShadowColor=t.shadowColor),(0,l.$3)(t,"shadowBlur")&&(e.textBoxShadowBlur=t.shadowBlur),(0,l.$3)(t,"shadowOffsetX")&&(e.textBoxShadowOffsetX=t.shadowOffsetX),(0,l.$3)(t,"shadowOffsetY")&&(e.textBoxShadowOffsetY=t.shadowOffsetY),(0,l.$3)(t,"textShadowColor")&&(e.textShadowColor=t.textShadowColor),(0,l.$3)(t,"textShadowBlur")&&(e.textShadowBlur=t.textShadowBlur),(0,l.$3)(t,"textShadowOffsetX")&&(e.textShadowOffsetX=t.textShadowOffsetX),(0,l.$3)(t,"textShadowOffsetY")&&(e.textShadowOffsetY=t.textShadowOffsetY))}var Aw=i(72941),kw={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},Mw=(0,l.HP)(kw),Iw=((0,l.TS)(_.Wx,(function(e,t){return e[t]=1,e}),{}),_.Wx.join(", "),["","style","shape","extra"]),Tw=(0,g.$r)();function Dw(e,t,i,n,o){var a=e+"Animation",r=(0,m.Jw)(e,n,o)||{},s=Tw(t).userDuring;return r.duration>0&&(r.during=s?(0,l.oI)(Gw,{el:t,userDuring:s}):null,r.setToFinal=!0,r.scope=e),(0,l.X$)(r,i[a]),r}function Lw(e,t,i,n){n=n||{};var o=n.dataIndex,a=n.isInit,r=n.clearStyle,s=i.isAnimationEnabled(),u=Tw(e),c=t.style;u.userDuring=t.during;var d={},h={};if(Xw(e,t,h),Ww("shape",t,h),Ww("extra",t,h),!a&&s&&(Hw(e,t,d),Bw("shape",e,t,d),Bw("extra",e,t,d),$w(e,t,c,d)),h.style=c,Rw(e,h,r),Ew(e,t),s)if(a){var p={};(0,l.__)(Iw,(function(e){var i=e?t[e]:t;i&&i.enterFrom&&(e&&(p[e]=p[e]||{}),(0,l.X$)(e?p[e]:p,i.enterFrom))}));var g=Dw("enter",e,t,i,o);g.duration>0&&e.animateFrom(p,g)}else Vw(e,t,o||0,i,d);Pw(e,t),c?e.dirty():e.markRedraw()}function Pw(e,t){for(var i=Tw(e).leaveToProps,n=0;n<Iw.length;n++){var o=Iw[n],a=o?t[o]:t;a&&a.leaveTo&&(i||(i=Tw(e).leaveToProps={}),o&&(i[o]=i[o]||{}),(0,l.X$)(o?i[o]:i,a.leaveTo))}}function Fw(e,t,i,n){if(e){var o=e.parent,a=Tw(e).leaveToProps;if(a){var r=Dw("update",e,t,i,0);r.done=function(){o.remove(e),n&&n()},e.animateTo(a,r)}else o.remove(e),n&&n()}}function Nw(e){return"all"===e}function Rw(e,t,i){var n=t.style;if(!e.isGroup&&n){if(i){e.useStyle({});for(var o=e.animators,a=0;a<o.length;a++){var r=o[a];"style"===r.targetName&&r.changeTarget(e.style)}}e.setStyle(n)}t&&(t.style=null,t&&e.attr(t),t.style=n)}function Vw(e,t,i,n,o){if(o){var a=Dw("update",e,t,n,i);a.duration>0&&e.animateFrom(o,a)}}function Ew(e,t){(0,l.$3)(t,"silent")&&(e.silent=t.silent),(0,l.$3)(t,"ignore")&&(e.ignore=t.ignore),e instanceof Cd.Ay&&(0,l.$3)(t,"invisible")&&(e.invisible=t.invisible),e instanceof b.Ay&&(0,l.$3)(t,"autoBatch")&&(e.autoBatch=t.autoBatch)}var Ow={},zw={setTransform:function(e,t){return Ow.el[e]=t,this},getTransform:function(e){return Ow.el[e]},setShape:function(e,t){var i=Ow.el,n=i.shape||(i.shape={});return n[e]=t,i.dirtyShape&&i.dirtyShape(),this},getShape:function(e){var t=Ow.el.shape;if(t)return t[e]},setStyle:function(e,t){var i=Ow.el,n=i.style;return n&&(n[e]=t,i.dirtyStyle&&i.dirtyStyle()),this},getStyle:function(e){var t=Ow.el.style;if(t)return t[e]},setExtra:function(e,t){var i=Ow.el.extra||(Ow.el.extra={});return i[e]=t,this},getExtra:function(e){var t=Ow.el.extra;if(t)return t[e]}};function Gw(){var e=this,t=e.el;if(t){var i=Tw(t).userDuring,n=e.userDuring;i===n?(Ow.el=t,n(zw)):e.el=e.userDuring=null}}function Bw(e,t,i,n){var o=i[e];if(o){var a,r=t[e];if(r){var s=i.transition,u=o.transition;if(u)if(!a&&(a=n[e]={}),Nw(u))(0,l.X$)(a,r);else for(var c=(0,g.qB)(u),d=0;d<c.length;d++){var h=c[d],p=r[h];a[h]=p}else if(Nw(s)||(0,l.qh)(s,e)>=0){!a&&(a=n[e]={});var f=(0,l.HP)(r);for(d=0;d<f.length;d++){h=f[d],p=r[h];jw(o[h],p)&&(a[h]=p)}}}}}function Ww(e,t,i){var n=t[e];if(n)for(var o=i[e]={},a=(0,l.HP)(n),r=0;r<a.length;r++){var s=a[r];o[s]=(0,Aw.F)(n[s])}}function Hw(e,t,i){for(var n=t.transition,o=Nw(n)?_.Wx:(0,g.qB)(n||[]),a=0;a<o.length;a++){var r=o[a];if("style"!==r&&"shape"!==r&&"extra"!==r){var s=e[r];0,i[r]=s}}}function Xw(e,t,i){for(var n=0;n<Mw.length;n++){var o=Mw[n],a=kw[o],r=t[o];r&&(i[a[0]]=r[0],i[a[1]]=r[1])}for(n=0;n<_.Wx.length;n++){var s=_.Wx[n];null!=t[s]&&(i[s]=t[s])}}function $w(e,t,i,n){if(i){var o,a=e.style;if(a){var r=i.transition,s=t.transition;if(r&&!Nw(r)){var u=(0,g.qB)(r);!o&&(o=n.style={});for(var c=0;c<u.length;c++){var d=u[c],h=a[d];o[d]=h}}else if(e.getAnimationStyleProps&&(Nw(s)||Nw(r)||(0,l.qh)(s,"style")>=0)){var p=e.getAnimationStyleProps(),f=p?p.style:null;if(f){!o&&(o=n.style={});var m=(0,l.HP)(i);for(c=0;c<m.length;c++){d=m[c];if(f[d]){h=a[d];o[d]=h}}}}}}}function jw(e,t){return(0,l.Xj)(e)?e!==t:null!=e&&isFinite(e)}var Uw=(0,g.$r)(),Yw=["percent","easing","shape","style","extra"];function Zw(e){e.stopAnimation("keyframe"),e.attr(Uw(e))}function qw(e,t,i){if(i.isAnimationEnabled()&&t)if((0,l.cy)(t))(0,l.__)(t,(function(t){qw(e,t,i)}));else{var n=t.keyframes,o=t.duration;if(i&&null==o){var a=(0,m.Jw)("enter",i,0);o=a&&a.duration}if(n&&o){var r=Uw(e);(0,l.__)(Iw,(function(i){if(!i||e[i]){var a;n.sort((function(e,t){return e.percent-t.percent})),(0,l.__)(n,(function(n){var s=e.animators,u=i?n[i]:n;if(u){var c=(0,l.HP)(u);if(i||(c=(0,l.pb)(c,(function(e){return(0,l.qh)(Yw,e)<0}))),c.length){a||(a=e.animate(i,t.loop,!0),a.scope="keyframe");for(var d=0;d<s.length;d++)s[d]!==a&&s[d].targetName===a.targetName&&s[d].stopTracks(c);i&&(r[i]=r[i]||{});var h=i?r[i]:r;(0,l.__)(c,(function(t){h[t]=((i?e[i]:e)||{})[t]})),a.whenWithKeys(o*n.percent,u,c,n.easing)}}})),a&&a.delay(t.delay||0).duration(o).start(t.easing)}}))}}}var Kw="emphasis",Qw="normal",Jw="blur",eC="select",tC=[Qw,Kw,Jw,eC],iC={normal:["itemStyle"],emphasis:[Kw,"itemStyle"],blur:[Jw,"itemStyle"],select:[eC,"itemStyle"]},nC={normal:["label"],emphasis:[Kw,"label"],blur:[Jw,"label"],select:[eC,"label"]},oC=["x","y"],aC="e\0\0",rC={normal:{},emphasis:{},blur:{},select:{}},sC={cartesian2d:hw,geo:gw,single:mw,polar:vw,calendar:_w};function lC(e){return e instanceof b.Ay}function uC(e){return e instanceof Cd.Ay}function cC(e,t){t.copyTransform(e),uC(t)&&uC(e)&&(t.setStyle(e.style),t.z=e.z,t.z2=e.z2,t.zlevel=e.zlevel,t.invisible=e.invisible,t.ignore=e.ignore,lC(t)&&lC(e)&&t.setShape(e.shape))}var dC=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return(0,_e.C6)(t,e),t.prototype.render=function(e,t,i,n){this._progressiveEls=null;var o=this._data,a=e.getData(),r=this.group,s=vC(e,a,t,i);o||r.removeAll(),a.diff(o).add((function(t){xC(i,null,t,s(t,n),e,r,a)})).remove((function(t){var i=o.getItemGraphicEl(t);i&&Fw(i,lw(i).option,e)})).update((function(t,l){var u=o.getItemGraphicEl(l);xC(i,u,t,s(t,n),e,r,a)})).execute();var l=e.get("clip",!0)?_o(e.coordinateSystem,!1,e):null;l?r.setClipPath(l):r.removeClipPath(),this._data=a},t.prototype.incrementalPrepareRender=function(e,t,i){this.group.removeAll(),this._data=null},t.prototype.incrementalRender=function(e,t,i,n,o){var a=t.getData(),r=vC(t,a,i,n),s=this._progressiveEls=[];function l(e){e.isGroup||(e.incremental=!0,e.ensureState("emphasis").hoverLayer=!0)}for(var u=e.start;u<e.end;u++){var c=xC(null,null,u,r(u,o),t,this.group,a);c&&(c.traverse(l),s.push(c))}},t.prototype.eachRendered=function(e){Gn.traverseElements(this._progressiveEls||this.group,e)},t.prototype.filterForExposedEvent=function(e,t,i,n){var o=t.element;if(null==o||i.name===o)return!0;while((i=i.__hostTarget||i.parent)&&i!==this.group)if(i.name===o)return!0;return!1},t.type="custom",t}(a.A),hC=dC;function pC(e){var t,i=e.type;if("path"===i){var n=e.shape,o=null!=n.width&&null!=n.height?{x:n.x||0,y:n.y||0,width:n.width,height:n.height}:null,a=NC(n);t=Gn.makePath(a,null,o,n.layout||"center"),lw(t).customPathData=a}else if("image"===i)t=new Ge.Ay({}),lw(t).customImagePath=e.style.image;else if("text"===i)t=new Pt.Ay({});else if("group"===i)t=new En.A;else{if("compoundPath"===i)throw new Error('"compoundPath" is not supported yet.');var r=Gn.getShapeClass(i);if(!r){var s="";0,(0,N_.$8)(s)}t=new r}return lw(t).customGraphicType=i,t.name=e.name,t.z2EmphasisLift=1,t.z2SelectLift=1,t}function gC(e,t,i,n,o,a,r){Zw(t);var s=o&&o.normal.cfg;s&&t.setTextConfig(s),n&&null==n.transition&&(n.transition=oC);var u=n&&n.style;if(u){if("text"===t.type){var c=u;(0,l.$3)(c,"textFill")&&(c.fill=c.textFill),(0,l.$3)(c,"textStroke")&&(c.stroke=c.textStroke)}var d=void 0,h=lC(t)?u.decal:null;e&&h&&(h.dirty=!0,d=(0,wd.w)(h,e)),u.__decalPattern=d}if(uC(t)&&u){d=u.__decalPattern;d&&(u.decal=d)}Lw(t,n,a,{dataIndex:i,isInit:r,clearStyle:!0}),qw(t,n.keyframeAnimation,a)}function fC(e,t,i,n,o){var a=t.isGroup?null:t,r=o&&o[e].cfg;if(a){var s=a.ensureState(e);if(!1===n){var l=a.getState(e);l&&(l.style=null)}else s.style=n||null;r&&(s.textConfig=r),(0,I.DW)(a)}}function mC(e,t,i){if(!e.isGroup){var n=e,o=i.currentZ,a=i.currentZLevel;n.z=o,n.zlevel=a;var r=t.z2;null!=r&&(n.z2=r||0);for(var s=0;s<tC.length;s++)yC(n,t,tC[s])}}function yC(e,t,i){var n,o=i===Qw,a=o?t:kC(t,i),r=a?a.z2:null;null!=r&&(n=o?e:e.ensureState(i),n.z2=r||0)}function vC(e,t,i,n){var o=e.get("renderItem"),a=e.coordinateSystem,r={};a&&(r=a.prepareCustoms?a.prepareCustoms(a):sC[a.type](a));for(var s,u,c=(0,l.NT)({getWidth:n.getWidth,getHeight:n.getHeight,getZr:n.getZr,getDevicePixelRatio:n.getDevicePixelRatio,value:b,style:C,ordinalRawValue:w,styleEmphasis:S,visual:M,barLayout:I,currentSeriesIndices:T,font:D},r.api||{}),d={context:{},seriesId:e.id,seriesName:e.name,seriesIndex:e.seriesIndex,coordSys:r.coordSys,dataInsideLength:t.count(),encode:_C(e.getData())},h={},p={},g={},f={},m=0;m<tC.length;m++){var y=tC[m];g[y]=e.getModel(iC[y]),f[y]=e.getModel(nC[y])}function v(e){return e===s?u||(u=t.getItemModel(e)):t.getItemModel(e)}function _(e,i){return t.hasItemOption?e===s?h[i]||(h[i]=v(e).getModel(iC[i])):v(e).getModel(iC[i]):g[i]}function x(e,i){return t.hasItemOption?e===s?p[i]||(p[i]=v(e).getModel(nC[i])):v(e).getModel(nC[i]):f[i]}return function(e,i){return s=e,u=null,h={},p={},o&&o((0,l.NT)({dataIndexInside:e,dataIndex:t.getRawIndex(e),actionType:i?i.type:null},d),c)};function b(e,i){return null==i&&(i=s),t.getStore().get(t.getDimensionIndex(e||0),i)}function w(e,i){null==i&&(i=s),e=e||0;var n=t.getDimensionInfo(e);if(!n){var o=t.getDimensionIndex(e);return o>=0?t.getStore().get(o,i):void 0}var a=t.get(n.name,i),r=n&&n.ordinalMeta;return r?r.categories[a]:a}function C(i,n){null==n&&(n=s);var o=t.getItemVisual(n,"style"),a=o&&o.fill,r=o&&o.opacity,u=_(n,Qw).getItemStyle();null!=a&&(u.fill=a),null!=r&&(u.opacity=r);var c={inheritColor:(0,l.Kg)(a)?a:"#000"},d=x(n,Qw),h=ae.VB(d,null,c,!1,!0);h.text=d.getShallow("show")?(0,l.bZ)(e.getFormattedLabel(n,Qw),Bn(t,n)):null;var p=ae.sD(d,c,!1);return k(i,u),u=Cw(u,h,p),i&&A(u,i),u.legacy=!0,u}function S(i,n){null==n&&(n=s);var o=_(n,Kw).getItemStyle(),a=x(n,Kw),r=ae.VB(a,null,null,!0,!0);r.text=a.getShallow("show")?(0,l.WV)(e.getFormattedLabel(n,Kw),e.getFormattedLabel(n,Qw),Bn(t,n)):null;var u=ae.sD(a,null,!0);return k(i,o),o=Cw(o,r,u),i&&A(o,i),o.legacy=!0,o}function A(e,t){for(var i in t)(0,l.$3)(t,i)&&(e[i]=t[i])}function k(e,t){e&&(e.textFill&&(t.textFill=e.textFill),e.textPosition&&(t.textPosition=e.textPosition))}function M(e,i){if(null==i&&(i=s),(0,l.$3)(rw,e)){var n=t.getItemVisual(i,"style");return n?n[rw[e]]:null}if((0,l.$3)(sw,e))return t.getItemVisual(i,e)}function I(e){if("cartesian2d"===a.type){var t=a.getBaseAxis();return qo((0,l.NT)({axis:t},e))}}function T(){return i.getCurrentSeriesIndices()}function D(e){return ae.c8(e,i)}}function _C(e){var t={};return(0,l.__)(e.dimensions,(function(i){var n=e.getDimensionInfo(i);if(!n.isExtraCoord){var o=n.coordDim,a=t[o]=t[o]||[];a[n.coordDimIndex]=e.getDimensionIndex(i)}})),t}function xC(e,t,i,n,o,a,r){if(n){var s=bC(e,t,i,n,o,a);return s&&r.setItemGraphicEl(i,s),s&&(0,I.Lm)(s,n.focus,n.blurScope,n.emphasisDisabled),s}a.remove(t)}function bC(e,t,i,n,o,a){var r=-1,s=t;t&&wC(t,n,o)&&(r=(0,l.qh)(a.childrenRef(),t),t=null);var u=!t,c=t;c?c.clearStates():(c=pC(n),s&&cC(s,c)),!1===n.morph?c.disableMorphing=!0:c.disableMorphing&&(c.disableMorphing=!1),rC.normal.cfg=rC.normal.conOpt=rC.emphasis.cfg=rC.emphasis.conOpt=rC.blur.cfg=rC.blur.conOpt=rC.select.cfg=rC.select.conOpt=null,rC.isLegacy=!1,SC(c,i,n,o,u,rC),CC(c,i,n,o,u),gC(e,c,i,n,rC,o,u),(0,l.$3)(n,"info")&&(lw(c).info=n.info);for(var d=0;d<tC.length;d++){var h=tC[d];if(h!==Qw){var p=kC(n,h),g=MC(n,p,h);fC(h,c,p,g,rC)}}return mC(c,n,o),"group"===n.type&&IC(e,c,i,n,o),r>=0?a.replaceAt(c,r):a.add(c),c}function wC(e,t,i){var n=lw(e),o=t.type,a=t.shape,r=t.style;return i.isUniversalTransitionEnabled()||null!=o&&o!==n.customGraphicType||"path"===o&&RC(a)&&NC(a)!==n.customPathData||"image"===o&&(0,l.$3)(r,"image")&&r.image!==n.customImagePath}function CC(e,t,i,n,o){var a=i.clipPath;if(!1===a)e&&e.getClipPath()&&e.removeClipPath();else if(a){var r=e.getClipPath();r&&wC(r,a,n)&&(r=null),r||(r=pC(a),e.setClipPath(r)),gC(null,r,t,a,null,n,o)}}function SC(e,t,i,n,o,a){if(!e.isGroup){AC(i,null,a),AC(i,Kw,a);var r=a.normal.conOpt,s=a.emphasis.conOpt,l=a.blur.conOpt,u=a.select.conOpt;if(null!=r||null!=s||null!=u||null!=l){var c=e.getTextContent();if(!1===r)c&&e.removeTextContent();else{r=a.normal.conOpt=r||{type:"text"},c?c.clearStates():(c=pC(r),e.setTextContent(c)),gC(null,c,t,r,null,n,o);for(var d=r&&r.style,h=0;h<tC.length;h++){var p=tC[h];if(p!==Qw){var g=a[p].conOpt;fC(p,c,g,MC(r,g,p),null)}}d?c.dirty():c.markRedraw()}}}}function AC(e,t,i){var n=t?kC(e,t):e,o=t?MC(e,n,Kw):e.style,a=e.type,r=n?n.textConfig:null,s=e.textContent,l=s?t?kC(s,t):s:null;if(o&&(i.isLegacy||xw(o,a,!!r,!!l))){i.isLegacy=!0;var u=bw(o,a,!t);!r&&u.textConfig&&(r=u.textConfig),!l&&u.textContent&&(l=u.textContent)}if(!t&&l){var c=l;!c.type&&(c.type="text")}var d=t?i[t]:i.normal;d.cfg=r,d.conOpt=l}function kC(e,t){return t?e?e[t]:null:e}function MC(e,t,i){var n=t&&t.style;return null==n&&i===Kw&&e&&(n=e.styleEmphasis),n}function IC(e,t,i,n,o){var a=n.children,r=a?a.length:0,s=n.$mergeChildren,l="byName"===s||n.diffChildrenByName,u=!1===s;if(r||l||u)if(l)DC({api:e,oldChildren:t.children()||[],newChildren:a||[],dataIndex:i,seriesModel:o,group:t});else{u&&t.removeAll();for(var c=0;c<r;c++){var d=a[c],h=t.childAt(c);d?(null==d.ignore&&(d.ignore=!1),bC(e,h,i,d,o,t)):h.ignore=!0}for(var p=t.childCount()-1;p>=c;p--){var g=t.childAt(p);TC(t,g,o)}}}function TC(e,t,i){t&&Fw(t,lw(e).option,i)}function DC(e){new Ni(e.oldChildren,e.newChildren,LC,LC,e).add(PC).update(PC).remove(FC).execute()}function LC(e,t){var i=e&&e.name;return null!=i?i:aC+t}function PC(e,t){var i=this.context,n=null!=e?i.newChildren[e]:null,o=null!=t?i.oldChildren[t]:null;bC(i.api,o,i.dataIndex,n,i.seriesModel,i.group)}function FC(e){var t=this.context,i=t.oldChildren[e];i&&Fw(i,lw(i).option,t.seriesModel)}function NC(e){return e&&(e.pathData||e.d)}function RC(e){return e&&((0,l.$3)(e,"pathData")||(0,l.$3)(e,"d"))}function VC(e){e.registerChartView(hC),e.registerSeriesModel(cw)}var EC=(0,g.$r)(),OC=l.o8,zC=l.oI,GC=function(){function e(){this._dragging=!1,this.animationThreshold=15}return e.prototype.render=function(e,t,i,n){var o=t.get("value"),a=t.get("status");if(this._axisModel=e,this._axisPointerModel=t,this._api=i,n||this._lastValue!==o||this._lastStatus!==a){this._lastValue=o,this._lastStatus=a;var r=this._group,s=this._handle;if(!a||"hide"===a)return r&&r.hide(),void(s&&s.hide());r&&r.show(),s&&s.show();var u={};this.makeElOption(u,o,e,t,i);var c=u.graphicKey;c!==this._lastGraphicKey&&this.clear(i),this._lastGraphicKey=c;var d=this._moveAnimation=this.determineAnimation(e,t);if(r){var h=l.cF(BC,t,d);this.updatePointerEl(r,u,h),this.updateLabelEl(r,u,h,t)}else r=this._group=new En.A,this.createPointerEl(r,u,e,t),this.createLabelEl(r,u,e,t),i.getZr().add(r);$C(r,t,!0),this._renderHandle(o)}},e.prototype.remove=function(e){this.clear(e)},e.prototype.dispose=function(e){this.clear(e)},e.prototype.determineAnimation=function(e,t){var i=t.get("animation"),n=e.axis,o="category"===n.type,a=t.get("snap");if(!a&&!o)return!1;if("auto"===i||null==i){var r=this.animationThreshold;if(o&&n.getBandWidth()>r)return!0;if(a){var s=nu(e).seriesDataCount,l=n.getExtent();return Math.abs(l[0]-l[1])/s>r}return!1}return!0===i},e.prototype.makeElOption=function(e,t,i,n,o){},e.prototype.createPointerEl=function(e,t,i,n){var o=t.pointer;if(o){var a=EC(e).pointerEl=new Gn[o.type](OC(t.pointer));e.add(a)}},e.prototype.createLabelEl=function(e,t,i,n){if(t.label){var o=EC(e).labelEl=new Pt.Ay(OC(t.label));e.add(o),HC(o,n)}},e.prototype.updatePointerEl=function(e,t,i){var n=EC(e).pointerEl;n&&t.pointer&&(n.setStyle(t.pointer.style),i(n,{shape:t.pointer.shape}))},e.prototype.updateLabelEl=function(e,t,i,n){var o=EC(e).labelEl;o&&(o.setStyle(t.label.style),i(o,{x:t.label.x,y:t.label.y}),HC(o,n))},e.prototype._renderHandle=function(e){if(!this._dragging&&this.updateHandleTransform){var t,i=this._axisPointerModel,n=this._api.getZr(),o=this._handle,a=i.getModel("handle"),r=i.get("status");if(!a.get("show")||!r||"hide"===r)return o&&n.remove(o),void(this._handle=null);this._handle||(t=!0,o=this._handle=Gn.createIcon(a.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(e){Yu.ds(e.event)},onmousedown:zC(this._onHandleDragMove,this,0,0),drift:zC(this._onHandleDragMove,this),ondragend:zC(this._onHandleDragEnd,this)}),n.add(o)),$C(o,i,!1),o.setStyle(a.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var s=a.get("size");l.cy(s)||(s=[s,s]),o.scaleX=s[0]/2,o.scaleY=s[1]/2,ha.N(this,"_doDispatchAxisPointer",a.get("throttle")||0,"fixRate"),this._moveHandleToValue(e,t)}},e.prototype._moveHandleToValue=function(e,t){BC(this._axisPointerModel,!t&&this._moveAnimation,this._handle,XC(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))},e.prototype._onHandleDragMove=function(e,t){var i=this._handle;if(i){this._dragging=!0;var n=this.updateHandleTransform(XC(i),[e,t],this._axisModel,this._axisPointerModel);this._payloadInfo=n,i.stopAnimation(),i.attr(XC(n)),EC(i).lastProp=null,this._doDispatchAxisPointer()}},e.prototype._doDispatchAxisPointer=function(){var e=this._handle;if(e){var t=this._payloadInfo,i=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:i.axis.dim,axisIndex:i.componentIndex}]})}},e.prototype._onHandleDragEnd=function(){this._dragging=!1;var e=this._handle;if(e){var t=this._axisPointerModel.get("value");this._moveHandleToValue(t),this._api.dispatchAction({type:"hideTip"})}},e.prototype.clear=function(e){this._lastValue=null,this._lastStatus=null;var t=e.getZr(),i=this._group,n=this._handle;t&&i&&(this._lastGraphicKey=null,i&&t.remove(i),n&&t.remove(n),this._group=null,this._handle=null,this._payloadInfo=null),ha.IU(this,"_doDispatchAxisPointer")},e.prototype.doClear=function(){},e.prototype.buildLabel=function(e,t,i){return i=i||0,{x:e[i],y:e[1-i],width:t[i],height:t[1-i]}},e}();function BC(e,t,i,n){WC(EC(i).lastProp,n)||(EC(i).lastProp=n,t?m.oi(i,n,e):(i.stopAnimation(),i.attr(n)))}function WC(e,t){if(l.Gv(e)&&l.Gv(t)){var i=!0;return l.__(t,(function(t,n){i=i&&WC(e[n],t)})),!!i}return e===t}function HC(e,t){e[t.get(["label","show"])?"show":"hide"]()}function XC(e){return{x:e.x||0,y:e.y||0,rotation:e.rotation||0}}function $C(e,t,i){var n=t.get("z"),o=t.get("zlevel");e&&e.traverse((function(e){"group"!==e.type&&(null!=n&&(e.z=n),null!=o&&(e.zlevel=o),e.silent=i)}))}var jC=GC;function UC(e){var t,i=e.get("type"),n=e.getModel(i+"Style");return"line"===i?(t=n.getLineStyle(),t.fill=null):"shadow"===i&&(t=n.getAreaStyle(),t.stroke=null),t}function YC(e,t,i,n,o){var a=i.get("value"),r=qC(a,t.axis,t.ecModel,i.get("seriesDataIndices"),{precision:i.get(["label","precision"]),formatter:i.get(["label","formatter"])}),s=i.getModel("label"),l=bo.QX(s.get("padding")||0),u=s.getFont(),c=Be.NO(r,u),d=o.position,h=c.width+l[1]+l[3],p=c.height+l[0]+l[2],g=o.align;"right"===g&&(d[0]-=h),"center"===g&&(d[0]-=h/2);var f=o.verticalAlign;"bottom"===f&&(d[1]-=p),"middle"===f&&(d[1]-=p/2),ZC(d,h,p,n);var m=s.get("backgroundColor");m&&"auto"!==m||(m=t.get(["axisLine","lineStyle","color"])),e.label={x:d[0],y:d[1],style:(0,ae.VB)(s,{text:r,font:u,fill:s.getTextColor(),padding:l,backgroundColor:m}),z2:10}}function ZC(e,t,i,n){var o=n.getWidth(),a=n.getHeight();e[0]=Math.min(e[0]+t,o)-t,e[1]=Math.min(e[1]+i,a)-i,e[0]=Math.max(e[0],0),e[1]=Math.max(e[1],0)}function qC(e,t,i,n,o){e=t.scale.parse(e);var a=t.scale.getLabel({value:e},{precision:o.precision}),r=o.formatter;if(r){var s={value:Hs(t,{value:e}),axisDimension:t.dim,axisIndex:t.index,seriesData:[]};l.__(n,(function(e){var t=i.getSeriesByIndex(e.seriesIndex),n=e.dataIndexInside,o=t&&t.getDataParams(n);o&&s.seriesData.push(o)})),l.Kg(r)?a=r.replace("{value}",a):l.Tn(r)&&(a=r(s))}return a}function KC(e,t,i){var n=k.vt();return k.e$(n,n,i.rotation),k.Tl(n,n,i.position),Gn.applyTransform([e.dataToCoord(t),(i.labelOffset||0)+(i.labelDirection||1)*(i.labelMargin||0)],n)}function QC(e,t,i,n,o,a){var r=Zl.innerTextLayout(i.rotation,0,i.labelDirection);i.labelMargin=o.get(["label","margin"]),YC(t,n,o,a,{position:KC(n.axis,e,i),align:r.textAlign,verticalAlign:r.textVerticalAlign})}function JC(e,t,i){return i=i||0,{x1:e[i],y1:e[1-i],x2:t[i],y2:t[1-i]}}function eS(e,t,i){return i=i||0,{x:e[i],y:e[1-i],width:t[i],height:t[1-i]}}function tS(e,t,i,n,o,a){return{cx:e,cy:t,r0:i,r:n,startAngle:o,endAngle:a,clockwise:!0}}var iS=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,_e.C6)(t,e),t.prototype.makeElOption=function(e,t,i,n,o){var a=i.axis,r=a.grid,s=n.get("type"),l=nS(r,a).getOtherAxis(a).getGlobalExtent(),u=a.toGlobalCoord(a.dataToCoord(t,!0));if(s&&"none"!==s){var c=UC(n),d=oS[s](a,u,l);d.style=c,e.graphicKey=d.type,e.pointer=d}var h=Al(r.model,i);QC(t,e,h,i,n,o)},t.prototype.getHandleTransform=function(e,t,i){var n=Al(t.axis.grid.model,t,{labelInside:!1});n.labelMargin=i.get(["handle","margin"]);var o=KC(t.axis,e,n);return{x:o[0],y:o[1],rotation:n.rotation+(n.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(e,t,i,n){var o=i.axis,a=o.grid,r=o.getGlobalExtent(!0),s=nS(a,o).getOtherAxis(o).getGlobalExtent(),l="x"===o.dim?0:1,u=[e.x,e.y];u[l]+=t[l],u[l]=Math.min(r[1],u[l]),u[l]=Math.max(r[0],u[l]);var c=(s[1]+s[0])/2,d=[c,c];d[l]=u[l];var h=[{verticalAlign:"middle"},{align:"center"}];return{x:u[0],y:u[1],rotation:e.rotation,cursorPoint:d,tooltipOption:h[l]}},t}(jC);function nS(e,t){var i={};return i[t.dim+"AxisIndex"]=t.index,e.getCartesian(i)}var oS={line:function(e,t,i){var n=JC([t,i[0]],[t,i[1]],aS(e));return{type:"Line",subPixelOptimize:!0,shape:n}},shadow:function(e,t,i){var n=Math.max(1,e.getBandWidth()),o=i[1]-i[0];return{type:"Rect",shape:eS([t-n/2,i[0]],[n,o],aS(e))}}};function aS(e){return"x"===e.dim?0:1}var rS=iS,sS=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return(0,_e.C6)(t,e),t.type="axisPointer",t.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},t}(r.A),lS=sS,uS=(0,g.$r)(),cS=l.__;function dS(e,t,i){if(!Te.A.node){var n=t.getZr();uS(n).records||(uS(n).records={}),hS(n,t);var o=uS(n).records[e]||(uS(n).records[e]={});o.handler=i}}function hS(e,t){function i(i,n){e.on(i,(function(i){var o=mS(t);cS(uS(e).records,(function(e){e&&n(e,i,o.dispatchAction)})),pS(o.pendings,t)}))}uS(e).initialized||(uS(e).initialized=!0,i("click",l.cF(fS,"click")),i("mousemove",l.cF(fS,"mousemove")),i("globalout",gS))}function pS(e,t){var i,n=e.showTip.length,o=e.hideTip.length;n?i=e.showTip[n-1]:o&&(i=e.hideTip[o-1]),i&&(i.dispatchAction=null,t.dispatchAction(i))}function gS(e,t,i){e.handler("leave",null,i)}function fS(e,t,i,n){t.handler(e,i,n)}function mS(e){var t={showTip:[],hideTip:[]},i=function(n){var o=t[n.type];o?o.push(n):(n.dispatchAction=i,e.dispatchAction(n))};return{dispatchAction:i,pendings:t}}function yS(e,t){if(!Te.A.node){var i=t.getZr(),n=(uS(i).records||{})[e];n&&(uS(i).records[e]=null)}}var vS=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return(0,_e.C6)(t,e),t.prototype.render=function(e,t,i){var n=t.getComponent("tooltip"),o=e.get("triggerOn")||n&&n.get("triggerOn")||"mousemove|click";dS("axisPointer",i,(function(e,t,i){"none"!==o&&("leave"===e||o.indexOf(e)>=0)&&i({type:"updateAxisPointer",currTrigger:e,x:t&&t.offsetX,y:t&&t.offsetY})}))},t.prototype.remove=function(e,t){yS("axisPointer",t)},t.prototype.dispose=function(e,t){yS("axisPointer",t)},t.type="axisPointer",t}(o.A),_S=vS;function xS(e,t){var i,n=[],o=e.seriesIndex;if(null==o||!(i=t.getSeriesByIndex(o)))return{point:[]};var a=i.getData(),r=g.le(a,e);if(null==r||r<0||l.cy(r))return{point:[]};var s=a.getItemGraphicEl(r),u=i.coordinateSystem;if(i.getTooltipPosition)n=i.getTooltipPosition(r)||[];else if(u&&u.dataToPoint)if(e.isStacked){var c=u.getBaseAxis(),d=u.getOtherAxis(c),h=d.dim,p=c.dim,f="x"===h||"radius"===h?1:0,m=a.mapDimension(p),y=[];y[f]=a.get(m,r),y[1-f]=a.get(a.getCalculationInfo("stackResultDimension"),r),n=u.dataToPoint(y)||[]}else n=u.dataToPoint(a.getValues(l.Tj(u.dimensions,(function(e){return a.mapDimension(e)})),r))||[];else if(s){var v=s.getBoundingRect().clone();v.applyTransform(s.transform),n=[v.x+v.width/2,v.y+v.height/2]}return{point:n,el:s}}var bS=(0,g.$r)();function wS(e,t,i){var n=e.currTrigger,o=[e.x,e.y],a=e,r=e.dispatchAction||(0,l.oI)(i.dispatchAction,i),s=t.getComponent("axisPointer").coordSysAxesInfo;if(s){PS(o)&&(o=xS({seriesIndex:a.seriesIndex,dataIndex:a.dataIndex},t).point);var u=PS(o),c=a.axesInfo,d=s.axesInfo,h="leave"===n||PS(o),p={},g={},f={list:[],map:{}},m={showPointer:(0,l.cF)(AS,g),showTooltip:(0,l.cF)(kS,f)};(0,l.__)(s.coordSysMap,(function(e,t){var i=u||e.containPoint(o);(0,l.__)(s.coordSysAxesInfo[t],(function(e,t){var n=e.axis,a=DS(c,e);if(!h&&i&&(!c||a)){var r=a&&a.value;null!=r||u||(r=n.pointToData(o)),null!=r&&CS(e,r,m,!1,p)}}))}));var y={};return(0,l.__)(d,(function(e,t){var i=e.linkGroup;i&&!g[t]&&(0,l.__)(i.axesInfo,(function(t,n){var o=g[n];if(t!==e&&o){var a=o.value;i.mapper&&(a=e.axis.scale.parse(i.mapper(a,LS(t),LS(e)))),y[e.key]=a}}))})),(0,l.__)(y,(function(e,t){CS(d[t],e,m,!0,p)})),MS(g,d,p),IS(f,o,e,r),TS(d,r,i),p}}function CS(e,t,i,n,o){var a=e.axis;if(!a.scale.isBlank()&&a.containData(t))if(e.involveSeries){var r=SS(t,e),s=r.payloadBatch,u=r.snapToValue;s[0]&&null==o.seriesIndex&&(0,l.X$)(o,s[0]),!n&&e.snap&&a.containData(u)&&null!=u&&(t=u),i.showPointer(e,t,s),i.showTooltip(e,r,u)}else i.showPointer(e,t)}function SS(e,t){var i=t.axis,n=i.dim,o=e,a=[],r=Number.MAX_VALUE,s=-1;return(0,l.__)(t.seriesModels,(function(t,u){var c,d,h=t.getData().mapDimensionsAll(n);if(t.getAxisTooltipData){var p=t.getAxisTooltipData(h,e,i);d=p.dataIndices,c=p.nestestValue}else{if(d=t.getData().indicesOfNearest(h[0],e,"category"===i.type?.5:null),!d.length)return;c=t.getData().get(h[0],d[0])}if(null!=c&&isFinite(c)){var g=e-c,f=Math.abs(g);f<=r&&((f<r||g>=0&&s<0)&&(r=f,s=g,o=c,a.length=0),(0,l.__)(d,(function(e){a.push({seriesIndex:t.seriesIndex,dataIndexInside:e,dataIndex:t.getData().getRawIndex(e)})})))}})),{payloadBatch:a,snapToValue:o}}function AS(e,t,i,n){e[t.key]={value:i,payloadBatch:n}}function kS(e,t,i,n){var o=i.payloadBatch,a=t.axis,r=a.model,s=t.axisPointerModel;if(t.triggerTooltip&&o.length){var l=t.coordSys.model,u=ru(l),c=e.map[u];c||(c=e.map[u]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},e.list.push(c)),c.dataByAxis.push({axisDim:a.dim,axisIndex:r.componentIndex,axisType:r.type,axisId:r.id,value:n,valueLabelOpt:{precision:s.get(["label","precision"]),formatter:s.get(["label","formatter"])},seriesDataIndices:o.slice()})}}function MS(e,t,i){var n=i.axesInfo=[];(0,l.__)(t,(function(t,i){var o=t.axisPointerModel.option,a=e[i];a?(!t.useHandle&&(o.status="show"),o.value=a.value,o.seriesDataIndices=(a.payloadBatch||[]).slice()):!t.useHandle&&(o.status="hide"),"show"===o.status&&n.push({axisDim:t.axis.dim,axisIndex:t.axis.model.componentIndex,value:o.value})}))}function IS(e,t,i,n){if(!PS(t)&&e.list.length){var o=((e.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};n({type:"showTip",escapeConnect:!0,x:t[0],y:t[1],tooltipOption:i.tooltipOption,position:i.position,dataIndexInside:o.dataIndexInside,dataIndex:o.dataIndex,seriesIndex:o.seriesIndex,dataByCoordSys:e.list})}else n({type:"hideTip"})}function TS(e,t,i){var n=i.getZr(),o="axisPointerLastHighlights",a=bS(n)[o]||{},r=bS(n)[o]={};(0,l.__)(e,(function(e,t){var i=e.axisPointerModel.option;"show"===i.status&&e.triggerEmphasis&&(0,l.__)(i.seriesDataIndices,(function(e){var t=e.seriesIndex+" | "+e.dataIndex;r[t]=e}))}));var s=[],u=[];(0,l.__)(a,(function(e,t){!r[t]&&u.push(e)})),(0,l.__)(r,(function(e,t){!a[t]&&s.push(e)})),u.length&&i.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:u}),s.length&&i.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:s})}function DS(e,t){for(var i=0;i<(e||[]).length;i++){var n=e[i];if(t.axis.dim===n.axisDim&&t.axis.model.componentIndex===n.axisIndex)return n}}function LS(e){var t=e.axis.model,i={},n=i.axisDim=e.axis.dim;return i.axisIndex=i[n+"AxisIndex"]=t.componentIndex,i.axisName=i[n+"AxisName"]=t.name,i.axisId=i[n+"AxisId"]=t.id,i}function PS(e){return!e||null==e[0]||isNaN(e[0])||null==e[1]||isNaN(e[1])}function FS(e){uu.registerAxisPointerClass("CartesianAxisPointer",rS),e.registerComponentModel(lS),e.registerComponentView(_S),e.registerPreprocessor((function(e){if(e){(!e.axisPointer||0===e.axisPointer.length)&&(e.axisPointer={});var t=e.axisPointer.link;t&&!(0,l.cy)(t)&&(e.axisPointer.link=[t])}})),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,(function(e,t){e.getComponent("axisPointer").coordSysAxesInfo=ql(e,t)})),e.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},wS)}function NS(e){p(bu),p(FS)}var RS=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,_e.C6)(t,e),t.prototype.makeElOption=function(e,t,i,n,o){var a=i.axis;"angle"===a.dim&&(this.animationThreshold=Math.PI/18);var r=a.polar,s=r.getOtherAxis(a),l=s.getExtent(),u=a.dataToCoord(t),c=n.get("type");if(c&&"none"!==c){var d=UC(n),h=ES[c](a,r,u,l);h.style=d,e.graphicKey=h.type,e.pointer=h}var p=n.get(["label","margin"]),g=VS(t,i,n,r,p);YC(e,i,n,o,g)},t}(jC);function VS(e,t,i,n,o){var a=t.axis,r=a.dataToCoord(e),s=n.getAngleAxis().getExtent()[0];s=s/180*Math.PI;var l,u,c,d=n.getRadiusAxis().getExtent();if("radius"===a.dim){var h=k.vt();k.e$(h,h,s),k.Tl(h,h,[n.cx,n.cy]),l=Gn.applyTransform([r,-o],h);var p=t.getModel("axisLabel").get("rotate")||0,g=Zl.innerTextLayout(s,p*Math.PI/180,-1);u=g.textAlign,c=g.textVerticalAlign}else{var f=d[1];l=n.coordToPoint([f+o,r]);var m=n.cx,y=n.cy;u=Math.abs(l[0]-m)/f<.3?"center":l[0]>m?"left":"right",c=Math.abs(l[1]-y)/f<.3?"middle":l[1]>y?"top":"bottom"}return{position:l,align:u,verticalAlign:c}}var ES={line:function(e,t,i,n){return"angle"===e.dim?{type:"Line",shape:JC(t.coordToPoint([n[0],i]),t.coordToPoint([n[1],i]))}:{type:"Circle",shape:{cx:t.cx,cy:t.cy,r:i}}},shadow:function(e,t,i,n){var o=Math.max(1,e.getBandWidth()),a=Math.PI/180;return"angle"===e.dim?{type:"Sector",shape:tS(t.cx,t.cy,n[0],n[1],(-i-o/2)*a,(o/2-i)*a)}:{type:"Sector",shape:tS(t.cx,t.cy,i-o/2,i+o/2,0,2*Math.PI)}}},OS=RS,zS=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return(0,_e.C6)(t,e),t.prototype.findAxisModel=function(e){var t,i=this.ecModel;return i.eachComponent(e,(function(e){e.getCoordSysModel()===this&&(t=e)}),this),t},t.type="polar",t.dependencies=["radiusAxis","angleAxis"],t.defaultOption={z:0,center:["50%","50%"],radius:"80%"},t}(r.A),GS=zS,BS=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,_e.C6)(t,e),t.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",g.US).models[0]},t.type="polarAxis",t}(r.A);l.co(BS,Dr);var WS=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return(0,_e.C6)(t,e),t.type="angleAxis",t}(BS),HS=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return(0,_e.C6)(t,e),t.type="radiusAxis",t}(BS),XS=function(e){function t(t,i){return e.call(this,"radius",t,i)||this}return(0,_e.C6)(t,e),t.prototype.pointToData=function(e,t){return this.polar.pointToData(e,t)["radius"===this.dim?0:1]},t}(wl);XS.prototype.dataToRadius=wl.prototype.dataToCoord,XS.prototype.radiusToData=wl.prototype.coordToData;var $S=XS,jS=(0,g.$r)(),US=function(e){function t(t,i){return e.call(this,"angle",t,i||[0,360])||this}return(0,_e.C6)(t,e),t.prototype.pointToData=function(e,t){return this.polar.pointToData(e,t)["radius"===this.dim?0:1]},t.prototype.calculateCategoryInterval=function(){var e=this,t=e.getLabelModel(),i=e.scale,n=i.getExtent(),o=i.count();if(n[1]-n[0]<1)return 0;var a=n[0],r=e.dataToCoord(a+1)-e.dataToCoord(a),s=Math.abs(r),l=Be.NO(null==a?"":a+"",t.getFont(),"center","top"),u=Math.max(l.height,7),c=u/s;isNaN(c)&&(c=1/0);var d=Math.max(0,Math.floor(c)),h=jS(e.model),p=h.lastAutoInterval,g=h.lastTickCount;return null!=p&&null!=g&&Math.abs(p-d)<=1&&Math.abs(g-o)<=1&&p>d?d=p:(h.lastTickCount=o,h.lastAutoInterval=d),d},t}(wl);US.prototype.dataToAngle=wl.prototype.dataToCoord,US.prototype.angleToData=wl.prototype.coordToData;var YS=US,ZS=["radius","angle"],qS=function(){function e(e){this.dimensions=ZS,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new $S,this._angleAxis=new YS,this.axisPointerEnabled=!0,this.name=e||"",this._radiusAxis.polar=this._angleAxis.polar=this}return e.prototype.containPoint=function(e){var t=this.pointToCoord(e);return this._radiusAxis.contain(t[0])&&this._angleAxis.contain(t[1])},e.prototype.containData=function(e){return this._radiusAxis.containData(e[0])&&this._angleAxis.containData(e[1])},e.prototype.getAxis=function(e){var t="_"+e+"Axis";return this[t]},e.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},e.prototype.getAxesByScale=function(e){var t=[],i=this._angleAxis,n=this._radiusAxis;return i.scale.type===e&&t.push(i),n.scale.type===e&&t.push(n),t},e.prototype.getAngleAxis=function(){return this._angleAxis},e.prototype.getRadiusAxis=function(){return this._radiusAxis},e.prototype.getOtherAxis=function(e){var t=this._angleAxis;return e===t?this._radiusAxis:t},e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},e.prototype.getTooltipAxes=function(e){var t=null!=e&&"auto"!==e?this.getAxis(e):this.getBaseAxis();return{baseAxes:[t],otherAxes:[this.getOtherAxis(t)]}},e.prototype.dataToPoint=function(e,t){return this.coordToPoint([this._radiusAxis.dataToRadius(e[0],t),this._angleAxis.dataToAngle(e[1],t)])},e.prototype.pointToData=function(e,t){var i=this.pointToCoord(e);return[this._radiusAxis.radiusToData(i[0],t),this._angleAxis.angleToData(i[1],t)]},e.prototype.pointToCoord=function(e){var t=e[0]-this.cx,i=e[1]-this.cy,n=this.getAngleAxis(),o=n.getExtent(),a=Math.min(o[0],o[1]),r=Math.max(o[0],o[1]);n.inverse?a=r-360:r=a+360;var s=Math.sqrt(t*t+i*i);t/=s,i/=s;var l=Math.atan2(-i,t)/Math.PI*180,u=l<a?1:-1;while(l<a||l>r)l+=360*u;return[s,l]},e.prototype.coordToPoint=function(e){var t=e[0],i=e[1]/180*Math.PI,n=Math.cos(i)*t+this.cx,o=-Math.sin(i)*t+this.cy;return[n,o]},e.prototype.getArea=function(){var e=this.getAngleAxis(),t=this.getRadiusAxis(),i=t.getExtent().slice();i[0]>i[1]&&i.reverse();var n=e.getExtent(),o=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:i[0],r:i[1],startAngle:-n[0]*o,endAngle:-n[1]*o,clockwise:e.inverse,contain:function(e,t){var i=e-this.cx,n=t-this.cy,o=i*i+n*n-1e-4,a=this.r,r=this.r0;return o<=a*a&&o>=r*r}}},e.prototype.convertToPixel=function(e,t,i){var n=KS(t);return n===this?this.dataToPoint(i):null},e.prototype.convertFromPixel=function(e,t,i){var n=KS(t);return n===this?this.pointToData(i):null},e}();function KS(e){var t=e.seriesModel,i=e.polarModel;return i&&i.coordinateSystem||t&&t.coordinateSystem}var QS=qS;function JS(e,t,i){var n=t.get("center"),o=i.getWidth(),a=i.getHeight();e.cx=(0,v.lo)(n[0],o),e.cy=(0,v.lo)(n[1],a);var r=e.getRadiusAxis(),s=Math.min(o,a)/2,u=t.get("radius");null==u?u=[0,"100%"]:l.cy(u)||(u=[0,u]);var c=[(0,v.lo)(u[0],s),(0,v.lo)(u[1],s)];r.inverse?r.setExtent(c[1],c[0]):r.setExtent(c[0],c[1])}function eA(e,t){var i=this,n=i.getAngleAxis(),o=i.getRadiusAxis();if(n.scale.setExtent(1/0,-1/0),o.scale.setExtent(1/0,-1/0),e.eachSeries((function(e){if(e.coordinateSystem===i){var t=e.getData();l.__(Ys(t,"radius"),(function(e){o.scale.unionExtentFromData(t,e)})),l.__(Ys(t,"angle"),(function(e){n.scale.unionExtentFromData(t,e)}))}})),zs(n.scale,n.model),zs(o.scale,o.model),"category"===n.type&&!n.onBand){var a=n.getExtent(),r=360/n.scale.count();n.inverse?a[1]+=r:a[1]-=r,n.setExtent(a[0],a[1])}}function tA(e){return"angleAxis"===e.mainType}function iA(e,t){var i;if(e.type=t.get("type"),e.scale=Gs(t),e.onBand=t.get("boundaryGap")&&"category"===e.type,e.inverse=t.get("inverse"),tA(t)){e.inverse=e.inverse!==t.get("clockwise");var n=t.get("startAngle"),o=null!==(i=t.get("endAngle"))&&void 0!==i?i:n+(e.inverse?-360:360);e.setExtent(n,o)}t.axis=e,e.model=t}var nA={dimensions:ZS,create:function(e,t){var i=[];return e.eachComponent("polar",(function(e,n){var o=new QS(n+"");o.update=eA;var a=o.getRadiusAxis(),r=o.getAngleAxis(),s=e.findAxisModel("radiusAxis"),l=e.findAxisModel("angleAxis");iA(a,s),iA(r,l),JS(o,e,t),i.push(o),e.coordinateSystem=o,o.model=e})),e.eachSeries((function(e){if("polar"===e.get("coordinateSystem")){var t=e.getReferringComponents("polar",g.US).models[0];0,e.coordinateSystem=t.coordinateSystem}})),i}},oA=nA,aA=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function rA(e,t,i){t[1]>t[0]&&(t=t.slice().reverse());var n=e.coordToPoint([t[0],i]),o=e.coordToPoint([t[1],i]);return{x1:n[0],y1:n[1],x2:o[0],y2:o[1]}}function sA(e){var t=e.getRadiusAxis();return t.inverse?0:1}function lA(e){var t=e[0],i=e[e.length-1];t&&i&&Math.abs(Math.abs(t.coord-i.coord)-360)<1e-4&&e.pop()}var uA=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i.axisPointerClass="PolarAxisPointer",i}return(0,_e.C6)(t,e),t.prototype.render=function(e,t){if(this.group.removeAll(),e.get("show")){var i=e.axis,n=i.polar,o=n.getRadiusAxis().getExtent(),a=i.getTicksCoords(),r=i.getMinorTicksCoords(),s=l.Tj(i.getViewLabels(),(function(e){e=l.o8(e);var t=i.scale,n="ordinal"===t.type?t.getRawOrdinalNumber(e.tickValue):e.tickValue;return e.coord=i.dataToCoord(n),e}));lA(s),lA(a),l.__(aA,(function(t){!e.get([t,"show"])||i.scale.isBlank()&&"axisLine"!==t||cA[t](this.group,e,n,a,r,o,s)}),this)}},t.type="angleAxis",t}(uu),cA={axisLine:function(e,t,i,n,o,a){var r,s=t.getModel(["axisLine","lineStyle"]),l=i.getAngleAxis(),u=Math.PI/180,c=l.getExtent(),d=sA(i),h=d?0:1,p=360===Math.abs(c[1]-c[0])?"Circle":"Arc";r=0===a[h]?new Gn[p]({shape:{cx:i.cx,cy:i.cy,r:a[d],startAngle:-c[0]*u,endAngle:-c[1]*u,clockwise:l.inverse},style:s.getLineStyle(),z2:1,silent:!0}):new Ou.A({shape:{cx:i.cx,cy:i.cy,r:a[d],r0:a[h]},style:s.getLineStyle(),z2:1,silent:!0}),r.style.fill=null,e.add(r)},axisTick:function(e,t,i,n,o,a){var r=t.getModel("axisTick"),s=(r.get("inside")?-1:1)*r.get("length"),u=a[sA(i)],c=l.Tj(n,(function(e){return new Vl.A({shape:rA(i,[u,u+s],e.coord)})}));e.add(Gn.mergePath(c,{style:l.NT(r.getModel("lineStyle").getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])})}))},minorTick:function(e,t,i,n,o,a){if(o.length){for(var r=t.getModel("axisTick"),s=t.getModel("minorTick"),u=(r.get("inside")?-1:1)*s.get("length"),c=a[sA(i)],d=[],h=0;h<o.length;h++)for(var p=0;p<o[h].length;p++)d.push(new Vl.A({shape:rA(i,[c,c+u],o[h][p].coord)}));e.add(Gn.mergePath(d,{style:l.NT(s.getModel("lineStyle").getLineStyle(),l.NT(r.getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(e,t,i,n,o,a,r){var s=t.getCategories(!0),u=t.getModel("axisLabel"),c=u.get("margin"),d=t.get("triggerEvent");l.__(r,(function(n,o){var r=u,h=n.tickValue,p=a[sA(i)],g=i.coordToPoint([p+c,n.coord]),f=i.cx,m=i.cy,v=Math.abs(g[0]-f)/p<.3?"center":g[0]>f?"left":"right",_=Math.abs(g[1]-m)/p<.3?"middle":g[1]>m?"top":"bottom";if(s&&s[h]){var x=s[h];l.Gv(x)&&x.textStyle&&(r=new Di.A(x.textStyle,u,u.ecModel))}var b=new Pt.Ay({silent:Zl.isLabelSilent(t),style:(0,ae.VB)(r,{x:g[0],y:g[1],fill:r.getTextColor()||t.get(["axisLine","lineStyle","color"]),text:n.formattedLabel,align:v,verticalAlign:_})});if(e.add(b),d){var w=Zl.makeAxisEventDataBase(t);w.targetType="axisLabel",w.value=n.rawLabel,(0,y.z)(b).eventData=w}}),this)},splitLine:function(e,t,i,n,o,a){var r=t.getModel("splitLine"),s=r.getModel("lineStyle"),u=s.get("color"),c=0;u=u instanceof Array?u:[u];for(var d=[],h=0;h<n.length;h++){var p=c++%u.length;d[p]=d[p]||[],d[p].push(new Vl.A({shape:rA(i,a,n[h].coord)}))}for(h=0;h<d.length;h++)e.add(Gn.mergePath(d[h],{style:l.NT({stroke:u[h%u.length]},s.getLineStyle()),silent:!0,z:t.get("z")}))},minorSplitLine:function(e,t,i,n,o,a){if(o.length){for(var r=t.getModel("minorSplitLine"),s=r.getModel("lineStyle"),l=[],u=0;u<o.length;u++)for(var c=0;c<o[u].length;c++)l.push(new Vl.A({shape:rA(i,a,o[u][c].coord)}));e.add(Gn.mergePath(l,{style:s.getLineStyle(),silent:!0,z:t.get("z")}))}},splitArea:function(e,t,i,n,o,a){if(n.length){var r=t.getModel("splitArea"),s=r.getModel("areaStyle"),u=s.get("color"),c=0;u=u instanceof Array?u:[u];for(var d=[],h=Math.PI/180,p=-n[0].coord*h,g=Math.min(a[0],a[1]),f=Math.max(a[0],a[1]),m=t.get("clockwise"),y=1,v=n.length;y<=v;y++){var _=y===v?n[0].coord:n[y].coord,x=c++%u.length;d[x]=d[x]||[],d[x].push(new mo.A({shape:{cx:i.cx,cy:i.cy,r0:g,r:f,startAngle:p,endAngle:-_*h,clockwise:m},silent:!0})),p=-_*h}for(y=0;y<d.length;y++)e.add(Gn.mergePath(d[y],{style:l.NT({fill:u[y%u.length]},s.getAreaStyle()),silent:!0}))}}},dA=uA,hA=["axisLine","axisTickLabel","axisName"],pA=["splitLine","splitArea","minorSplitLine"],gA=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i.axisPointerClass="PolarAxisPointer",i}return(0,_e.C6)(t,e),t.prototype.render=function(e,t){if(this.group.removeAll(),e.get("show")){var i=this._axisGroup,n=this._axisGroup=new En.A;this.group.add(n);var o=e.axis,a=o.polar,r=a.getAngleAxis(),s=o.getTicksCoords(),u=o.getMinorTicksCoords(),c=r.getExtent()[0],d=o.getExtent(),h=mA(a,e,c),p=new Zl(e,h);l.__(hA,p.add,p),n.add(p.getGroup()),Gn.groupTransition(i,n,e),l.__(pA,(function(t){e.get([t,"show"])&&!o.scale.isBlank()&&fA[t](this.group,e,a,c,d,s,u)}),this)}},t.type="radiusAxis",t}(uu),fA={splitLine:function(e,t,i,n,o,a){var r=t.getModel("splitLine"),s=r.getModel("lineStyle"),u=s.get("color"),c=0,d=i.getAngleAxis(),h=Math.PI/180,p=d.getExtent(),g=360===Math.abs(p[1]-p[0])?"Circle":"Arc";u=u instanceof Array?u:[u];for(var f=[],m=0;m<a.length;m++){var y=c++%u.length;f[y]=f[y]||[],f[y].push(new Gn[g]({shape:{cx:i.cx,cy:i.cy,r:Math.max(a[m].coord,0),startAngle:-p[0]*h,endAngle:-p[1]*h,clockwise:d.inverse}}))}for(m=0;m<f.length;m++)e.add(Gn.mergePath(f[m],{style:l.NT({stroke:u[m%u.length],fill:null},s.getLineStyle()),silent:!0}))},minorSplitLine:function(e,t,i,n,o,a,r){if(r.length){for(var s=t.getModel("minorSplitLine"),u=s.getModel("lineStyle"),c=[],d=0;d<r.length;d++)for(var h=0;h<r[d].length;h++)c.push(new Eu.A({shape:{cx:i.cx,cy:i.cy,r:r[d][h].coord}}));e.add(Gn.mergePath(c,{style:l.NT({fill:null},u.getLineStyle()),silent:!0}))}},splitArea:function(e,t,i,n,o,a){if(a.length){var r=t.getModel("splitArea"),s=r.getModel("areaStyle"),u=s.get("color"),c=0;u=u instanceof Array?u:[u];for(var d=[],h=a[0].coord,p=1;p<a.length;p++){var g=c++%u.length;d[g]=d[g]||[],d[g].push(new mo.A({shape:{cx:i.cx,cy:i.cy,r0:h,r:a[p].coord,startAngle:0,endAngle:2*Math.PI},silent:!0})),h=a[p].coord}for(p=0;p<d.length;p++)e.add(Gn.mergePath(d[p],{style:l.NT({fill:u[p%u.length]},s.getAreaStyle()),silent:!0}))}}};function mA(e,t,i){return{position:[e.cx,e.cy],rotation:i/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:t.getModel("axisLabel").get("rotate"),z2:1}}var yA=gA;function vA(e){return e.get("stack")||"__ec_stack_"+e.seriesIndex}function _A(e,t){return t.dim+e.model.componentIndex}function xA(e,t,i){var n={},o=bA(l.pb(t.getSeriesByType(e),(function(e){return!t.isSeriesFiltered(e)&&e.coordinateSystem&&"polar"===e.coordinateSystem.type})));t.eachSeriesByType(e,(function(e){if("polar"===e.coordinateSystem.type){var t=e.getData(),i=e.coordinateSystem,a=i.getBaseAxis(),r=_A(i,a),s=vA(e),l=o[r][s],u=l.offset,c=l.width,d=i.getOtherAxis(a),h=e.coordinateSystem.cx,p=e.coordinateSystem.cy,g=e.get("barMinHeight")||0,f=e.get("barMinAngle")||0;n[s]=n[s]||[];for(var m=t.mapDimension(d.dim),y=t.mapDimension(a.dim),v=In(t,m),_="radius"!==a.dim||!e.get("roundCap",!0),x=d.model,b=x.get("startValue"),w=d.dataToCoord(b||0),C=0,S=t.count();C<S;C++){var A=t.get(m,C),k=t.get(y,C),M=A>=0?"p":"n",I=w;v&&(n[s][k]||(n[s][k]={p:w,n:w}),I=n[s][k][M]);var T=void 0,D=void 0,L=void 0,P=void 0;if("radius"===d.dim){var F=d.dataToCoord(A)-w,N=a.dataToCoord(k);Math.abs(F)<g&&(F=(F<0?-1:1)*g),T=I,D=I+F,L=N-u,P=L-c,v&&(n[s][k][M]=D)}else{var R=d.dataToCoord(A,_)-w,V=a.dataToCoord(k);Math.abs(R)<f&&(R=(R<0?-1:1)*f),T=V+u,D=T+c,L=I,P=I+R,v&&(n[s][k][M]=P)}t.setItemLayout(C,{cx:h,cy:p,r0:T,r:D,startAngle:-L*Math.PI/180,endAngle:-P*Math.PI/180,clockwise:L>=P})}}}))}function bA(e){var t={};l.__(e,(function(e,i){var n=e.getData(),o=e.coordinateSystem,a=o.getBaseAxis(),r=_A(o,a),s=a.getExtent(),l="category"===a.type?a.getBandWidth():Math.abs(s[1]-s[0])/n.count(),u=t[r]||{bandWidth:l,remainedWidth:l,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},c=u.stacks;t[r]=u;var d=vA(e);c[d]||u.autoWidthCount++,c[d]=c[d]||{width:0,maxWidth:0};var h=(0,v.lo)(e.get("barWidth"),l),p=(0,v.lo)(e.get("barMaxWidth"),l),g=e.get("barGap"),f=e.get("barCategoryGap");h&&!c[d].width&&(h=Math.min(u.remainedWidth,h),c[d].width=h,u.remainedWidth-=h),p&&(c[d].maxWidth=p),null!=g&&(u.gap=g),null!=f&&(u.categoryGap=f)}));var i={};return l.__(t,(function(e,t){i[t]={};var n=e.stacks,o=e.bandWidth,a=(0,v.lo)(e.categoryGap,o),r=(0,v.lo)(e.gap,1),s=e.remainedWidth,u=e.autoWidthCount,c=(s-a)/(u+(u-1)*r);c=Math.max(c,0),l.__(n,(function(e,t){var i=e.maxWidth;i&&i<c&&(i=Math.min(i,s),e.width&&(i=Math.min(i,e.width)),s-=i,e.width=i,u--)})),c=(s-a)/(u+(u-1)*r),c=Math.max(c,0);var d,h=0;l.__(n,(function(e,t){e.width||(e.width=c),d=e,h+=e.width*(1+r)})),d&&(h-=d.width*r);var p=-h/2;l.__(n,(function(e,n){i[t][n]=i[t][n]||{offset:p,width:e.width},p+=e.width*(1+r)}))})),i}var wA=xA,CA={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},SA={splitNumber:5},AA=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return(0,_e.C6)(t,e),t.type="polar",t}(o.A);function kA(e){p(FS),uu.registerAxisPointerClass("PolarAxisPointer",OS),e.registerCoordinateSystem("polar",oA),e.registerComponentModel(GS),e.registerComponentView(AA),Hr(e,"angle",WS,CA),Hr(e,"radius",HS,SA),e.registerComponentView(dA),e.registerComponentView(yA),e.registerLayout((0,l.cF)(wA,"bar"))}function MA(e,t){t=t||{};var i=e.coordinateSystem,n=e.axis,o={},a=n.position,r=n.orient,s=i.getRect(),u=[s.x,s.x+s.width,s.y,s.y+s.height],c={horizontal:{top:u[2],bottom:u[3]},vertical:{left:u[0],right:u[1]}};o.position=["vertical"===r?c.vertical[a]:u[0],"horizontal"===r?c.horizontal[a]:u[3]];var d={horizontal:0,vertical:1};o.rotation=Math.PI/2*d[r];var h={top:-1,bottom:1,right:1,left:-1};o.labelDirection=o.tickDirection=o.nameDirection=h[a],e.get(["axisTick","inside"])&&(o.tickDirection=-o.tickDirection),l.Je(t.labelInside,e.get(["axisLabel","inside"]))&&(o.labelDirection=-o.labelDirection);var p=t.rotate;return null==p&&(p=e.get(["axisLabel","rotate"])),o.labelRotation="top"===a?-p:p,o.z2=1,o}var IA=["axisLine","axisTickLabel","axisName"],TA=["splitArea","splitLine"],DA=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i.axisPointerClass="SingleAxisPointer",i}return(0,_e.C6)(t,e),t.prototype.render=function(t,i,n,o){var a=this.group;a.removeAll();var r=this._axisGroup;this._axisGroup=new En.A;var s=MA(t),u=new Zl(t,s);l.__(IA,u.add,u),a.add(this._axisGroup),a.add(u.getGroup()),l.__(TA,(function(e){t.get([e,"show"])&&LA[e](this,this.group,this._axisGroup,t)}),this),Gn.groupTransition(r,this._axisGroup,t),e.prototype.render.call(this,t,i,n,o)},t.prototype.remove=function(){hu(this)},t.type="singleAxis",t}(uu),LA={splitLine:function(e,t,i,n){var o=n.axis;if(!o.scale.isBlank()){var a=n.getModel("splitLine"),r=a.getModel("lineStyle"),s=r.get("color");s=s instanceof Array?s:[s];for(var u=r.get("width"),c=n.coordinateSystem.getRect(),d=o.isHorizontal(),h=[],p=0,g=o.getTicksCoords({tickModel:a}),f=[],m=[],y=0;y<g.length;++y){var v=o.toGlobalCoord(g[y].coord);d?(f[0]=v,f[1]=c.y,m[0]=v,m[1]=c.y+c.height):(f[0]=c.x,f[1]=v,m[0]=c.x+c.width,m[1]=v);var _=new Vl.A({shape:{x1:f[0],y1:f[1],x2:m[0],y2:m[1]},silent:!0});Gn.subPixelOptimizeLine(_.shape,u);var x=p++%s.length;h[x]=h[x]||[],h[x].push(_)}var b=r.getLineStyle(["color"]);for(y=0;y<h.length;++y)t.add(Gn.mergePath(h[y],{style:l.NT({stroke:s[y%s.length]},b),silent:!0}))}},splitArea:function(e,t,i,n){du(e,i,n,n)}},PA=DA,FA=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return(0,_e.C6)(t,e),t.prototype.getCoordSysModel=function(){return this},t.type="singleAxis",t.layoutMode="box",t.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},t}(r.A);(0,l.co)(FA,Dr.prototype);var NA=FA,RA=function(e){function t(t,i,n,o,a){var r=e.call(this,t,i,n)||this;return r.type=o||"value",r.position=a||"bottom",r}return(0,_e.C6)(t,e),t.prototype.isHorizontal=function(){var e=this.position;return"top"===e||"bottom"===e},t.prototype.pointToData=function(e,t){return this.coordinateSystem.pointToData(e)[0]},t}(wl),VA=RA,EA=["single"],OA=function(){function e(e,t,i){this.type="single",this.dimension="single",this.dimensions=EA,this.axisPointerEnabled=!0,this.model=e,this._init(e,t,i)}return e.prototype._init=function(e,t,i){var n=this.dimension,o=new VA(n,Gs(e),[0,0],e.get("type"),e.get("position")),a="category"===o.type;o.onBand=a&&e.get("boundaryGap"),o.inverse=e.get("inverse"),o.orient=e.get("orient"),e.axis=o,o.model=e,o.coordinateSystem=this,this._axis=o},e.prototype.update=function(e,t){e.eachSeries((function(e){if(e.coordinateSystem===this){var t=e.getData();(0,l.__)(t.mapDimensionsAll(this.dimension),(function(e){this._axis.scale.unionExtentFromData(t,e)}),this),zs(this._axis.scale,this._axis.model)}}),this)},e.prototype.resize=function(e,t){this._rect=(0,Ya.dV)({left:e.get("left"),top:e.get("top"),right:e.get("right"),bottom:e.get("bottom"),width:e.get("width"),height:e.get("height")},{width:t.getWidth(),height:t.getHeight()}),this._adjustAxis()},e.prototype.getRect=function(){return this._rect},e.prototype._adjustAxis=function(){var e=this._rect,t=this._axis,i=t.isHorizontal(),n=i?[0,e.width]:[0,e.height],o=t.inverse?1:0;t.setExtent(n[o],n[1-o]),this._updateAxisTransform(t,i?e.x:e.y)},e.prototype._updateAxisTransform=function(e,t){var i=e.getExtent(),n=i[0]+i[1],o=e.isHorizontal();e.toGlobalCoord=o?function(e){return e+t}:function(e){return n-e+t},e.toLocalCoord=o?function(e){return e-t}:function(e){return n-e+t}},e.prototype.getAxis=function(){return this._axis},e.prototype.getBaseAxis=function(){return this._axis},e.prototype.getAxes=function(){return[this._axis]},e.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},e.prototype.containPoint=function(e){var t=this.getRect(),i=this.getAxis(),n=i.orient;return"horizontal"===n?i.contain(i.toLocalCoord(e[0]))&&e[1]>=t.y&&e[1]<=t.y+t.height:i.contain(i.toLocalCoord(e[1]))&&e[0]>=t.y&&e[0]<=t.y+t.height},e.prototype.pointToData=function(e){var t=this.getAxis();return[t.coordToData(t.toLocalCoord(e["horizontal"===t.orient?0:1]))]},e.prototype.dataToPoint=function(e){var t=this.getAxis(),i=this.getRect(),n=[],o="horizontal"===t.orient?0:1;return e instanceof Array&&(e=e[0]),n[o]=t.toGlobalCoord(t.dataToCoord(+e)),n[1-o]=0===o?i.y+i.height/2:i.x+i.width/2,n},e.prototype.convertToPixel=function(e,t,i){var n=zA(t);return n===this?this.dataToPoint(i):null},e.prototype.convertFromPixel=function(e,t,i){var n=zA(t);return n===this?this.pointToData(i):null},e}();function zA(e){var t=e.seriesModel,i=e.singleAxisModel;return i&&i.coordinateSystem||t&&t.coordinateSystem}var GA=OA;function BA(e,t){var i=[];return e.eachComponent("singleAxis",(function(n,o){var a=new GA(n,e,t);a.name="single_"+o,a.resize(n,t),n.coordinateSystem=a,i.push(a)})),e.eachSeries((function(e){if("singleAxis"===e.get("coordinateSystem")){var t=e.getReferringComponents("singleAxis",g.US).models[0];e.coordinateSystem=t&&t.coordinateSystem}})),i}var WA={create:BA,dimensions:EA},HA=WA,XA=["x","y"],$A=["width","height"],jA=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,_e.C6)(t,e),t.prototype.makeElOption=function(e,t,i,n,o){var a=i.axis,r=a.coordinateSystem,s=ZA(r,1-YA(a)),l=r.dataToPoint(t)[0],u=n.get("type");if(u&&"none"!==u){var c=UC(n),d=UA[u](a,l,s);d.style=c,e.graphicKey=d.type,e.pointer=d}var h=MA(i);QC(t,e,h,i,n,o)},t.prototype.getHandleTransform=function(e,t,i){var n=MA(t,{labelInside:!1});n.labelMargin=i.get(["handle","margin"]);var o=KC(t.axis,e,n);return{x:o[0],y:o[1],rotation:n.rotation+(n.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(e,t,i,n){var o=i.axis,a=o.coordinateSystem,r=YA(o),s=ZA(a,r),l=[e.x,e.y];l[r]+=t[r],l[r]=Math.min(s[1],l[r]),l[r]=Math.max(s[0],l[r]);var u=ZA(a,1-r),c=(u[1]+u[0])/2,d=[c,c];return d[r]=l[r],{x:l[0],y:l[1],rotation:e.rotation,cursorPoint:d,tooltipOption:{verticalAlign:"middle"}}},t}(jC),UA={line:function(e,t,i){var n=JC([t,i[0]],[t,i[1]],YA(e));return{type:"Line",subPixelOptimize:!0,shape:n}},shadow:function(e,t,i){var n=e.getBandWidth(),o=i[1]-i[0];return{type:"Rect",shape:eS([t-n/2,i[0]],[n,o],YA(e))}}};function YA(e){return e.isHorizontal()?0:1}function ZA(e,t){var i=e.getRect();return[i[XA[t]],i[XA[t]]+i[$A[t]]]}var qA=jA,KA=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return(0,_e.C6)(t,e),t.type="single",t}(o.A);function QA(e){p(FS),uu.registerAxisPointerClass("SingleAxisPointer",qA),e.registerComponentView(KA),e.registerComponentView(PA),e.registerComponentModel(NA),Hr(e,"single",NA,NA.defaultOption),e.registerCoordinateSystem("single",HA)}var JA=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return(0,_e.C6)(t,e),t.prototype.init=function(t,i,n){var o=(0,Ya.vs)(t);e.prototype.init.apply(this,arguments),ek(t,o)},t.prototype.mergeOption=function(t){e.prototype.mergeOption.apply(this,arguments),ek(this.option,t)},t.prototype.getCellSize=function(){return this.option.cellSize},t.type="calendar",t.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},t}(r.A);function ek(e,t){var i,n=e.cellSize;i=l.cy(n)?n:e.cellSize=[n,n],1===i.length&&(i[1]=i[0]);var o=l.Tj([0,1],(function(e){return(0,Ya.Qf)(t,e)&&(i[e]="auto"),null!=i[e]&&"auto"!==i[e]}));(0,Ya.YA)(e,t,{type:"box",ignoreSize:o})}var tk=JA,ik=i(81361),nk=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return(0,_e.C6)(t,e),t.prototype.render=function(e,t,i){var n=this.group;n.removeAll();var o=e.coordinateSystem,a=o.getRangeInfo(),r=o.getOrient(),s=t.getLocaleModel();this._renderDayRect(e,a,n),this._renderLines(e,a,r,n),this._renderYearText(e,a,r,n),this._renderMonthText(e,s,r,n),this._renderWeekText(e,s,a,r,n)},t.prototype._renderDayRect=function(e,t,i){for(var n=e.coordinateSystem,o=e.getModel("itemStyle").getItemStyle(),a=n.getCellWidth(),r=n.getCellHeight(),s=t.start.time;s<=t.end.time;s=n.getNextNDay(s,1).time){var l=n.dataToRect([s],!1).tl,u=new fo.A({shape:{x:l[0],y:l[1],width:a,height:r},cursor:"default",style:o});i.add(u)}},t.prototype._renderLines=function(e,t,i,n){var o=this,a=e.coordinateSystem,r=e.getModel(["splitLine","lineStyle"]).getLineStyle(),s=e.get(["splitLine","show"]),l=r.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var u=t.start,c=0;u.time<=t.end.time;c++){h(u.formatedDate),0===c&&(u=a.getDateInfo(t.start.y+"-"+t.start.m));var d=u.date;d.setMonth(d.getMonth()+1),u=a.getDateInfo(d)}function h(t){o._firstDayOfMonth.push(a.getDateInfo(t)),o._firstDayPoints.push(a.dataToRect([t],!1).tl);var l=o._getLinePointsOfOneWeek(e,t,i);o._tlpoints.push(l[0]),o._blpoints.push(l[l.length-1]),s&&o._drawSplitline(l,r,n)}h(a.getNextNDay(t.end.time,1).formatedDate),s&&this._drawSplitline(o._getEdgesPoints(o._tlpoints,l,i),r,n),s&&this._drawSplitline(o._getEdgesPoints(o._blpoints,l,i),r,n)},t.prototype._getEdgesPoints=function(e,t,i){var n=[e[0].slice(),e[e.length-1].slice()],o="horizontal"===i?0:1;return n[0][o]=n[0][o]-t/2,n[1][o]=n[1][o]+t/2,n},t.prototype._drawSplitline=function(e,t,i){var n=new w.A({z2:20,shape:{points:e},style:t});i.add(n)},t.prototype._getLinePointsOfOneWeek=function(e,t,i){for(var n=e.coordinateSystem,o=n.getDateInfo(t),a=[],r=0;r<7;r++){var s=n.getNextNDay(o.time,r),l=n.dataToRect([s.time],!1);a[2*s.day]=l.tl,a[2*s.day+1]=l["horizontal"===i?"bl":"tr"]}return a},t.prototype._formatterLabel=function(e,t){return(0,l.Kg)(e)&&e?(0,bo.io)(e,t):(0,l.Tn)(e)?e(t):t.nameMap},t.prototype._yearTextPositionControl=function(e,t,i,n,o){var a=t[0],r=t[1],s=["center","bottom"];"bottom"===n?(r+=o,s=["center","top"]):"left"===n?a-=o:"right"===n?(a+=o,s=["center","top"]):r-=o;var l=0;return"left"!==n&&"right"!==n||(l=Math.PI/2),{rotation:l,x:a,y:r,style:{align:s[0],verticalAlign:s[1]}}},t.prototype._renderYearText=function(e,t,i,n){var o=e.getModel("yearLabel");if(o.get("show")){var a=o.get("margin"),r=o.get("position");r||(r="horizontal"!==i?"top":"left");var s=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],l=(s[0][0]+s[1][0])/2,u=(s[0][1]+s[1][1])/2,c="horizontal"===i?0:1,d={top:[l,s[c][1]],bottom:[l,s[1-c][1]],left:[s[1-c][0],u],right:[s[c][0],u]},h=t.start.y;+t.end.y>+t.start.y&&(h=h+"-"+t.end.y);var p=o.get("formatter"),g={start:t.start.y,end:t.end.y,nameMap:h},f=this._formatterLabel(p,g),m=new Pt.Ay({z2:30,style:(0,ae.VB)(o,{text:f})});m.attr(this._yearTextPositionControl(m,d[r],i,r,a)),n.add(m)}},t.prototype._monthTextPositionControl=function(e,t,i,n,o){var a="left",r="top",s=e[0],l=e[1];return"horizontal"===i?(l+=o,t&&(a="center"),"start"===n&&(r="bottom")):(s+=o,t&&(r="middle"),"start"===n&&(a="right")),{x:s,y:l,align:a,verticalAlign:r}},t.prototype._renderMonthText=function(e,t,i,n){var o=e.getModel("monthLabel");if(o.get("show")){var a=o.get("nameMap"),r=o.get("margin"),s=o.get("position"),u=o.get("align"),c=[this._tlpoints,this._blpoints];a&&!(0,l.Kg)(a)||(a&&(t=(0,ik.A4)(a)||t),a=t.get(["time","monthAbbr"])||[]);var d="start"===s?0:1,h="horizontal"===i?0:1;r="start"===s?-r:r;for(var p="center"===u,g=0;g<c[d].length-1;g++){var f=c[d][g].slice(),m=this._firstDayOfMonth[g];if(p){var y=this._firstDayPoints[g];f[h]=(y[h]+c[0][g+1][h])/2}var v=o.get("formatter"),_=a[+m.m-1],x={yyyy:m.y,yy:(m.y+"").slice(2),MM:m.m,M:+m.m,nameMap:_},b=this._formatterLabel(v,x),w=new Pt.Ay({z2:30,style:(0,l.X$)((0,ae.VB)(o,{text:b}),this._monthTextPositionControl(f,p,i,s,r))});n.add(w)}}},t.prototype._weekTextPositionControl=function(e,t,i,n,o){var a="center",r="middle",s=e[0],l=e[1],u="start"===i;return"horizontal"===t?(s=s+n+(u?1:-1)*o[0]/2,a=u?"right":"left"):(l=l+n+(u?1:-1)*o[1]/2,r=u?"bottom":"top"),{x:s,y:l,align:a,verticalAlign:r}},t.prototype._renderWeekText=function(e,t,i,n,o){var a=e.getModel("dayLabel");if(a.get("show")){var r=e.coordinateSystem,s=a.get("position"),u=a.get("nameMap"),c=a.get("margin"),d=r.getFirstDayOfWeek();if(!u||(0,l.Kg)(u)){u&&(t=(0,ik.A4)(u)||t);var h=t.get(["time","dayOfWeekShort"]);u=h||(0,l.Tj)(t.get(["time","dayOfWeekAbbr"]),(function(e){return e[0]}))}var p=r.getNextNDay(i.end.time,7-i.lweek).time,g=[r.getCellWidth(),r.getCellHeight()];c=(0,v.lo)(c,Math.min(g[1],g[0])),"start"===s&&(p=r.getNextNDay(i.start.time,-(7+i.fweek)).time,c=-c);for(var f=0;f<7;f++){var m=r.getNextNDay(p,f),y=r.dataToRect([m.time],!1).center,_=f;_=Math.abs((f+d)%7);var x=new Pt.Ay({z2:30,style:(0,l.X$)((0,ae.VB)(a,{text:u[_]}),this._weekTextPositionControl(y,n,s,c,g))});o.add(x)}}},t.type="calendar",t}(o.A),ok=nk,ak=864e5,rk=function(){function e(t,i,n){this.type="calendar",this.dimensions=e.dimensions,this.getDimensionsInfo=e.getDimensionsInfo,this._model=t}return e.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},e.prototype.getRangeInfo=function(){return this._rangeInfo},e.prototype.getModel=function(){return this._model},e.prototype.getRect=function(){return this._rect},e.prototype.getCellWidth=function(){return this._sw},e.prototype.getCellHeight=function(){return this._sh},e.prototype.getOrient=function(){return this._orient},e.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},e.prototype.getDateInfo=function(e){e=v._U(e);var t=e.getFullYear(),i=e.getMonth()+1,n=i<10?"0"+i:""+i,o=e.getDate(),a=o<10?"0"+o:""+o,r=e.getDay();return r=Math.abs((r+7-this.getFirstDayOfWeek())%7),{y:t+"",m:n,d:a,day:r,time:e.getTime(),formatedDate:t+"-"+n+"-"+a,date:e}},e.prototype.getNextNDay=function(e,t){return t=t||0,0===t||(e=new Date(this.getDateInfo(e).time),e.setDate(e.getDate()+t)),this.getDateInfo(e)},e.prototype.update=function(e,t){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var i=this._rangeInfo.weeks||1,n=["width","height"],o=this._model.getCellSize().slice(),a=this._model.getBoxLayoutParams(),r="horizontal"===this._orient?[i,7]:[7,i];l.__([0,1],(function(e){c(o,e)&&(a[n[e]]=o[e]*r[e])}));var s={width:t.getWidth(),height:t.getHeight()},u=this._rect=Ya.dV(a,s);function c(e,t){return null!=e[t]&&"auto"!==e[t]}l.__([0,1],(function(e){c(o,e)||(o[e]=u[n[e]]/r[e])})),this._sw=o[0],this._sh=o[1]},e.prototype.dataToPoint=function(e,t){l.cy(e)&&(e=e[0]),null==t&&(t=!0);var i=this.getDateInfo(e),n=this._rangeInfo,o=i.formatedDate;if(t&&!(i.time>=n.start.time&&i.time<n.end.time+ak))return[NaN,NaN];var a=i.day,r=this._getRangeInfo([n.start.time,o]).nthWeek;return"vertical"===this._orient?[this._rect.x+a*this._sw+this._sw/2,this._rect.y+r*this._sh+this._sh/2]:[this._rect.x+r*this._sw+this._sw/2,this._rect.y+a*this._sh+this._sh/2]},e.prototype.pointToData=function(e){var t=this.pointToDate(e);return t&&t.time},e.prototype.dataToRect=function(e,t){var i=this.dataToPoint(e,t);return{contentShape:{x:i[0]-(this._sw-this._lineWidth)/2,y:i[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:i,tl:[i[0]-this._sw/2,i[1]-this._sh/2],tr:[i[0]+this._sw/2,i[1]-this._sh/2],br:[i[0]+this._sw/2,i[1]+this._sh/2],bl:[i[0]-this._sw/2,i[1]+this._sh/2]}},e.prototype.pointToDate=function(e){var t=Math.floor((e[0]-this._rect.x)/this._sw)+1,i=Math.floor((e[1]-this._rect.y)/this._sh)+1,n=this._rangeInfo.range;return"vertical"===this._orient?this._getDateByWeeksAndDay(i,t-1,n):this._getDateByWeeksAndDay(t,i-1,n)},e.prototype.convertToPixel=function(e,t,i){var n=sk(t);return n===this?n.dataToPoint(i):null},e.prototype.convertFromPixel=function(e,t,i){var n=sk(t);return n===this?n.pointToData(i):null},e.prototype.containPoint=function(e){return console.warn("Not implemented."),!1},e.prototype._initRangeOption=function(){var e,t=this._model.get("range");if(l.cy(t)&&1===t.length&&(t=t[0]),l.cy(t))e=t;else{var i=t.toString();if(/^\d{4}$/.test(i)&&(e=[i+"-01-01",i+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(i)){var n=this.getDateInfo(i),o=n.date;o.setMonth(o.getMonth()+1);var a=this.getNextNDay(o,-1);e=[n.formatedDate,a.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(i)&&(e=[i,i])}if(!e)return t;var r=this._getRangeInfo(e);return r.start.time>r.end.time&&e.reverse(),e},e.prototype._getRangeInfo=function(e){var t,i=[this.getDateInfo(e[0]),this.getDateInfo(e[1])];i[0].time>i[1].time&&(t=!0,i.reverse());var n=Math.floor(i[1].time/ak)-Math.floor(i[0].time/ak)+1,o=new Date(i[0].time),a=o.getDate(),r=i[1].date.getDate();o.setDate(a+n-1);var s=o.getDate();if(s!==r){var l=o.getTime()-i[1].time>0?1:-1;while((s=o.getDate())!==r&&(o.getTime()-i[1].time)*l>0)n-=l,o.setDate(s-l)}var u=Math.floor((n+i[0].day+6)/7),c=t?1-u:u-1;return t&&i.reverse(),{range:[i[0].formatedDate,i[1].formatedDate],start:i[0],end:i[1],allDay:n,weeks:u,nthWeek:c,fweek:i[0].day,lweek:i[1].day}},e.prototype._getDateByWeeksAndDay=function(e,t,i){var n=this._getRangeInfo(i);if(e>n.weeks||0===e&&t<n.fweek||e===n.weeks&&t>n.lweek)return null;var o=7*(e-1)-n.fweek+t,a=new Date(n.start.time);return a.setDate(+n.start.d+o),this.getDateInfo(a)},e.create=function(t,i){var n=[];return t.eachComponent("calendar",(function(o){var a=new e(o,t,i);n.push(a),o.coordinateSystem=a})),t.eachSeries((function(e){"calendar"===e.get("coordinateSystem")&&(e.coordinateSystem=n[e.get("calendarIndex")||0])})),n},e.dimensions=["time","value"],e}();function sk(e){var t=e.calendarModel,i=e.seriesModel,n=t?t.coordinateSystem:i?i.coordinateSystem:null;return n}var lk=rk;function uk(e){e.registerComponentModel(tk),e.registerComponentView(ok),e.registerCoordinateSystem("calendar",lk)}function ck(e,t){var i=e.existing;if(t.id=e.keyInfo.id,!t.type&&i&&(t.type=i.type),null==t.parentId){var n=t.parentOption;n?t.parentId=n.id:i&&(t.parentId=i.parentId)}t.parentOption=null}function dk(e,t){var i;return l.__(t,(function(t){null!=e[t]&&"auto"!==e[t]&&(i=!0)})),i}function hk(e,t,i){var n=l.X$({},i),o=e[t],a=i.$action||"merge";"merge"===a?o?(l.h1(o,n,!0),(0,Ya.YA)(o,n,{ignoreSize:!0}),(0,Ya.Ir)(i,o),fk(i,o),fk(i,o,"shape"),fk(i,o,"style"),fk(i,o,"extra"),i.clipPath=o.clipPath):e[t]=n:"replace"===a?e[t]=n:"remove"===a&&o&&(e[t]=null)}var pk=["transition","enterFrom","leaveTo"],gk=pk.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function fk(e,t,i){if(i&&(!e[i]&&t[i]&&(e[i]={}),e=e[i],t=t[i]),e&&t)for(var n=i?pk:gk,o=0;o<n.length;o++){var a=n[o];null==e[a]&&null!=t[a]&&(e[a]=t[a])}}function mk(e,t){if(e&&(e.hv=t.hv=[dk(t,["left","right"]),dk(t,["top","bottom"])],"group"===e.type)){var i=e,n=t;null==i.width&&(i.width=n.width=0),null==i.height&&(i.height=n.height=0)}}var yk=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i.preventAutoZ=!0,i}return(0,_e.C6)(t,e),t.prototype.mergeOption=function(t,i){var n=this.option.elements;this.option.elements=null,e.prototype.mergeOption.call(this,t,i),this.option.elements=n},t.prototype.optionUpdated=function(e,t){var i=this.option,n=(t?i:e).elements,o=i.elements=t?[]:i.elements,a=[];this._flatten(n,a,null);var r=g.O2(o,a,"normalMerge"),s=this._elOptionsToUpdate=[];l.__(r,(function(e,t){var i=e.newOption;i&&(s.push(i),ck(e,i),hk(o,t,i),mk(o[t],i))}),this),i.elements=l.pb(o,(function(e){return e&&delete e.$action,null!=e}))},t.prototype._flatten=function(e,t,i){l.__(e,(function(e){if(e){i&&(e.parentOption=i),t.push(e);var n=e.children;n&&n.length&&this._flatten(n,t,e),delete e.children}}),this)},t.prototype.useElOptionsToUpdate=function(){var e=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,e},t.type="graphic",t.defaultOption={elements:[]},t}(r.A),vk={path:null,compoundPath:null,group:En.A,image:Ge.Ay,text:Pt.Ay},_k=g.$r(),xk=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return(0,_e.C6)(t,e),t.prototype.init=function(){this._elMap=l.nt()},t.prototype.render=function(e,t,i){e!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=e,this._updateElements(e),this._relocate(e,i)},t.prototype._updateElements=function(e){var t=e.useElOptionsToUpdate();if(t){var i=this._elMap,n=this.group,o=e.get("z"),a=e.get("zlevel");l.__(t,(function(t){var r=g.vS(t.id,null),s=null!=r?i.get(r):null,l=g.vS(t.parentId,null),u=null!=l?i.get(l):n,c=t.type,d=t.style;"text"===c&&d&&t.hv&&t.hv[1]&&(d.textVerticalAlign=d.textBaseline=d.verticalAlign=d.align=null);var h=t.textContent,p=t.textConfig;if(d&&xw(d,c,!!p,!!h)){var f=bw(d,c,!0);!p&&f.textConfig&&(p=t.textConfig=f.textConfig),!h&&f.textContent&&(h=f.textContent)}var m=Ak(t);var y=t.$action||"merge",v="merge"===y,_="replace"===y;if(v){var x=!s,b=s;x?b=wk(r,u,t.type,i):(b&&(_k(b).isNew=!1),Zw(b)),b&&(Lw(b,m,e,{isInit:x}),Sk(b,t,o,a))}else if(_){Ck(s,t,i,e);var w=wk(r,u,t.type,i);w&&(Lw(w,m,e,{isInit:!0}),Sk(w,t,o,a))}else"remove"===y&&(Pw(s,t),Ck(s,t,i,e));var C=i.get(r);if(C&&h)if(v){var S=C.getTextContent();S?S.attr(h):C.setTextContent(new Pt.Ay(h))}else _&&C.setTextContent(new Pt.Ay(h));if(C){var A=t.clipPath;if(A){var k=A.type,M=void 0;x=!1;if(v){var I=C.getClipPath();x=!I||_k(I).type!==k,M=x?bk(k):I}else _&&(x=!0,M=bk(k));C.setClipPath(M),Lw(M,A,e,{isInit:x}),qw(M,A.keyframeAnimation,e)}var T=_k(C);C.setTextConfig(p),T.option=t,kk(C,e,t),Gn.setTooltipConfig({el:C,componentModel:e,itemName:C.name,itemTooltipOption:t.tooltip}),qw(C,t.keyframeAnimation,e)}}))}},t.prototype._relocate=function(e,t){for(var i=e.option.elements,n=this.group,o=this._elMap,a=t.getWidth(),r=t.getHeight(),s=["x","y"],u=0;u<i.length;u++){var c=i[u],d=g.vS(c.id,null),h=null!=d?o.get(d):null;if(h&&h.isGroup){var p=h.parent,f=p===n,y=_k(h),_=_k(p);y.width=(0,v.lo)(y.option.width,f?a:_.width)||0,y.height=(0,v.lo)(y.option.height,f?r:_.height)||0}}for(u=i.length-1;u>=0;u--){c=i[u],d=g.vS(c.id,null),h=null!=d?o.get(d):null;if(h){p=h.parent,_=_k(p);var x=p===n?{width:a,height:r}:{width:_.width,height:_.height},b={},w=Ya.m$(h,c,x,null,{hv:c.hv,boundingMode:c.bounding},b);if(!_k(h).isNew&&w){for(var C=c.transition,S={},A=0;A<s.length;A++){var k=s[A],M=b[k];C&&(Nw(C)||l.qh(C,k)>=0)?S[k]=M:h[k]=M}(0,m.oi)(h,S,e,0)}else h.attr(b)}}},t.prototype._clear=function(){var e=this,t=this._elMap;t.each((function(i){Ck(i,_k(i).option,t,e._lastGraphicModel)})),this._elMap=l.nt()},t.prototype.dispose=function(){this._clear()},t.type="graphic",t}(o.A);function bk(e){var t=l.$3(vk,e)?vk[e]:Gn.getShapeClass(e);var i=new t({});return _k(i).type=e,i}function wk(e,t,i,n){var o=bk(i);return t.add(o),n.set(e,o),_k(o).id=e,_k(o).isNew=!0,o}function Ck(e,t,i,n){var o=e&&e.parent;o&&("group"===e.type&&e.traverse((function(e){Ck(e,t,i,n)})),Fw(e,t,n),i.removeKey(_k(e).id))}function Sk(e,t,i,n){e.isGroup||l.__([["cursor",Cd.Ay.prototype.cursor],["zlevel",n||0],["z",i||0],["z2",0]],(function(i){var n=i[0];l.$3(t,n)?e[n]=l.bZ(t[n],i[1]):null==e[n]&&(e[n]=i[1])})),l.__(l.HP(t),(function(i){if(0===i.indexOf("on")){var n=t[i];e[i]=l.Tn(n)?n:null}})),l.$3(t,"draggable")&&(e.draggable=t.draggable),null!=t.name&&(e.name=t.name),null!=t.id&&(e.id=t.id)}function Ak(e){return e=l.X$({},e),l.__(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(Ya.Tj),(function(t){delete e[t]})),e}function kk(e,t,i){var n=(0,y.z)(e).eventData;e.silent||e.ignore||n||(n=(0,y.z)(e).eventData={componentType:"graphic",componentIndex:t.componentIndex,name:e.name}),n&&(n.info=i.info)}function Mk(e){e.registerComponentModel(yk),e.registerComponentView(xk),e.registerPreprocessor((function(e){var t=e.graphic;(0,l.cy)(t)?t[0]&&t[0].elements?e.graphic=[e.graphic[0]]:e.graphic=[{elements:t}]:t&&!t.elements&&(e.graphic=[{elements:[t]}])}))}var Ik=["x","y","radius","angle","single"],Tk=["cartesian2d","polar","singleAxis"];function Dk(e){var t=e.get("coordinateSystem");return(0,l.qh)(Tk,t)>=0}function Lk(e){return e+"Axis"}function Pk(e,t){var i,n=(0,l.nt)(),o=[],a=(0,l.nt)();e.eachComponent({mainType:"dataZoom",query:t},(function(e){a.get(e.uid)||s(e)}));do{i=!1,e.eachComponent("dataZoom",r)}while(i);function r(e){!a.get(e.uid)&&u(e)&&(s(e),i=!0)}function s(e){a.set(e.uid,!0),o.push(e),c(e)}function u(e){var t=!1;return e.eachTargetAxis((function(e,i){var o=n.get(e);o&&o[i]&&(t=!0)})),t}function c(e){e.eachTargetAxis((function(e,t){(n.get(e)||n.set(e,[]))[t]=!0}))}return o}function Fk(e){var t=e.ecModel,i={infoList:[],infoMap:(0,l.nt)()};return e.eachTargetAxis((function(e,n){var o=t.getComponent(Lk(e),n);if(o){var a=o.getCoordSysModel();if(a){var r=a.uid,s=i.infoMap.get(r);s||(s={model:a,axisModels:[]},i.infoList.push(s),i.infoMap.set(r,s)),s.axisModels.push(o)}}})),i}var Nk=function(){function e(){this.indexList=[],this.indexMap=[]}return e.prototype.add=function(e){this.indexMap[e]||(this.indexList.push(e),this.indexMap[e]=!0)},e}(),Rk=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i._autoThrottle=!0,i._noTarget=!0,i._rangePropMode=["percent","percent"],i}return(0,_e.C6)(t,e),t.prototype.init=function(e,t,i){var n=Vk(e);this.settledOption=n,this.mergeDefaultAndTheme(e,i),this._doInit(n)},t.prototype.mergeOption=function(e){var t=Vk(e);(0,l.h1)(this.option,e,!0),(0,l.h1)(this.settledOption,t,!0),this._doInit(t)},t.prototype._doInit=function(e){var t=this.option;this._setDefaultThrottle(e),this._updateRangeUse(e);var i=this.settledOption;(0,l.__)([["start","startValue"],["end","endValue"]],(function(e,n){"value"===this._rangePropMode[n]&&(t[e[0]]=i[e[0]]=null)}),this),this._resetTarget()},t.prototype._resetTarget=function(){var e=this.get("orient",!0),t=this._targetAxisInfoMap=(0,l.nt)(),i=this._fillSpecifiedTargetAxis(t);i?this._orient=e||this._makeAutoOrientByTargetAxis():(this._orient=e||"horizontal",this._fillAutoTargetAxisByOrient(t,this._orient)),this._noTarget=!0,t.each((function(e){e.indexList.length&&(this._noTarget=!1)}),this)},t.prototype._fillSpecifiedTargetAxis=function(e){var t=!1;return(0,l.__)(Ik,(function(i){var n=this.getReferringComponents(Lk(i),g.UW);if(n.specified){t=!0;var o=new Nk;(0,l.__)(n.models,(function(e){o.add(e.componentIndex)})),e.set(i,o)}}),this),t},t.prototype._fillAutoTargetAxisByOrient=function(e,t){var i=this.ecModel,n=!0;if(n){var o="vertical"===t?"y":"x",a=i.findComponents({mainType:o+"Axis"});r(a,o)}if(n){a=i.findComponents({mainType:"singleAxis",filter:function(e){return e.get("orient",!0)===t}});r(a,"single")}function r(t,i){var o=t[0];if(o){var a=new Nk;if(a.add(o.componentIndex),e.set(i,a),n=!1,"x"===i||"y"===i){var r=o.getReferringComponents("grid",g.US).models[0];r&&(0,l.__)(t,(function(e){o.componentIndex!==e.componentIndex&&r===e.getReferringComponents("grid",g.US).models[0]&&a.add(e.componentIndex)}))}}}n&&(0,l.__)(Ik,(function(t){if(n){var o=i.findComponents({mainType:Lk(t),filter:function(e){return"category"===e.get("type",!0)}});if(o[0]){var a=new Nk;a.add(o[0].componentIndex),e.set(t,a),n=!1}}}),this)},t.prototype._makeAutoOrientByTargetAxis=function(){var e;return this.eachTargetAxis((function(t){!e&&(e=t)}),this),"y"===e?"vertical":"horizontal"},t.prototype._setDefaultThrottle=function(e){if(e.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var t=this.ecModel.option;this.option.throttle=t.animation&&t.animationDurationUpdate>0?100:20}},t.prototype._updateRangeUse=function(e){var t=this._rangePropMode,i=this.get("rangeMode");(0,l.__)([["start","startValue"],["end","endValue"]],(function(n,o){var a=null!=e[n[0]],r=null!=e[n[1]];a&&!r?t[o]="percent":!a&&r?t[o]="value":i?t[o]=i[o]:a&&(t[o]="percent")}))},t.prototype.noTarget=function(){return this._noTarget},t.prototype.getFirstTargetAxisModel=function(){var e;return this.eachTargetAxis((function(t,i){null==e&&(e=this.ecModel.getComponent(Lk(t),i))}),this),e},t.prototype.eachTargetAxis=function(e,t){this._targetAxisInfoMap.each((function(i,n){(0,l.__)(i.indexList,(function(i){e.call(t,n,i)}))}))},t.prototype.getAxisProxy=function(e,t){var i=this.getAxisModel(e,t);if(i)return i.__dzAxisProxy},t.prototype.getAxisModel=function(e,t){var i=this._targetAxisInfoMap.get(e);if(i&&i.indexMap[t])return this.ecModel.getComponent(Lk(e),t)},t.prototype.setRawRange=function(e){var t=this.option,i=this.settledOption;(0,l.__)([["start","startValue"],["end","endValue"]],(function(n){null==e[n[0]]&&null==e[n[1]]||(t[n[0]]=i[n[0]]=e[n[0]],t[n[1]]=i[n[1]]=e[n[1]])}),this),this._updateRangeUse(e)},t.prototype.setCalculatedRange=function(e){var t=this.option;(0,l.__)(["start","startValue","end","endValue"],(function(i){t[i]=e[i]}))},t.prototype.getPercentRange=function(){var e=this.findRepresentativeAxisProxy();if(e)return e.getDataPercentWindow()},t.prototype.getValueRange=function(e,t){if(null!=e||null!=t)return this.getAxisProxy(e,t).getDataValueWindow();var i=this.findRepresentativeAxisProxy();return i?i.getDataValueWindow():void 0},t.prototype.findRepresentativeAxisProxy=function(e){if(e)return e.__dzAxisProxy;for(var t,i=this._targetAxisInfoMap.keys(),n=0;n<i.length;n++)for(var o=i[n],a=this._targetAxisInfoMap.get(o),r=0;r<a.indexList.length;r++){var s=this.getAxisProxy(o,a.indexList[r]);if(s.hostedBy(this))return s;t||(t=s)}return t},t.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},t.prototype.getOrient=function(){return this._orient},t.type="dataZoom",t.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],t.defaultOption={z:4,filterMode:"filter",start:0,end:100},t}(r.A);function Vk(e){var t={};return(0,l.__)(["start","end","startValue","endValue","throttle"],(function(i){e.hasOwnProperty(i)&&(t[i]=e[i])})),t}var Ek=Rk,Ok=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return(0,_e.C6)(t,e),t.type="dataZoom.select",t}(Ek),zk=Ok,Gk=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return(0,_e.C6)(t,e),t.prototype.render=function(e,t,i,n){this.dataZoomModel=e,this.ecModel=t,this.api=i},t.type="dataZoom",t}(o.A),Bk=Gk,Wk=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return(0,_e.C6)(t,e),t.type="dataZoom.select",t}(Bk),Hk=Wk,Xk=l.__,$k=v.Y6,jk=function(){function e(e,t,i,n){this._dimName=e,this._axisIndex=t,this.ecModel=n,this._dataZoomModel=i}return e.prototype.hostedBy=function(e){return this._dataZoomModel===e},e.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},e.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},e.prototype.getTargetSeriesModels=function(){var e=[];return this.ecModel.eachSeries((function(t){if(Dk(t)){var i=Lk(this._dimName),n=t.getReferringComponents(i,g.US).models[0];n&&this._axisIndex===n.componentIndex&&e.push(t)}}),this),e},e.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},e.prototype.getMinMaxSpan=function(){return l.o8(this._minMaxSpan)},e.prototype.calculateDataWindow=function(e){var t,i=this._dataExtent,n=this.getAxisModel(),o=n.axis.scale,a=this._dataZoomModel.getRangePropMode(),r=[0,100],s=[],l=[];Xk(["start","end"],(function(n,u){var c=e[n],d=e[n+"Value"];"percent"===a[u]?(null==c&&(c=r[u]),d=o.parse(v.Cb(c,r,i))):(t=!0,d=null==d?i[u]:o.parse(d),c=v.Cb(d,i,r)),l[u]=null==d||isNaN(d)?i[u]:d,s[u]=null==c||isNaN(c)?r[u]:c})),$k(l),$k(s);var u=this._minMaxSpan;function c(e,t,i,n,a){var r=a?"Span":"ValueSpan";ly(0,e,i,"all",u["min"+r],u["max"+r]);for(var s=0;s<2;s++)t[s]=v.Cb(e[s],i,n,!0),a&&(t[s]=o.parse(t[s]))}return t?c(l,s,i,r,!1):c(s,l,r,i,!0),{valueWindow:l,percentWindow:s}},e.prototype.reset=function(e){if(e===this._dataZoomModel){var t=this.getTargetSeriesModels();this._dataExtent=Uk(this,this._dimName,t),this._updateMinMaxSpan();var i=this.calculateDataWindow(e.settledOption);this._valueWindow=i.valueWindow,this._percentWindow=i.percentWindow,this._setAxisModel()}},e.prototype.filterData=function(e,t){if(e===this._dataZoomModel){var i=this._dimName,n=this.getTargetSeriesModels(),o=e.get("filterMode"),a=this._valueWindow;"none"!==o&&Xk(n,(function(e){var t=e.getData(),n=t.mapDimensionsAll(i);if(n.length){if("weakFilter"===o){var s=t.getStore(),u=l.Tj(n,(function(e){return t.getDimensionIndex(e)}),t);t.filterSelf((function(e){for(var t,i,o,r=0;r<n.length;r++){var l=s.get(u[r],e),c=!isNaN(l),d=l<a[0],h=l>a[1];if(c&&!d&&!h)return!0;c&&(o=!0),d&&(t=!0),h&&(i=!0)}return o&&t&&i}))}else Xk(n,(function(i){if("empty"===o)e.setData(t=t.map(i,(function(e){return r(e)?e:NaN})));else{var n={};n[i]=a,t.selectRange(n)}}));Xk(n,(function(e){t.setApproximateExtent(a,e)}))}}))}function r(e){return e>=a[0]&&e<=a[1]}},e.prototype._updateMinMaxSpan=function(){var e=this._minMaxSpan={},t=this._dataZoomModel,i=this._dataExtent;Xk(["min","max"],(function(n){var o=t.get(n+"Span"),a=t.get(n+"ValueSpan");null!=a&&(a=this.getAxisModel().axis.scale.parse(a)),null!=a?o=v.Cb(i[0]+a,i,[0,100],!0):null!=o&&(a=v.Cb(o,[0,100],i,!0)-i[0]),e[n+"Span"]=o,e[n+"ValueSpan"]=a}),this)},e.prototype._setAxisModel=function(){var e=this.getAxisModel(),t=this._percentWindow,i=this._valueWindow;if(t){var n=v.hb(i,[0,500]);n=Math.min(n,20);var o=e.axis.scale.rawExtentInfo;0!==t[0]&&o.setDeterminedMinMax("min",+i[0].toFixed(n)),100!==t[1]&&o.setDeterminedMinMax("max",+i[1].toFixed(n)),o.freeze()}},e}();function Uk(e,t,i){var n=[1/0,-1/0];Xk(i,(function(e){Zs(n,e.getData(),t)}));var o=e.getAxisModel(),a=Rs(o.axis.scale,o,n).calculate();return[a.min,a.max]}var Yk=jk,Zk={getTargetSeries:function(e){function t(t){e.eachComponent("dataZoom",(function(i){i.eachTargetAxis((function(n,o){var a=e.getComponent(Lk(n),o);t(n,o,a,i)}))}))}t((function(e,t,i,n){i.__dzAxisProxy=null}));var i=[];t((function(t,n,o,a){o.__dzAxisProxy||(o.__dzAxisProxy=new Yk(t,n,a,e),i.push(o.__dzAxisProxy))}));var n=(0,l.nt)();return(0,l.__)(i,(function(e){(0,l.__)(e.getTargetSeriesModels(),(function(e){n.set(e.uid,e)}))})),n},overallReset:function(e,t){e.eachComponent("dataZoom",(function(e){e.eachTargetAxis((function(t,i){e.getAxisProxy(t,i).reset(e)})),e.eachTargetAxis((function(i,n){e.getAxisProxy(i,n).filterData(e,t)}))})),e.eachComponent("dataZoom",(function(e){var t=e.findRepresentativeAxisProxy();if(t){var i=t.getDataPercentWindow(),n=t.getDataValueWindow();e.setCalculatedRange({start:i[0],end:i[1],startValue:n[0],endValue:n[1]})}}))}},qk=Zk;function Kk(e){e.registerAction("dataZoom",(function(e,t){var i=Pk(t,e);(0,l.__)(i,(function(t){t.setRawRange({start:e.start,end:e.end,startValue:e.startValue,endValue:e.endValue})}))}))}var Qk=!1;function Jk(e){Qk||(Qk=!0,e.registerProcessor(e.PRIORITY.PROCESSOR.FILTER,qk),Kk(e),e.registerSubTypeDefaulter("dataZoom",(function(){return"slider"})))}function eM(e){e.registerComponentModel(zk),e.registerComponentView(Hk),Jk(e)}var tM=function(){function e(){}return e}(),iM={};function nM(e,t){iM[e]=t}function oM(e){return iM[e]}var aM=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return(0,_e.C6)(t,e),t.prototype.optionUpdated=function(){e.prototype.optionUpdated.apply(this,arguments);var t=this.ecModel;l.__(this.option.feature,(function(e,i){var n=oM(i);n&&(n.getDefaultOption&&(n.defaultOption=n.getDefaultOption(t)),l.h1(e,n.defaultOption))}))},t.type="toolbox",t.layoutMode={type:"box",ignoreSize:!0},t.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},t}(r.A),rM=aM;function sM(e,t,i){var n=t.getBoxLayoutParams(),o=t.get("padding"),a={width:i.getWidth(),height:i.getHeight()},r=(0,Ya.dV)(n,a,o);(0,Ya.aP)(t.get("orient"),e,t.get("itemGap"),r.width,r.height),(0,Ya.m$)(e,n,a,o)}function lM(e,t){var i=bo.QX(t.get("padding")),n=t.getItemStyle(["color","opacity"]);return n.fill=t.get("backgroundColor"),e=new fo.A({shape:{x:e.x-i[3],y:e.y-i[0],width:e.width+i[1]+i[3],height:e.height+i[0]+i[2],r:t.get("borderRadius")},style:n,silent:!0,z2:-1}),e}var uM=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,_e.C6)(t,e),t.prototype.render=function(e,t,i,n){var o=this.group;if(o.removeAll(),e.get("show")){var a=+e.get("itemSize"),r="vertical"===e.get("orient"),s=e.get("feature")||{},u=this._features||(this._features={}),c=[];l.__(s,(function(e,t){c.push(t)})),new Ni(this._featureNames||[],c).add(d).update(d).remove(l.cF(d,null)).execute(),this._featureNames=c,sM(o,e,i),o.add(lM(o.getBoundingRect(),e)),r||o.eachChild((function(e){var t=e.__title,n=e.ensureState("emphasis"),r=n.textConfig||(n.textConfig={}),s=e.getTextContent(),u=s&&s.ensureState("emphasis");if(u&&!l.Tn(u)&&t){var c=u.style||(u.style={}),d=Be.NO(t,Pt.Ay.makeFont(c)),h=e.x+o.x,p=e.y+o.y+a,g=!1;p+d.height>i.getHeight()&&(r.position="top",g=!0);var f=g?-5-d.height:a+10;h+d.width/2>i.getWidth()?(r.position=["100%",f],c.align="right"):h-d.width/2<0&&(r.position=[0,f],c.align="left")}}))}function d(o,a){var r,l=c[o],d=c[a],p=s[l],g=new Di.A(p,e,e.ecModel);if(n&&null!=n.newTitle&&n.featureName===l&&(p.title=n.newTitle),l&&!d){if(cM(l))r={onclick:g.option.onclick,featureName:l};else{var f=oM(l);if(!f)return;r=new f}u[l]=r}else if(r=u[d],!r)return;r.uid=(0,ua.$Q)("toolbox-feature"),r.model=g,r.ecModel=t,r.api=i;var m=r instanceof tM;l||!d?!g.get("show")||m&&r.unusable?m&&r.remove&&r.remove(t,i):(h(g,r,l),g.setIconStatus=function(e,t){var i=this.option,n=this.iconPaths;i.iconStatus=i.iconStatus||{},i.iconStatus[e]=t,n[e]&&("emphasis"===t?I.HY:I.SD)(n[e])},r instanceof tM&&r.render&&r.render(g,t,i,n)):m&&r.dispose&&r.dispose(t,i)}function h(n,s,u){var c,d,h=n.getModel("iconStyle"),p=n.getModel(["emphasis","iconStyle"]),g=s instanceof tM&&s.getIcons?s.getIcons():n.get("icon"),f=n.get("title")||{};l.Kg(g)?(c={},c[u]=g):c=g,l.Kg(f)?(d={},d[u]=f):d=f;var m=n.iconPaths={};l.__(c,(function(u,c){var g=Gn.createIcon(u,{},{x:-a/2,y:-a/2,width:a,height:a});g.setStyle(h.getItemStyle());var f=g.ensureState("emphasis");f.style=p.getItemStyle();var y=new Pt.Ay({style:{text:d[c],align:p.get("textAlign"),borderRadius:p.get("textBorderRadius"),padding:p.get("textPadding"),fill:null,font:(0,ae.c8)({fontStyle:p.get("textFontStyle"),fontFamily:p.get("textFontFamily"),fontSize:p.get("textFontSize"),fontWeight:p.get("textFontWeight")},t)},ignore:!0});g.setTextContent(y),Gn.setTooltipConfig({el:g,componentModel:e,itemName:c,formatterParamsExtra:{title:d[c]}}),g.__title=d[c],g.on("mouseover",(function(){var t=p.getItemStyle(),n=r?null==e.get("right")&&"right"!==e.get("left")?"right":"left":null==e.get("bottom")&&"bottom"!==e.get("top")?"bottom":"top";y.setStyle({fill:p.get("textFill")||t.fill||t.stroke||"#000",backgroundColor:p.get("textBackgroundColor")}),g.setTextConfig({position:p.get("textPosition")||n}),y.ignore=!e.get("showTitle"),i.enterEmphasis(this)})).on("mouseout",(function(){"emphasis"!==n.get(["iconStatus",c])&&i.leaveEmphasis(this),y.hide()})),("emphasis"===n.get(["iconStatus",c])?I.HY:I.SD)(g),o.add(g),g.on("click",l.oI(s.onclick,s,t,i,c)),m[c]=g}))}},t.prototype.updateView=function(e,t,i,n){l.__(this._features,(function(e){e instanceof tM&&e.updateView&&e.updateView(e.model,t,i,n)}))},t.prototype.remove=function(e,t){l.__(this._features,(function(i){i instanceof tM&&i.remove&&i.remove(e,t)})),this.group.removeAll()},t.prototype.dispose=function(e,t){l.__(this._features,(function(i){i instanceof tM&&i.dispose&&i.dispose(e,t)}))},t.type="toolbox",t}(o.A);function cM(e){return 0===e.indexOf("my")}var dM=uM,hM=(i(64979),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,_e.C6)(t,e),t.prototype.onclick=function(e,t){var i=this.model,n=i.get("name")||e.get("title.0.text")||"echarts",o="svg"===t.getZr().painter.getType(),a=o?"svg":i.get("type",!0)||"png",r=t.getConnectedDataURL({type:a,backgroundColor:i.get("backgroundColor",!0)||e.get("backgroundColor")||"#fff",connectedBackgroundColor:i.get("connectedBackgroundColor"),excludeComponents:i.get("excludeComponents"),pixelRatio:i.get("pixelRatio")}),s=Te.A.browser;if("function"!==typeof MouseEvent||!s.newEdge&&(s.ie||s.edge))if(window.navigator.msSaveOrOpenBlob||o){var l=r.split(","),u=l[0].indexOf("base64")>-1,c=o?decodeURIComponent(l[1]):l[1];u&&(c=window.atob(c));var d=n+"."+a;if(window.navigator.msSaveOrOpenBlob){var h=c.length,p=new Uint8Array(h);while(h--)p[h]=c.charCodeAt(h);var g=new Blob([p]);window.navigator.msSaveOrOpenBlob(g,d)}else{var f=document.createElement("iframe");document.body.appendChild(f);var m=f.contentWindow,y=m.document;y.open("image/svg+xml","replace"),y.write(c),y.close(),m.focus(),y.execCommand("SaveAs",!0,d),document.body.removeChild(f)}}else{var v=i.get("lang"),_='<body style="margin:0;"><img src="'+r+'" style="max-width:100%;" title="'+(v&&v[0]||"")+'" /></body>',x=window.open();x.document.write(_),x.document.title=n}else{var b=document.createElement("a");b.download=n+"."+a,b.target="_blank",b.href=r;var w=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});b.dispatchEvent(w)}},t.getDefaultOption=function(e){var t={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:e.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:e.getLocaleModel().get(["toolbox","saveAsImage","lang"])};return t},t}(tM)),pM=hM,gM="__ec_magicType_stack__",fM=[["line","bar"],["stack"]],mM=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,_e.C6)(t,e),t.prototype.getIcons=function(){var e=this.model,t=e.get("icon"),i={};return l.__(e.get("type"),(function(e){t[e]&&(i[e]=t[e])})),i},t.getDefaultOption=function(e){var t={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:e.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return t},t.prototype.onclick=function(e,t,i){var n=this.model,o=n.get(["seriesIndex",i]);if(yM[i]){var a,r={series:[]},s=function(e){var t=e.subType,o=e.id,a=yM[i](t,o,e,n);a&&(l.NT(a,e.option),r.series.push(a));var s=e.coordinateSystem;if(s&&"cartesian2d"===s.type&&("line"===i||"bar"===i)){var u=s.getAxesByScale("ordinal")[0];if(u){var c=u.dim,d=c+"Axis",h=e.getReferringComponents(d,g.US).models[0],p=h.componentIndex;r[d]=r[d]||[];for(var f=0;f<=p;f++)r[d][p]=r[d][p]||{};r[d][p].boundaryGap="bar"===i}}};l.__(fM,(function(e){l.qh(e,i)>=0&&l.__(e,(function(e){n.setIconStatus(e,"normal")}))})),n.setIconStatus(i,"emphasis"),e.eachComponent({mainType:"series",query:null==o?null:{seriesIndex:o}},s);var u=i;"stack"===i&&(a=l.h1({stack:n.option.title.tiled,tiled:n.option.title.stack},n.option.title),"emphasis"!==n.get(["iconStatus",i])&&(u="tiled")),t.dispatchAction({type:"changeMagicType",currentType:u,newOption:r,newTitle:a,featureName:"magicType"})}},t}(tM),yM={line:function(e,t,i,n){if("bar"===e)return l.h1({id:t,type:"line",data:i.get("data"),stack:i.get("stack"),markPoint:i.get("markPoint"),markLine:i.get("markLine")},n.get(["option","line"])||{},!0)},bar:function(e,t,i,n){if("line"===e)return l.h1({id:t,type:"bar",data:i.get("data"),stack:i.get("stack"),markPoint:i.get("markPoint"),markLine:i.get("markLine")},n.get(["option","bar"])||{},!0)},stack:function(e,t,i,n){var o=i.get("stack")===gM;if("line"===e||"bar"===e)return n.setIconStatus("stack",o?"normal":"emphasis"),l.h1({id:t,stack:o?"":gM},n.get(["option","stack"])||{},!0)}};n.OH({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},(function(e,t){t.mergeOption(e.newOption)}));var vM=mM,_M=new Array(60).join("-"),xM="\t";function bM(e){var t={},i=[],n=[];return e.eachRawSeries((function(e){var o=e.coordinateSystem;if(!o||"cartesian2d"!==o.type&&"polar"!==o.type)i.push(e);else{var a=o.getBaseAxis();if("category"===a.type){var r=a.dim+"_"+a.index;t[r]||(t[r]={categoryAxis:a,valueAxis:o.getOtherAxis(a),series:[]},n.push({axisDim:a.dim,axisIndex:a.index})),t[r].series.push(e)}else i.push(e)}})),{seriesGroupByCategoryAxis:t,other:i,meta:n}}function wM(e){var t=[];return l.__(e,(function(e,i){var n=e.categoryAxis,o=e.valueAxis,a=o.dim,r=[" "].concat(l.Tj(e.series,(function(e){return e.name}))),s=[n.model.getCategories()];l.__(e.series,(function(e){var t=e.getRawData();s.push(e.getRawData().mapArray(t.mapDimension(a),(function(e){return e})))}));for(var u=[r.join(xM)],c=0;c<s[0].length;c++){for(var d=[],h=0;h<s.length;h++)d.push(s[h][c]);u.push(d.join(xM))}t.push(u.join("\n"))})),t.join("\n\n"+_M+"\n\n")}function CM(e){return l.Tj(e,(function(e){var t=e.getRawData(),i=[e.name],n=[];return t.each(t.dimensions,(function(){for(var e=arguments.length,o=arguments[e-1],a=t.getName(o),r=0;r<e-1;r++)n[r]=arguments[r];i.push((a?a+xM:"")+n.join(xM))})),i.join("\n")})).join("\n\n"+_M+"\n\n")}function SM(e){var t=bM(e);return{value:l.pb([wM(t.seriesGroupByCategoryAxis),CM(t.other)],(function(e){return!!e.replace(/[\n\t\s]/g,"")})).join("\n\n"+_M+"\n\n"),meta:t.meta}}function AM(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function kM(e){var t=e.slice(0,e.indexOf("\n"));if(t.indexOf(xM)>=0)return!0}var MM=new RegExp("["+xM+"]+","g");function IM(e){for(var t=e.split(/\n+/g),i=AM(t.shift()).split(MM),n=[],o=l.Tj(i,(function(e){return{name:e,data:[]}})),a=0;a<t.length;a++){var r=AM(t[a]).split(MM);n.push(r.shift());for(var s=0;s<r.length;s++)o[s]&&(o[s].data[a]=r[s])}return{series:o,categories:n}}function TM(e){for(var t=e.split(/\n+/g),i=AM(t.shift()),n=[],o=0;o<t.length;o++){var a=AM(t[o]);if(a){var r=a.split(MM),s="",l=void 0,u=!1;isNaN(r[0])?(u=!0,s=r[0],r=r.slice(1),n[o]={name:s,value:[]},l=n[o].value):l=n[o]=[];for(var c=0;c<r.length;c++)l.push(+r[c]);1===l.length&&(u?n[o].value=l[0]:n[o]=l[0])}}return{name:i,data:n}}function DM(e,t){var i=e.split(new RegExp("\n*"+_M+"\n*","g")),n={series:[]};return l.__(i,(function(e,i){if(kM(e)){var o=IM(e),a=t[i],r=a.axisDim+"Axis";a&&(n[r]=n[r]||[],n[r][a.axisIndex]={data:o.categories},n.series=n.series.concat(o.series))}else{o=TM(e);n.series.push(o)}})),n}var LM=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,_e.C6)(t,e),t.prototype.onclick=function(e,t){setTimeout((function(){t.dispatchAction({type:"hideTip"})}));var i=t.getDom(),n=this.model;this._dom&&i.removeChild(this._dom);var o=document.createElement("div");o.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",o.style.backgroundColor=n.get("backgroundColor")||"#fff";var a=document.createElement("h4"),r=n.get("lang")||[];a.innerHTML=r[0]||n.get("title"),a.style.cssText="margin:10px 20px",a.style.color=n.get("textColor");var s=document.createElement("div"),u=document.createElement("textarea");s.style.cssText="overflow:auto";var c=n.get("optionToContent"),d=n.get("contentToOption"),h=SM(e);if(l.Tn(c)){var p=c(t.getOption());l.Kg(p)?s.innerHTML=p:l.n_(p)&&s.appendChild(p)}else{u.readOnly=n.get("readOnly");var g=u.style;g.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",g.color=n.get("textColor"),g.borderColor=n.get("textareaBorderColor"),g.backgroundColor=n.get("textareaColor"),u.value=h.value,s.appendChild(u)}var f=h.meta,m=document.createElement("div");m.style.cssText="position:absolute;bottom:5px;left:0;right:0";var y="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",v=document.createElement("div"),_=document.createElement("div");y+=";background-color:"+n.get("buttonColor"),y+=";color:"+n.get("buttonTextColor");var x=this;function b(){i.removeChild(o),x._dom=null}(0,Yu.q2)(v,"click",b),(0,Yu.q2)(_,"click",(function(){if(null==d&&null!=c||null!=d&&null==c)b();else{var e;try{e=l.Tn(d)?d(s,t.getOption()):DM(u.value,f)}catch(i){throw b(),new Error("Data view format error "+i)}e&&t.dispatchAction({type:"changeDataView",newOption:e}),b()}})),v.innerHTML=r[1],_.innerHTML=r[2],_.style.cssText=v.style.cssText=y,!n.get("readOnly")&&m.appendChild(_),m.appendChild(v),o.appendChild(a),o.appendChild(s),o.appendChild(m),s.style.height=i.clientHeight-80+"px",i.appendChild(o),this._dom=o},t.prototype.remove=function(e,t){this._dom&&t.getDom().removeChild(this._dom)},t.prototype.dispose=function(e,t){this.remove(e,t)},t.getDefaultOption=function(e){var t={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:e.getLocaleModel().get(["toolbox","dataView","title"]),lang:e.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};return t},t}(tM);function PM(e,t){return l.Tj(e,(function(e,i){var n=t&&t[i];if(l.Gv(n)&&!l.cy(n)){var o=l.Gv(e)&&!l.cy(e);o||(e={value:e});var a=null!=n.name&&null==e.name;return e=l.NT(e,n),a&&delete e.name,e}return e}))}n.OH({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},(function(e,t){var i=[];l.__(e.newOption.series,(function(e){var n=t.getSeriesByName(e.name)[0];if(n){var o=n.get("data");i.push({name:e.name,data:PM(e.data,o)})}else i.push(l.X$({type:"scatter"},e))})),t.mergeOption(l.NT({series:i},e.newOption))}));var FM=LM,NM=l.__,RM=(0,g.$r)();function VM(e,t){var i=GM(e);NM(t,(function(t,n){for(var o=i.length-1;o>=0;o--){var a=i[o];if(a[n])break}if(o<0){var r=e.queryComponents({mainType:"dataZoom",subType:"select",id:n})[0];if(r){var s=r.getPercentRange();i[0][n]={dataZoomId:n,start:s[0],end:s[1]}}}})),i.push(t)}function EM(e){var t=GM(e),i=t[t.length-1];t.length>1&&t.pop();var n={};return NM(i,(function(e,i){for(var o=t.length-1;o>=0;o--)if(e=t[o][i],e){n[i]=e;break}})),n}function OM(e){RM(e).snapshots=null}function zM(e){return GM(e).length}function GM(e){var t=RM(e);return t.snapshots||(t.snapshots=[{}]),t.snapshots}var BM=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,_e.C6)(t,e),t.prototype.onclick=function(e,t){OM(e),t.dispatchAction({type:"restore",from:this.uid})},t.getDefaultOption=function(e){var t={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:e.getLocaleModel().get(["toolbox","restore","title"])};return t},t}(tM);n.OH({type:"restore",event:"restore",update:"prepareAndUpdate"},(function(e,t){t.resetOption("recreate")}));var WM=BM,HM=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],XM=function(){function e(e,t,i){var n=this;this._targetInfoList=[];var o=jM(t,e);(0,l.__)(UM,(function(e,t){(!i||!i.include||(0,l.qh)(i.include,t)>=0)&&e(o,n._targetInfoList)}))}return e.prototype.setOutputRanges=function(e,t){return this.matchOutputRanges(e,t,(function(e,t,i){if((e.coordRanges||(e.coordRanges=[])).push(t),!e.coordRange){e.coordRange=t;var n=qM[e.brushType](0,i,t);e.__rangeOffset={offset:QM[e.brushType](n.values,e.range,[1,1]),xyMinMax:n.xyMinMax}}})),e},e.prototype.matchOutputRanges=function(e,t,i){(0,l.__)(e,(function(e){var n=this.findTargetInfo(e,t);n&&!0!==n&&(0,l.__)(n.coordSyses,(function(n){var o=qM[e.brushType](1,n,e.range,!0);i(e,o.values,n,t)}))}),this)},e.prototype.setInputRanges=function(e,t){(0,l.__)(e,(function(e){var i=this.findTargetInfo(e,t);if(e.range=e.range||[],i&&!0!==i){e.panelId=i.panelId;var n=qM[e.brushType](0,i.coordSys,e.coordRange),o=e.__rangeOffset;e.range=o?QM[e.brushType](n.values,o.offset,eI(n.xyMinMax,o.xyMinMax)):n.values}}),this)},e.prototype.makePanelOpts=function(e,t){return(0,l.Tj)(this._targetInfoList,(function(i){var n=i.getPanelRect();return{panelId:i.panelId,defaultBrushType:t?t(i):null,clipPath:Sv(n),isTargetByCursor:kv(n,e,i.coordSysModel),getLinearBrushOtherExtent:Av(n)}}))},e.prototype.controlSeries=function(e,t,i){var n=this.findTargetInfo(e,i);return!0===n||n&&(0,l.qh)(n.coordSyses,t.coordinateSystem)>=0},e.prototype.findTargetInfo=function(e,t){for(var i=this._targetInfoList,n=jM(t,e),o=0;o<i.length;o++){var a=i[o],r=e.panelId;if(r){if(a.panelId===r)return a}else for(var s=0;s<YM.length;s++)if(YM[s](n,a))return a}return!0},e}();function $M(e){return e[0]>e[1]&&e.reverse(),e}function jM(e,t){return(0,g._e)(e,t,{includeMainTypes:HM})}var UM={grid:function(e,t){var i=e.xAxisModels,n=e.yAxisModels,o=e.gridModels,a=(0,l.nt)(),r={},s={};(i||n||o)&&((0,l.__)(i,(function(e){var t=e.axis.grid.model;a.set(t.id,t),r[t.id]=!0})),(0,l.__)(n,(function(e){var t=e.axis.grid.model;a.set(t.id,t),s[t.id]=!0})),(0,l.__)(o,(function(e){a.set(e.id,e),r[e.id]=!0,s[e.id]=!0})),a.each((function(e){var o=e.coordinateSystem,a=[];(0,l.__)(o.getCartesians(),(function(e,t){((0,l.qh)(i,e.getAxis("x").model)>=0||(0,l.qh)(n,e.getAxis("y").model)>=0)&&a.push(e)})),t.push({panelId:"grid--"+e.id,gridModel:e,coordSysModel:e,coordSys:a[0],coordSyses:a,getPanelRect:ZM.grid,xAxisDeclared:r[e.id],yAxisDeclared:s[e.id]})})))},geo:function(e,t){(0,l.__)(e.geoModels,(function(e){var i=e.coordinateSystem;t.push({panelId:"geo--"+e.id,geoModel:e,coordSysModel:e,coordSys:i,coordSyses:[i],getPanelRect:ZM.geo})}))}},YM=[function(e,t){var i=e.xAxisModel,n=e.yAxisModel,o=e.gridModel;return!o&&i&&(o=i.axis.grid.model),!o&&n&&(o=n.axis.grid.model),o&&o===t.gridModel},function(e,t){var i=e.geoModel;return i&&i===t.geoModel}],ZM={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var e=this.coordSys,t=e.getBoundingRect().clone();return t.applyTransform(Gn.getTransform(e)),t}},qM={lineX:(0,l.cF)(KM,0),lineY:(0,l.cF)(KM,1),rect:function(e,t,i,n){var o=e?t.pointToData([i[0][0],i[1][0]],n):t.dataToPoint([i[0][0],i[1][0]],n),a=e?t.pointToData([i[0][1],i[1][1]],n):t.dataToPoint([i[0][1],i[1][1]],n),r=[$M([o[0],a[0]]),$M([o[1],a[1]])];return{values:r,xyMinMax:r}},polygon:function(e,t,i,n){var o=[[1/0,-1/0],[1/0,-1/0]],a=(0,l.Tj)(i,(function(i){var a=e?t.pointToData(i,n):t.dataToPoint(i,n);return o[0][0]=Math.min(o[0][0],a[0]),o[1][0]=Math.min(o[1][0],a[1]),o[0][1]=Math.max(o[0][1],a[0]),o[1][1]=Math.max(o[1][1],a[1]),a}));return{values:a,xyMinMax:o}}};function KM(e,t,i,n){var o=i.getAxis(["x","y"][e]),a=$M((0,l.Tj)([0,1],(function(e){return t?o.coordToData(o.toLocalCoord(n[e]),!0):o.toGlobalCoord(o.dataToCoord(n[e]))}))),r=[];return r[e]=a,r[1-e]=[NaN,NaN],{values:a,xyMinMax:r}}var QM={lineX:(0,l.cF)(JM,0),lineY:(0,l.cF)(JM,1),rect:function(e,t,i){return[[e[0][0]-i[0]*t[0][0],e[0][1]-i[0]*t[0][1]],[e[1][0]-i[1]*t[1][0],e[1][1]-i[1]*t[1][1]]]},polygon:function(e,t,i){return(0,l.Tj)(e,(function(e,n){return[e[0]-i[0]*t[n][0],e[1]-i[1]*t[n][1]]}))}};function JM(e,t,i,n){return[t[0]-n[e]*i[0],t[1]-n[e]*i[1]]}function eI(e,t){var i=tI(e),n=tI(t),o=[i[0]/n[0],i[1]/n[1]];return isNaN(o[0])&&(o[0]=1),isNaN(o[1])&&(o[1]=1),o}function tI(e){return e?[e[0][1]-e[0][0],e[1][1]-e[1][0]]:[NaN,NaN]}var iI=XM,nI=i(89355),oI=l.__,aI=(0,g.S_)("toolbox-dataZoom_"),rI=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,_e.C6)(t,e),t.prototype.render=function(e,t,i,n){this._brushController||(this._brushController=new Cv(i.getZr()),this._brushController.on("brush",l.oI(this._onBrush,this)).mount()),cI(e,t,this,n,i),uI(e,t)},t.prototype.onclick=function(e,t,i){sI[i].call(this)},t.prototype.remove=function(e,t){this._brushController&&this._brushController.unmount()},t.prototype.dispose=function(e,t){this._brushController&&this._brushController.dispose()},t.prototype._onBrush=function(e){var t=e.areas;if(e.isEnd&&t.length){var i={},n=this.ecModel;this._brushController.updateCovers([]);var o=new iI(lI(this.model),n,{include:["grid"]});o.matchOutputRanges(t,n,(function(e,t,i){if("cartesian2d"===i.type){var n=e.brushType;"rect"===n?(a("x",i,t[0]),a("y",i,t[1])):a({lineX:"x",lineY:"y"}[n],i,t)}})),VM(n,i),this._dispatchZoomAction(i)}function a(e,t,o){var a=t.getAxis(e),s=a.model,l=r(e,s,n),u=l.findRepresentativeAxisProxy(s).getMinMaxSpan();null==u.minValueSpan&&null==u.maxValueSpan||(o=ly(0,o.slice(),a.scale.getExtent(),0,u.minValueSpan,u.maxValueSpan)),l&&(i[l.id]={dataZoomId:l.id,startValue:o[0],endValue:o[1]})}function r(e,t,i){var n;return i.eachComponent({mainType:"dataZoom",subType:"select"},(function(i){var o=i.getAxisModel(e,t.componentIndex);o&&(n=i)})),n}},t.prototype._dispatchZoomAction=function(e){var t=[];oI(e,(function(e,i){t.push(l.o8(e))})),t.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:t})},t.getDefaultOption=function(e){var t={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:e.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}};return t},t}(tM),sI={zoom:function(){var e=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:e})},back:function(){this._dispatchZoomAction(EM(this.ecModel))}};function lI(e){var t={xAxisIndex:e.get("xAxisIndex",!0),yAxisIndex:e.get("yAxisIndex",!0),xAxisId:e.get("xAxisId",!0),yAxisId:e.get("yAxisId",!0)};return null==t.xAxisIndex&&null==t.xAxisId&&(t.xAxisIndex="all"),null==t.yAxisIndex&&null==t.yAxisId&&(t.yAxisIndex="all"),t}function uI(e,t){e.setIconStatus("back",zM(t)>1?"emphasis":"normal")}function cI(e,t,i,n,o){var a=i._isZoomActive;n&&"takeGlobalCursor"===n.type&&(a="dataZoomSelect"===n.key&&n.dataZoomSelectActive),i._isZoomActive=a,e.setIconStatus("zoom",a?"emphasis":"normal");var r=new iI(lI(e),t,{include:["grid"]}),s=r.makePanelOpts(o,(function(e){return e.xAxisDeclared&&!e.yAxisDeclared?"lineX":!e.xAxisDeclared&&e.yAxisDeclared?"lineY":"rect"}));i._brushController.setPanels(s).enableBrush(!(!a||!s.length)&&{brushType:"auto",brushStyle:e.getModel("brushStyle").getItemStyle()})}(0,nI.S)("dataZoom",(function(e){var t=e.getComponent("toolbox",0),i=["feature","dataZoom"];if(t&&null!=t.get(i)){var n=t.getModel(i),o=[],a=lI(n),r=(0,g._e)(e,a);return oI(r.xAxisModels,(function(e){return s(e,"xAxis","xAxisIndex")})),oI(r.yAxisModels,(function(e){return s(e,"yAxis","yAxisIndex")})),o}function s(e,t,i){var a=e.componentIndex,r={type:"select",$fromToolbox:!0,filterMode:n.get("filterMode",!0)||"filter",id:aI+t+a};r[i]=a,o.push(r)}}));var dI=rI;function hI(e){e.registerComponentModel(rM),e.registerComponentView(dM),nM("saveAsImage",pM),nM("magicType",vM),nM("dataView",FM),nM("dataZoom",dI),nM("restore",WM),p(eM)}var pI=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return(0,_e.C6)(t,e),t.type="tooltip",t.dependencies=["axisPointer"],t.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},t}(r.A),gI=pI;function fI(e){var t=e.get("confine");return null!=t?!!t:"richText"===e.get("renderMode")}function mI(e){if(Te.A.domSupported)for(var t=document.documentElement.style,i=0,n=e.length;i<n;i++)if(e[i]in t)return e[i]}var yI=mI(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),vI=mI(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function _I(e,t){if(!e)return t;t=(0,bo.Cb)(t,!0);var i=e.indexOf(t);return e=-1===i?t:"-"+e.slice(0,i)+"-"+t,e.toLowerCase()}function xI(e,t){var i=e.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(e);return i?t?i[t]:i:null}var bI=_I(vI,"transition"),wI=_I(yI,"transform"),CI="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(Te.A.transform3dSupported?"will-change:transform;":"");function SI(e){return e="left"===e?"right":"right"===e?"left":"top"===e?"bottom":"top",e}function AI(e,t,i){if(!(0,l.Kg)(i)||"inside"===i)return"";var n=e.get("backgroundColor"),o=e.get("borderWidth");t=(0,bo.he)(t);var a,r=SI(i),s=Math.max(1.5*Math.round(o),6),u="",c=wI+":";(0,l.qh)(["left","right"],r)>-1?(u+="top:50%",c+="translateY(-50%) rotate("+(a="left"===r?-225:-45)+"deg)"):(u+="left:50%",c+="translateX(-50%) rotate("+(a="top"===r?225:45)+"deg)");var d=a*Math.PI/180,h=s+o,p=h*Math.abs(Math.cos(d))+h*Math.abs(Math.sin(d)),g=Math.round(100*((p-Math.SQRT2*o)/2+Math.SQRT2*o-(p-h)/2))/100;u+=";"+r+":-"+g+"px";var f=t+" solid "+o+"px;",m=["position:absolute;width:"+s+"px;height:"+s+"px;z-index:-1;",u+";"+c+";","border-bottom:"+f,"border-right:"+f,"background-color:"+n+";"];return'<div style="'+m.join("")+'"></div>'}function kI(e,t){var i="cubic-bezier(0.23,1,0.32,1)",n=" "+e/2+"s "+i,o="opacity"+n+",visibility"+n;return t||(n=" "+e+"s "+i,o+=Te.A.transformSupported?","+wI+n:",left"+n+",top"+n),bI+":"+o}function MI(e,t,i){var n=e.toFixed(0)+"px",o=t.toFixed(0)+"px";if(!Te.A.transformSupported)return i?"top:"+o+";left:"+n+";":[["top",o],["left",n]];var a=Te.A.transform3dSupported,r="translate"+(a?"3d":"")+"("+n+","+o+(a?",0":"")+")";return i?"top:0;left:0;"+wI+":"+r+";":[["top",0],["left",0],[yI,r]]}function II(e){var t=[],i=e.get("fontSize"),n=e.getTextColor();n&&t.push("color:"+n),t.push("font:"+e.getFont()),i&&t.push("line-height:"+Math.round(3*i/2)+"px");var o=e.get("textShadowColor"),a=e.get("textShadowBlur")||0,r=e.get("textShadowOffsetX")||0,s=e.get("textShadowOffsetY")||0;return o&&a&&t.push("text-shadow:"+r+"px "+s+"px "+a+"px "+o),(0,l.__)(["decoration","align"],(function(i){var n=e.get(i);n&&t.push("text-"+i+":"+n)})),t.join(";")}function TI(e,t,i){var n=[],o=e.get("transitionDuration"),a=e.get("backgroundColor"),r=e.get("shadowBlur"),s=e.get("shadowColor"),u=e.get("shadowOffsetX"),c=e.get("shadowOffsetY"),d=e.getModel("textStyle"),h=(0,Du.CO)(e,"html"),p=u+"px "+c+"px "+r+"px "+s;return n.push("box-shadow:"+p),t&&o&&n.push(kI(o,i)),a&&n.push("background-color:"+a),(0,l.__)(["width","color","radius"],(function(t){var i="border-"+t,o=(0,bo.Cb)(i),a=e.get(o);null!=a&&n.push(i+":"+a+("color"===t?"":"px"))})),n.push(II(d)),null!=h&&n.push("padding:"+(0,bo.QX)(h).join("px ")+"px"),n.join(";")+";"}function DI(e,t,i,n,o){var a=t&&t.painter;if(i){var r=a&&a.getViewportRoot();r&&(0,ot.lJ)(e,r,i,n,o)}else{e[0]=n,e[1]=o;var s=a&&a.getViewportRootOffset();s&&(e[0]+=s.offsetLeft,e[1]+=s.offsetTop)}e[2]=e[0]/t.getWidth(),e[3]=e[1]/t.getHeight()}var LI=function(){function e(e,t){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,Te.A.wxa)return null;var i=document.createElement("div");i.domBelongToZr=!0,this.el=i;var n=this._zr=e.getZr(),o=t.appendTo,a=o&&((0,l.Kg)(o)?document.querySelector(o):(0,l.n_)(o)?o:(0,l.Tn)(o)&&o(e.getDom()));DI(this._styleCoord,n,a,e.getWidth()/2,e.getHeight()/2),(a||e.getDom()).appendChild(i),this._api=e,this._container=a;var r=this;i.onmouseenter=function(){r._enterable&&(clearTimeout(r._hideTimeout),r._show=!0),r._inContent=!0},i.onmousemove=function(e){if(e=e||window.event,!r._enterable){var t=n.handler,i=n.painter.getViewportRoot();(0,Yu.e0)(i,e,!0),t.dispatch("mousemove",e)}},i.onmouseleave=function(){r._inContent=!1,r._enterable&&r._show&&r.hideLater(r._hideDelay)}}return e.prototype.update=function(e){if(!this._container){var t=this._api.getDom(),i=xI(t,"position"),n=t.style;"absolute"!==n.position&&"absolute"!==i&&(n.position="relative")}var o=e.get("alwaysShowContent");o&&this._moveIfResized(),this._alwaysShowContent=o,this.el.className=e.get("className")||""},e.prototype.show=function(e,t){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var i=this.el,n=i.style,o=this._styleCoord;i.innerHTML?n.cssText=CI+TI(e,!this._firstShow,this._longHide)+MI(o[0],o[1],!0)+"border-color:"+(0,bo.he)(t)+";"+(e.get("extraCssText")||"")+";pointer-events:"+(this._enterable?"auto":"none"):n.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},e.prototype.setContent=function(e,t,i,n,o){var a=this.el;if(null!=e){var r="";if((0,l.Kg)(o)&&"item"===i.get("trigger")&&!fI(i)&&(r=AI(i,n,o)),(0,l.Kg)(e))a.innerHTML=e+r;else if(e){a.innerHTML="",(0,l.cy)(e)||(e=[e]);for(var s=0;s<e.length;s++)(0,l.n_)(e[s])&&e[s].parentNode!==a&&a.appendChild(e[s]);if(r&&a.childNodes.length){var u=document.createElement("div");u.innerHTML=r,a.appendChild(u)}}}else a.innerHTML=""},e.prototype.setEnterable=function(e){this._enterable=e},e.prototype.getSize=function(){var e=this.el;return[e.offsetWidth,e.offsetHeight]},e.prototype.moveTo=function(e,t){var i=this._styleCoord;if(DI(i,this._zr,this._container,e,t),null!=i[0]&&null!=i[1]){var n=this.el.style,o=MI(i[0],i[1]);(0,l.__)(o,(function(e){n[e[0]]=e[1]}))}},e.prototype._moveIfResized=function(){var e=this._styleCoord[2],t=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())},e.prototype.hide=function(){var e=this,t=this.el.style;t.visibility="hidden",t.opacity="0",Te.A.transform3dSupported&&(t.willChange=""),this._show=!1,this._longHideTimeout=setTimeout((function(){return e._longHide=!0}),500)},e.prototype.hideLater=function(e){!this._show||this._inContent&&this._enterable||this._alwaysShowContent||(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout((0,l.oI)(this.hide,this),e)):this.hide())},e.prototype.isShow=function(){return this._show},e.prototype.dispose=function(){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var e=this.el.parentNode;e&&e.removeChild(this.el),this.el=this._container=null},e}(),PI=LI,FI=function(){function e(e){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=e.getZr(),VI(this._styleCoord,this._zr,e.getWidth()/2,e.getHeight()/2)}return e.prototype.update=function(e){var t=e.get("alwaysShowContent");t&&this._moveIfResized(),this._alwaysShowContent=t},e.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},e.prototype.setContent=function(e,t,i,n,o){var a=this;l.Gv(e)&&(0,N_.$8)(""),this.el&&this._zr.remove(this.el);var r=i.getModel("textStyle");this.el=new Pt.Ay({style:{rich:t.richTextStyles,text:e,lineHeight:22,borderWidth:1,borderColor:n,textShadowColor:r.get("textShadowColor"),fill:i.get(["textStyle","color"]),padding:(0,Du.CO)(i,"richText"),verticalAlign:"top",align:"left"},z:i.get("z")}),l.__(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],(function(e){a.el.style[e]=i.get(e)})),l.__(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],(function(e){a.el.style[e]=r.get(e)||0})),this._zr.add(this.el);var s=this;this.el.on("mouseover",(function(){s._enterable&&(clearTimeout(s._hideTimeout),s._show=!0),s._inContent=!0})),this.el.on("mouseout",(function(){s._enterable&&s._show&&s.hideLater(s._hideDelay),s._inContent=!1}))},e.prototype.setEnterable=function(e){this._enterable=e},e.prototype.getSize=function(){var e=this.el,t=this.el.getBoundingRect(),i=RI(e.style);return[t.width+i.left+i.right,t.height+i.top+i.bottom]},e.prototype.moveTo=function(e,t){var i=this.el;if(i){var n=this._styleCoord;VI(n,this._zr,e,t),e=n[0],t=n[1];var o=i.style,a=NI(o.borderWidth||0),r=RI(o);i.x=e+a+r.left,i.y=t+a+r.top,i.markRedraw()}},e.prototype._moveIfResized=function(){var e=this._styleCoord[2],t=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())},e.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},e.prototype.hideLater=function(e){!this._show||this._inContent&&this._enterable||this._alwaysShowContent||(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(l.oI(this.hide,this),e)):this.hide())},e.prototype.isShow=function(){return this._show},e.prototype.dispose=function(){this._zr.remove(this.el)},e}();function NI(e){return Math.max(0,e)}function RI(e){var t=NI(e.shadowBlur||0),i=NI(e.shadowOffsetX||0),n=NI(e.shadowOffsetY||0);return{left:NI(t-i),right:NI(t+i),top:NI(t-n),bottom:NI(t+n)}}function VI(e,t,i,n){e[0]=i,e[1]=n,e[2]=e[0]/t.getWidth(),e[3]=e[1]/t.getHeight()}var EI=FI,OI=i(32258),zI=new fo.A({shape:{x:-1,y:-1,width:2,height:2}}),GI=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return(0,_e.C6)(t,e),t.prototype.init=function(e,t){if(!Te.A.node&&t.getDom()){var i=e.getComponent("tooltip"),n=this._renderMode=(0,g.XJ)(i.get("renderMode"));this._tooltipContent="richText"===n?new EI(t):new PI(t,{appendTo:i.get("appendToBody",!0)?"body":i.get("appendTo",!0)})}},t.prototype.render=function(e,t,i){if(!Te.A.node&&i.getDom()){this.group.removeAll(),this._tooltipModel=e,this._ecModel=t,this._api=i;var n=this._tooltipContent;n.update(e),n.setEnterable(e.get("enterable")),this._initGlobalListener(),this._keepShow(),"richText"!==this._renderMode&&e.get("transitionDuration")?(0,ha.N)(this,"_updatePosition",50,"fixRate"):(0,ha.IU)(this,"_updatePosition")}},t.prototype._initGlobalListener=function(){var e=this._tooltipModel,t=e.get("triggerOn");dS("itemTooltip",this._api,(0,l.oI)((function(e,i,n){"none"!==t&&(t.indexOf(e)>=0?this._tryShow(i,n):"leave"===e&&this._hide(n))}),this))},t.prototype._keepShow=function(){var e=this._tooltipModel,t=this._ecModel,i=this._api,n=e.get("triggerOn");if(null!=this._lastX&&null!=this._lastY&&"none"!==n&&"click"!==n){var o=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout((function(){!i.isDisposed()&&o.manuallyShowTip(e,t,i,{x:o._lastX,y:o._lastY,dataByCoordSys:o._lastDataByCoordSys})}))}},t.prototype.manuallyShowTip=function(e,t,i,n){if(n.from!==this.uid&&!Te.A.node&&i.getDom()){var o=WI(n,i);this._ticket="";var a=n.dataByCoordSys,r=UI(n,t,i);if(r){var s=r.el.getBoundingRect().clone();s.applyTransform(r.el.transform),this._tryShow({offsetX:s.x+s.width/2,offsetY:s.y+s.height/2,target:r.el,position:n.position,positionDefault:"bottom"},o)}else if(n.tooltip&&null!=n.x&&null!=n.y){var l=zI;l.x=n.x,l.y=n.y,l.update(),(0,y.z)(l).tooltipConfig={name:null,option:n.tooltip},this._tryShow({offsetX:n.x,offsetY:n.y,target:l},o)}else if(a)this._tryShow({offsetX:n.x,offsetY:n.y,position:n.position,dataByCoordSys:a,tooltipOption:n.tooltipOption},o);else if(null!=n.seriesIndex){if(this._manuallyAxisShowTip(e,t,i,n))return;var u=xS(n,t),c=u.point[0],d=u.point[1];null!=c&&null!=d&&this._tryShow({offsetX:c,offsetY:d,target:u.el,position:n.position,positionDefault:"bottom"},o)}else null!=n.x&&null!=n.y&&(i.dispatchAction({type:"updateAxisPointer",x:n.x,y:n.y}),this._tryShow({offsetX:n.x,offsetY:n.y,position:n.position,target:i.getZr().findHover(n.x,n.y).target},o))}},t.prototype.manuallyHideTip=function(e,t,i,n){var o=this._tooltipContent;this._tooltipModel&&o.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,n.from!==this.uid&&this._hide(WI(n,i))},t.prototype._manuallyAxisShowTip=function(e,t,i,n){var o=n.seriesIndex,a=n.dataIndex,r=t.getComponent("axisPointer").coordSysAxesInfo;if(null!=o&&null!=a&&null!=r){var s=t.getSeriesByIndex(o);if(s){var l=s.getData(),u=BI([l.getItemModel(a),s,(s.coordinateSystem||{}).model],this._tooltipModel);if("axis"===u.get("trigger"))return i.dispatchAction({type:"updateAxisPointer",seriesIndex:o,dataIndex:a,position:n.position}),!0}}},t.prototype._tryShow=function(e,t){var i=e.target,n=this._tooltipModel;if(n){this._lastX=e.offsetX,this._lastY=e.offsetY;var o=e.dataByCoordSys;if(o&&o.length)this._showAxisTooltip(o,e);else if(i){var a,r,s=(0,y.z)(i);if("legend"===s.ssrType)return;this._lastDataByCoordSys=null,(0,ch.R)(i,(function(e){return null!=(0,y.z)(e).dataIndex?(a=e,!0):null!=(0,y.z)(e).tooltipConfig?(r=e,!0):void 0}),!0),a?this._showSeriesItemTooltip(e,a,t):r?this._showComponentItemTooltip(e,r,t):this._hide(t)}else this._lastDataByCoordSys=null,this._hide(t)}},t.prototype._showOrMove=function(e,t){var i=e.get("showDelay");t=(0,l.oI)(t,this),clearTimeout(this._showTimout),i>0?this._showTimout=setTimeout(t,i):t()},t.prototype._showAxisTooltip=function(e,t){var i=this._ecModel,n=this._tooltipModel,o=[t.offsetX,t.offsetY],a=BI([t.tooltipOption],n),r=this._renderMode,s=[],u=(0,Du.Qx)("section",{blocks:[],noHeader:!0}),c=[],d=new Du.lb;(0,l.__)(e,(function(e){(0,l.__)(e.dataByAxis,(function(e){var t=i.getComponent(e.axisDim+"Axis",e.axisIndex),o=e.value;if(t&&null!=o){var a=qC(o,t.axis,i,e.seriesDataIndices,e.valueLabelOpt),h=(0,Du.Qx)("section",{header:a,noHeader:!(0,l.Bq)(a),sortBlocks:!0,blocks:[]});u.blocks.push(h),(0,l.__)(e.seriesDataIndices,(function(u){var p=i.getSeriesByIndex(u.seriesIndex),g=u.dataIndexInside,f=p.getDataParams(g);if(!(f.dataIndex<0)){f.axisDim=e.axisDim,f.axisIndex=e.axisIndex,f.axisType=e.axisType,f.axisId=e.axisId,f.axisValue=Hs(t.axis,{value:o}),f.axisValueLabel=a,f.marker=d.makeTooltipMarker("item",(0,bo.he)(f.color),r);var m=(0,OI.L)(p.formatTooltip(g,!0,null)),y=m.frag;if(y){var v=BI([p],n).get("valueFormatter");h.blocks.push(v?(0,l.X$)({valueFormatter:v},y):y)}m.text&&c.push(m.text),s.push(f)}}))}}))})),u.blocks.reverse(),c.reverse();var h=t.position,p=a.get("order"),g=(0,Du.Yu)(u,d,r,p,i.get("useUTC"),a.get("textStyle"));g&&c.unshift(g);var f="richText"===r?"\n\n":"<br/>",m=c.join(f);this._showOrMove(a,(function(){this._updateContentNotChangedOnAxis(e,s)?this._updatePosition(a,h,o[0],o[1],this._tooltipContent,s):this._showTooltipContent(a,m,s,Math.random()+"",o[0],o[1],h,null,d)}))},t.prototype._showSeriesItemTooltip=function(e,t,i){var n=this._ecModel,o=(0,y.z)(t),a=o.seriesIndex,r=n.getSeriesByIndex(a),s=o.dataModel||r,u=o.dataIndex,c=o.dataType,d=s.getData(c),h=this._renderMode,p=e.positionDefault,g=BI([d.getItemModel(u),s,r&&(r.coordinateSystem||{}).model],this._tooltipModel,p?{position:p}:null),f=g.get("trigger");if(null==f||"item"===f){var m=s.getDataParams(u,c),v=new Du.lb;m.marker=v.makeTooltipMarker("item",(0,bo.he)(m.color),h);var _=(0,OI.L)(s.formatTooltip(u,!1,c)),x=g.get("order"),b=g.get("valueFormatter"),w=_.frag,C=w?(0,Du.Yu)(b?(0,l.X$)({valueFormatter:b},w):w,v,h,x,n.get("useUTC"),g.get("textStyle")):_.text,S="item_"+s.name+"_"+u;this._showOrMove(g,(function(){this._showTooltipContent(g,C,m,S,e.offsetX,e.offsetY,e.position,e.target,v)})),i({type:"showTip",dataIndexInside:u,dataIndex:d.getRawIndex(u),seriesIndex:a,from:this.uid})}},t.prototype._showComponentItemTooltip=function(e,t,i){var n="html"===this._renderMode,o=(0,y.z)(t),a=o.tooltipConfig,r=a.option||{},s=r.encodeHTMLContent;if((0,l.Kg)(r)){var u=r;r={content:u,formatter:u},s=!0}s&&n&&r.content&&(r=(0,l.o8)(r),r.content=(0,ot.Me)(r.content));var c=[r],d=this._ecModel.getComponent(o.componentMainType,o.componentIndex);d&&c.push(d),c.push({formatter:r.content});var h=e.positionDefault,p=BI(c,this._tooltipModel,h?{position:h}:null),g=p.get("content"),f=Math.random()+"",m=new Du.lb;this._showOrMove(p,(function(){var i=(0,l.o8)(p.get("formatterParams")||{});this._showTooltipContent(p,g,i,f,e.offsetX,e.offsetY,e.position,t,m)})),i({type:"showTip",from:this.uid})},t.prototype._showTooltipContent=function(e,t,i,n,o,a,r,s,u){if(this._ticket="",e.get("showContent")&&e.get("show")){var c=this._tooltipContent;c.setEnterable(e.get("enterable"));var d=e.get("formatter");r=r||e.get("position");var h=t,p=this._getNearestPoint([o,a],i,e.get("trigger"),e.get("borderColor")),g=p.color;if(d)if((0,l.Kg)(d)){var f=e.ecModel.get("useUTC"),m=(0,l.cy)(i)?i[0]:i,y=m&&m.axisType&&m.axisType.indexOf("time")>=0;h=d,y&&(h=(0,ls.GP)(m.axisValue,h,f)),h=(0,bo.YK)(h,i,!0)}else if((0,l.Tn)(d)){var v=(0,l.oI)((function(t,n){t===this._ticket&&(c.setContent(n,u,e,g,r),this._updatePosition(e,r,o,a,c,i,s))}),this);this._ticket=n,h=d(i,n,v)}else h=d;c.setContent(h,u,e,g,r),c.show(e,g),this._updatePosition(e,r,o,a,c,i,s)}},t.prototype._getNearestPoint=function(e,t,i,n){return"axis"===i||(0,l.cy)(t)?{color:n||("html"===this._renderMode?"#fff":"none")}:(0,l.cy)(t)?void 0:{color:n||t.color||t.borderColor}},t.prototype._updatePosition=function(e,t,i,n,o,a,r){var s=this._api.getWidth(),u=this._api.getHeight();t=t||e.get("position");var c=o.getSize(),d=e.get("align"),h=e.get("verticalAlign"),p=r&&r.getBoundingRect().clone();if(r&&p.applyTransform(r.transform),(0,l.Tn)(t)&&(t=t([i,n],a,o.el,p,{viewSize:[s,u],contentSize:c.slice()})),(0,l.cy)(t))i=(0,v.lo)(t[0],s),n=(0,v.lo)(t[1],u);else if((0,l.Gv)(t)){var g=t;g.width=c[0],g.height=c[1];var f=(0,Ya.dV)(g,{width:s,height:u});i=f.x,n=f.y,d=null,h=null}else if((0,l.Kg)(t)&&r){var m=$I(t,p,c,e.get("borderWidth"));i=m[0],n=m[1]}else{m=HI(i,n,o,s,u,d?null:20,h?null:20);i=m[0],n=m[1]}if(d&&(i-=jI(d)?c[0]/2:"right"===d?c[0]:0),h&&(n-=jI(h)?c[1]/2:"bottom"===h?c[1]:0),fI(e)){m=XI(i,n,o,s,u);i=m[0],n=m[1]}o.moveTo(i,n)},t.prototype._updateContentNotChangedOnAxis=function(e,t){var i=this._lastDataByCoordSys,n=this._cbParamsList,o=!!i&&i.length===e.length;return o&&(0,l.__)(i,(function(i,a){var r=i.dataByAxis||[],s=e[a]||{},u=s.dataByAxis||[];o=o&&r.length===u.length,o&&(0,l.__)(r,(function(e,i){var a=u[i]||{},r=e.seriesDataIndices||[],s=a.seriesDataIndices||[];o=o&&e.value===a.value&&e.axisType===a.axisType&&e.axisId===a.axisId&&r.length===s.length,o&&(0,l.__)(r,(function(e,t){var i=s[t];o=o&&e.seriesIndex===i.seriesIndex&&e.dataIndex===i.dataIndex})),n&&(0,l.__)(e.seriesDataIndices,(function(e){var i=e.seriesIndex,a=t[i],r=n[i];a&&r&&r.data!==a.data&&(o=!1)}))}))})),this._lastDataByCoordSys=e,this._cbParamsList=t,!!o},t.prototype._hide=function(e){this._lastDataByCoordSys=null,e({type:"hideTip",from:this.uid})},t.prototype.dispose=function(e,t){!Te.A.node&&t.getDom()&&((0,ha.IU)(this,"_updatePosition"),this._tooltipContent.dispose(),yS("itemTooltip",t))},t.type="tooltip",t}(o.A);function BI(e,t,i){var n,o=t.ecModel;i?(n=new Di.A(i,o,o),n=new Di.A(t.option,n,o)):n=t;for(var a=e.length-1;a>=0;a--){var r=e[a];r&&(r instanceof Di.A&&(r=r.get("tooltip",!0)),(0,l.Kg)(r)&&(r={formatter:r}),r&&(n=new Di.A(r,n,o)))}return n}function WI(e,t){return e.dispatchAction||(0,l.oI)(t.dispatchAction,t)}function HI(e,t,i,n,o,a,r){var s=i.getSize(),l=s[0],u=s[1];return null!=a&&(e+l+a+2>n?e-=l+a:e+=a),null!=r&&(t+u+r>o?t-=u+r:t+=r),[e,t]}function XI(e,t,i,n,o){var a=i.getSize(),r=a[0],s=a[1];return e=Math.min(e+r,n)-r,t=Math.min(t+s,o)-s,e=Math.max(e,0),t=Math.max(t,0),[e,t]}function $I(e,t,i,n){var o=i[0],a=i[1],r=Math.ceil(Math.SQRT2*n)+8,s=0,l=0,u=t.width,c=t.height;switch(e){case"inside":s=t.x+u/2-o/2,l=t.y+c/2-a/2;break;case"top":s=t.x+u/2-o/2,l=t.y-a-r;break;case"bottom":s=t.x+u/2-o/2,l=t.y+c+r;break;case"left":s=t.x-o-r,l=t.y+c/2-a/2;break;case"right":s=t.x+u+r,l=t.y+c/2-a/2}return[s,l]}function jI(e){return"center"===e||"middle"===e}function UI(e,t,i){var n=(0,g.HB)(e).queryOptionMap,o=n.keys()[0];if(o&&"series"!==o){var a=(0,g.JO)(t,o,n.get(o),{useDefault:!1,enableAll:!1,enableNone:!1}),r=a.models[0];if(r){var s,l=i.getViewOfComponentModel(r);return l.group.traverse((function(t){var i=(0,y.z)(t).tooltipConfig;if(i&&i.name===e.name)return s=t,!0})),s?{componentMainType:o,componentIndex:r.componentIndex,el:s}:void 0}}}var YI=GI;function ZI(e){p(FS),e.registerComponentModel(gI),e.registerComponentView(YI),e.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},l.lQ),e.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},l.lQ)}var qI=["rect","polygon","keep","clear"];function KI(e,t){var i=(0,g.qB)(e?e.brush:[]);if(i.length){var n=[];l.__(i,(function(e){var t=e.hasOwnProperty("toolbox")?e.toolbox:[];t instanceof Array&&(n=n.concat(t))}));var o=e&&e.toolbox;l.cy(o)&&(o=o[0]),o||(o={feature:{}},e.toolbox=[o]);var a=o.feature||(o.feature={}),r=a.brush||(a.brush={}),s=r.type||(r.type=[]);s.push.apply(s,n),QI(s),t&&!s.length&&s.push.apply(s,qI)}}function QI(e){var t={};l.__(e,(function(e){t[e]=1})),e.length=0,l.__(t,(function(t,i){e.push(i)}))}var JI=i(43988),eT=l.__;function tT(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!0}function iT(e,t,i){var n={};return eT(t,(function(t){var a=n[t]=o();eT(e[t],(function(e,n){if(pg.isValidType(n)){var o={type:n,visual:e};i&&i(o,t),a[n]=new pg(o),"opacity"===n&&(o=l.o8(o),o.type="colorAlpha",a.__hidden.__alphaForOpacity=new pg(o))}}))})),n;function o(){var e=function(){};e.prototype.__hidden=e.prototype;var t=new e;return t}}function nT(e,t,i){var n;l.__(i,(function(e){t.hasOwnProperty(e)&&tT(t[e])&&(n=!0)})),n&&l.__(i,(function(i){t.hasOwnProperty(i)&&tT(t[i])?e[i]=l.o8(t[i]):delete e[i]}))}function oT(e,t,i,n,o,a){var r,s={};function u(e){return(0,JI.Ez)(i,r,e)}function c(e,t){(0,JI.oZ)(i,r,e,t)}function d(e,l){r=null==a?e:l;var d=i.getRawDataItem(r);if(!d||!1!==d.visualMap)for(var h=n.call(o,e),p=t[h],g=s[h],f=0,m=g.length;f<m;f++){var y=g[f];p[y]&&p[y].applyVisual(e,u,c)}}l.__(e,(function(e){var i=pg.prepareVisualTypes(t[e]);s[e]=i})),null==a?i.each(d):i.each([a],d)}function aT(e,t,i,n){var o={};return l.__(e,(function(e){var i=pg.prepareVisualTypes(t[e]);o[e]=i})),{progress:function(e,a){var r,s;function l(e){return(0,JI.Ez)(a,s,e)}function u(e,t){(0,JI.oZ)(a,s,e,t)}null!=n&&(r=a.getDimensionIndex(n));var c=a.getStore();while(null!=(s=e.next())){var d=a.getRawDataItem(s);if(!d||!1!==d.visualMap)for(var h=null!=n?c.get(r,s):s,p=i(h),g=t[p],f=o[p],m=0,y=f.length;m<y;m++){var v=f[m];g[v]&&g[v].applyVisual(h,l,u)}}}}}function rT(e){var t=e.brushType,i={point:function(n){return sT[t].point(n,i,e)},rect:function(n){return sT[t].rect(n,i,e)}};return i}var sT={lineX:lT(0),lineY:lT(1),rect:{point:function(e,t,i){return e&&i.boundingRect.contain(e[0],e[1])},rect:function(e,t,i){return e&&i.boundingRect.intersect(e)}},polygon:{point:function(e,t,i){return e&&i.boundingRect.contain(e[0],e[1])&&Wc(i.range,e[0],e[1])},rect:function(e,t,i){var n=i.range;if(!e||n.length<=1)return!1;var o=e.x,a=e.y,r=e.width,s=e.height,l=n[0];return!!(Wc(n,o,a)||Wc(n,o+r,a)||Wc(n,o,a+s)||Wc(n,o+r,a+s)||f.A.create(e).contain(l[0],l[1])||(0,Gn.linePolygonIntersect)(o,a,o+r,a,n)||(0,Gn.linePolygonIntersect)(o,a,o,a+s,n)||(0,Gn.linePolygonIntersect)(o+r,a,o+r,a+s,n)||(0,Gn.linePolygonIntersect)(o,a+s,o+r,a+s,n))||void 0}}};function lT(e){var t=["x","y"],i=["width","height"];return{point:function(t,i,n){if(t){var o=n.range,a=t[e];return uT(a,o)}},rect:function(n,o,a){if(n){var r=a.range,s=[n[t[e]],n[t[e]]+n[i[e]]];return s[1]<s[0]&&s.reverse(),uT(s[0],r)||uT(s[1],r)||uT(r[0],s)||uT(r[1],s)}}}}function uT(e,t){return t[0]<=e&&e<=t[1]}var cT=["inBrush","outOfBrush"],dT="__ecBrushSelect",hT="__ecInBrushSelectEvent";function pT(e){e.eachComponent({mainType:"brush"},(function(t){var i=t.brushTargetManager=new iI(t.option,e);i.setInputRanges(t.areas,e)}))}function gT(e,t,i){var n,o,a=[];e.eachComponent({mainType:"brush"},(function(e){i&&"takeGlobalCursor"===i.type&&e.setBrushOption("brush"===i.key?i.brushOption:{brushType:!1})})),pT(e),e.eachComponent({mainType:"brush"},(function(t,i){var r={brushId:t.id,brushIndex:i,brushName:t.name,areas:l.o8(t.areas),selected:[]};a.push(r);var s=t.option,u=s.brushLink,c=[],d=[],h=[],p=!1;i||(n=s.throttleType,o=s.throttleDelay);var g=l.Tj(t.areas,(function(e){var t=_T[e.brushType],i=l.NT({boundingRect:t?t(e):void 0},e);return i.selectors=rT(i),i})),f=iT(t.option,cT,(function(e){e.mappingMethod="fixed"}));function m(e){return"all"===u||!!c[e]}function y(e){return!!e.length}function v(e,t){var i=e.coordinateSystem;p=p||i.hasAxisBrushed(),m(t)&&i.eachActiveState(e.getData(),(function(e,t){"active"===e&&(d[t]=1)}))}function _(i,n,o){if(i.brushSelector&&!vT(t,n)&&(l.__(g,(function(n){t.brushTargetManager.controlSeries(n,i,e)&&o.push(n),p=p||y(o)})),m(n)&&y(o))){var a=i.getData();a.each((function(e){yT(i,o,a,e)&&(d[e]=1)}))}}l.cy(u)&&l.__(u,(function(e){c[e]=1})),e.eachSeries((function(e,t){var i=h[t]=[];"parallel"===e.subType?v(e,t):_(e,t,i)})),e.eachSeries((function(e,t){var i={seriesId:e.id,seriesIndex:t,seriesName:e.name,dataIndex:[]};r.selected.push(i);var n=h[t],o=e.getData(),a=m(t)?function(e){return d[e]?(i.dataIndex.push(o.getRawIndex(e)),"inBrush"):"outOfBrush"}:function(t){return yT(e,n,o,t)?(i.dataIndex.push(o.getRawIndex(t)),"inBrush"):"outOfBrush"};(m(t)?p:y(n))&&oT(cT,f,o,a)}))})),fT(t,n,o,a,i)}function fT(e,t,i,n,o){if(o){var a=e.getZr();if(!a[hT]){a[dT]||(a[dT]=mT);var r=ha.N(a,dT,i,t);r(e,n)}}}function mT(e,t){if(!e.isDisposed()){var i=e.getZr();i[hT]=!0,e.dispatchAction({type:"brushSelect",batch:t}),i[hT]=!1}}function yT(e,t,i,n){for(var o=0,a=t.length;o<a;o++){var r=t[o];if(e.brushSelector(n,i,r.selectors,r))return!0}}function vT(e,t){var i=e.option.seriesIndex;return null!=i&&"all"!==i&&(l.cy(i)?l.qh(i,t)<0:t!==i)}var _T={rect:function(e){return xT(e.range)},polygon:function(e){for(var t,i=e.range,n=0,o=i.length;n<o;n++){t=t||[[1/0,-1/0],[1/0,-1/0]];var a=i[n];a[0]<t[0][0]&&(t[0][0]=a[0]),a[0]>t[0][1]&&(t[0][1]=a[0]),a[1]<t[1][0]&&(t[1][0]=a[1]),a[1]>t[1][1]&&(t[1][1]=a[1])}return t&&xT(t)}};function xT(e){return new f.A(e[0][0],e[1][0],e[0][1]-e[0][0],e[1][1]-e[1][0])}var bT=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return(0,_e.C6)(t,e),t.prototype.init=function(e,t){this.ecModel=e,this.api=t,this.model,(this._brushController=new Cv(t.getZr())).on("brush",l.oI(this._onBrush,this)).mount()},t.prototype.render=function(e,t,i,n){this.model=e,this._updateController(e,t,i,n)},t.prototype.updateTransform=function(e,t,i,n){pT(t),this._updateController(e,t,i,n)},t.prototype.updateVisual=function(e,t,i,n){this.updateTransform(e,t,i,n)},t.prototype.updateView=function(e,t,i,n){this._updateController(e,t,i,n)},t.prototype._updateController=function(e,t,i,n){(!n||n.$from!==e.id)&&this._brushController.setPanels(e.brushTargetManager.makePanelOpts(i)).enableBrush(e.brushOption).updateCovers(e.areas.slice())},t.prototype.dispose=function(){this._brushController.dispose()},t.prototype._onBrush=function(e){var t=this.model.id,i=this.model.brushTargetManager.setOutputRanges(e.areas,this.ecModel);(!e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:t,areas:l.o8(i),$from:t}),e.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:t,areas:l.o8(i),$from:t})},t.type="brush",t}(o.A),wT=bT,CT="#ddd",ST=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i.areas=[],i.brushOption={},i}return(0,_e.C6)(t,e),t.prototype.optionUpdated=function(e,t){var i=this.option;!t&&nT(i,e,["inBrush","outOfBrush"]);var n=i.inBrush=i.inBrush||{};i.outOfBrush=i.outOfBrush||{color:CT},n.hasOwnProperty("liftZ")||(n.liftZ=5)},t.prototype.setAreas=function(e){e&&(this.areas=l.Tj(e,(function(e){return AT(this.option,e)}),this))},t.prototype.setBrushOption=function(e){this.brushOption=AT(this.option,e),this.brushType=this.brushOption.brushType},t.type="brush",t.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],t.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},t}(r.A);function AT(e,t){return l.h1({brushType:e.brushType,brushMode:e.brushMode,transformable:e.transformable,brushStyle:new Di.A(e.brushStyle).getItemStyle(),removeOnClick:e.removeOnClick,z:e.z},t,!0)}var kT=ST,MT=["rect","polygon","lineX","lineY","keep","clear"],IT=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,_e.C6)(t,e),t.prototype.render=function(e,t,i){var n,o,a;t.eachComponent({mainType:"brush"},(function(e){n=e.brushType,o=e.brushOption.brushMode||"single",a=a||!!e.areas.length})),this._brushType=n,this._brushMode=o,l.__(e.get("type",!0),(function(t){e.setIconStatus(t,("keep"===t?"multiple"===o:"clear"===t?a:t===n)?"emphasis":"normal")}))},t.prototype.updateView=function(e,t,i){this.render(e,t,i)},t.prototype.getIcons=function(){var e=this.model,t=e.get("icon",!0),i={};return l.__(e.get("type",!0),(function(e){t[e]&&(i[e]=t[e])})),i},t.prototype.onclick=function(e,t,i){var n=this._brushType,o=this._brushMode;"clear"===i?(t.dispatchAction({type:"axisAreaSelect",intervals:[]}),t.dispatchAction({type:"brush",command:"clear",areas:[]})):t.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===i?n:n!==i&&i,brushMode:"keep"===i?"multiple"===o?"single":"multiple":o}})},t.getDefaultOption=function(e){var t={show:!0,type:MT.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:e.getLocaleModel().get(["toolbox","brush","title"])};return t},t}(tM),TT=IT;function DT(e){e.registerComponentView(wT),e.registerComponentModel(kT),e.registerPreprocessor(KI),e.registerVisual(e.PRIORITY.VISUAL.BRUSH,gT),e.registerAction({type:"brush",event:"brush",update:"updateVisual"},(function(e,t){t.eachComponent({mainType:"brush",query:e},(function(t){t.setAreas(e.areas)}))})),e.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},l.lQ),e.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},l.lQ),nM("brush",TT)}var LT=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i.layoutMode={type:"box",ignoreSize:!0},i}return(0,_e.C6)(t,e),t.type="title",t.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},t}(r.A),PT=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return(0,_e.C6)(t,e),t.prototype.render=function(e,t,i){if(this.group.removeAll(),e.get("show")){var n=this.group,o=e.getModel("textStyle"),a=e.getModel("subtextStyle"),r=e.get("textAlign"),s=l.bZ(e.get("textBaseline"),e.get("textVerticalAlign")),u=new Pt.Ay({style:(0,ae.VB)(o,{text:e.get("text"),fill:o.getTextColor()},{disableBox:!0}),z2:10}),c=u.getBoundingRect(),d=e.get("subtext"),h=new Pt.Ay({style:(0,ae.VB)(a,{text:d,fill:a.getTextColor(),y:c.height+e.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),p=e.get("link"),g=e.get("sublink"),f=e.get("triggerEvent",!0);u.silent=!p&&!f,h.silent=!g&&!f,p&&u.on("click",(function(){(0,bo.JW)(p,"_"+e.get("target"))})),g&&h.on("click",(function(){(0,bo.JW)(g,"_"+e.get("subtarget"))})),(0,y.z)(u).eventData=(0,y.z)(h).eventData=f?{componentType:"title",componentIndex:e.componentIndex}:null,n.add(u),d&&n.add(h);var m=n.getBoundingRect(),v=e.getBoxLayoutParams();v.width=m.width,v.height=m.height;var _=(0,Ya.dV)(v,{width:i.getWidth(),height:i.getHeight()},e.get("padding"));r||(r=e.get("left")||e.get("right"),"middle"===r&&(r="center"),"right"===r?_.x+=_.width:"center"===r&&(_.x+=_.width/2)),s||(s=e.get("top")||e.get("bottom"),"center"===s&&(s="middle"),"bottom"===s?_.y+=_.height:"middle"===s&&(_.y+=_.height/2),s=s||"top"),n.x=_.x,n.y=_.y,n.markRedraw();var x={align:r,verticalAlign:s};u.setStyle(x),h.setStyle(x),m=n.getBoundingRect();var b=_.margin,w=e.getItemStyle(["color","opacity"]);w.fill=e.get("backgroundColor");var C=new fo.A({shape:{x:m.x-b[3],y:m.y-b[0],width:m.width+b[1]+b[3],height:m.height+b[0]+b[2],r:e.get("borderRadius")},style:w,subPixelOptimize:!0,silent:!0});n.add(C)}},t.type="title",t}(o.A);function FT(e){e.registerComponentModel(LT),e.registerComponentView(PT)}var NT=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i.layoutMode="box",i}return(0,_e.C6)(t,e),t.prototype.init=function(e,t,i){this.mergeDefaultAndTheme(e,i),this._initData()},t.prototype.mergeOption=function(t){e.prototype.mergeOption.apply(this,arguments),this._initData()},t.prototype.setCurrentIndex=function(e){null==e&&(e=this.option.currentIndex);var t=this._data.count();this.option.loop?e=(e%t+t)%t:(e>=t&&(e=t-1),e<0&&(e=0)),this.option.currentIndex=e},t.prototype.getCurrentIndex=function(){return this.option.currentIndex},t.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},t.prototype.setPlayState=function(e){this.option.autoPlay=!!e},t.prototype.getPlayState=function(){return!!this.option.autoPlay},t.prototype._initData=function(){var e,t=this.option,i=t.data||[],n=t.axisType,o=this._names=[];"category"===n?(e=[],(0,l.__)(i,(function(t,i){var n,a=(0,g.vS)((0,g.vj)(t),"");(0,l.Gv)(t)?(n=(0,l.o8)(t),n.value=i):n=i,e.push(n),o.push(a)}))):e=i;var a={category:"ordinal",time:"time",value:"number"}[n]||"number",r=this._data=new fn([{name:"value",type:a}],this);r.initData(e,o)},t.prototype.getData=function(){return this._data},t.prototype.getCategories=function(){if("category"===this.get("axisType"))return this._names.slice()},t.type="timeline",t.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},t}(r.A),RT=NT,VT=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return(0,_e.C6)(t,e),t.type="timeline.slider",t.defaultOption=(0,ua.G_)(RT.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),t}(RT);(0,l.co)(VT,OI.J.prototype);var ET=VT,OT=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return(0,_e.C6)(t,e),t.type="timeline",t}(o.A),zT=OT,GT=function(e){function t(t,i,n,o){var a=e.call(this,t,i,n)||this;return a.type=o||"value",a}return(0,_e.C6)(t,e),t.prototype.getLabelModel=function(){return this.model.getModel("label")},t.prototype.isHorizontal=function(){return"horizontal"===this.model.get("orient")},t}(wl),BT=GT,WT=Math.PI,HT=(0,g.$r)(),XT=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return(0,_e.C6)(t,e),t.prototype.init=function(e,t){this.api=t},t.prototype.render=function(e,t,i){if(this.model=e,this.api=i,this.ecModel=t,this.group.removeAll(),e.get("show",!0)){var n=this._layout(e,i),o=this._createGroup("_mainGroup"),a=this._createGroup("_labelGroup"),r=this._axis=this._createAxis(n,e);e.formatTooltip=function(e){var t=r.scale.getLabel({value:e});return(0,Du.Qx)("nameValue",{noName:!0,value:t})},(0,l.__)(["AxisLine","AxisTick","Control","CurrentPointer"],(function(t){this["_render"+t](n,o,r,e)}),this),this._renderAxisLabel(n,a,r,e),this._position(n,e)}this._doPlayStop(),this._updateTicksStatus()},t.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},t.prototype.dispose=function(){this._clearTimer()},t.prototype._layout=function(e,t){var i,n=e.get(["label","position"]),o=e.get("orient"),a=jT(e,t);i=null==n||"auto"===n?"horizontal"===o?a.y+a.height/2<t.getHeight()/2?"-":"+":a.x+a.width/2<t.getWidth()/2?"+":"-":(0,l.Kg)(n)?{horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[o][n]:n;var r,s,u,c={horizontal:"center",vertical:i>=0||"+"===i?"left":"right"},d={horizontal:i>=0||"+"===i?"top":"bottom",vertical:"middle"},h={horizontal:0,vertical:WT/2},p="vertical"===o?a.height:a.width,g=e.getModel("controlStyle"),f=g.get("show",!0),m=f?g.get("itemSize"):0,y=f?g.get("itemGap"):0,v=m+y,_=e.get(["label","rotate"])||0;_=_*WT/180;var x=g.get("position",!0),b=f&&g.get("showPlayBtn",!0),w=f&&g.get("showPrevBtn",!0),C=f&&g.get("showNextBtn",!0),S=0,A=p;"left"===x||"bottom"===x?(b&&(r=[0,0],S+=v),w&&(s=[S,0],S+=v),C&&(u=[A-m,0],A-=v)):(b&&(r=[A-m,0],A-=v),w&&(s=[0,0],S+=v),C&&(u=[A-m,0],A-=v));var k=[S,A];return e.get("inverse")&&k.reverse(),{viewRect:a,mainLength:p,orient:o,rotation:h[o],labelRotation:_,labelPosOpt:i,labelAlign:e.get(["label","align"])||c[o],labelBaseline:e.get(["label","verticalAlign"])||e.get(["label","baseline"])||d[o],playPosition:r,prevBtnPosition:s,nextBtnPosition:u,axisExtent:k,controlSize:m,controlGap:y}},t.prototype._position=function(e,t){var i=this._mainGroup,n=this._labelGroup,o=e.viewRect;if("vertical"===e.orient){var a=k.vt(),r=o.x,s=o.y+o.height;k.Tl(a,a,[-r,-s]),k.e$(a,a,-WT/2),k.Tl(a,a,[r,s]),o=o.clone(),o.applyTransform(a)}var u=y(o),c=y(i.getBoundingRect()),d=y(n.getBoundingRect()),h=[i.x,i.y],p=[n.x,n.y];p[0]=h[0]=u[0][0];var g=e.labelPosOpt;if(null==g||(0,l.Kg)(g)){var f="+"===g?0:1;v(h,c,u,1,f),v(p,d,u,1,1-f)}else{f=g>=0?0:1;v(h,c,u,1,f),p[1]=h[1]+g}function m(e){e.originX=u[0][0]-e.x,e.originY=u[1][0]-e.y}function y(e){return[[e.x,e.x+e.width],[e.y,e.y+e.height]]}function v(e,t,i,n,o){e[n]+=i[n][o]-t[n][o]}i.setPosition(h),n.setPosition(p),i.rotation=n.rotation=e.rotation,m(i),m(n)},t.prototype._createAxis=function(e,t){var i=t.getData(),n=t.get("axisType"),o=$T(t,n);o.getTicks=function(){return i.mapArray(["value"],(function(e){return{value:e}}))};var a=i.getDataExtent("value");o.setExtent(a[0],a[1]),o.calcNiceTicks();var r=new BT("value",o,e.axisExtent,n);return r.model=t,r},t.prototype._createGroup=function(e){var t=this[e]=new En.A;return this.group.add(t),t},t.prototype._renderAxisLine=function(e,t,i,n){var o=i.getExtent();if(n.get(["lineStyle","show"])){var a=new Vl.A({shape:{x1:o[0],y1:0,x2:o[1],y2:0},style:(0,l.X$)({lineCap:"round"},n.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});t.add(a);var r=this._progressLine=new Vl.A({shape:{x1:o[0],x2:this._currentPointer?this._currentPointer.x:o[0],y1:0,y2:0},style:(0,l.NT)({lineCap:"round",lineWidth:a.style.lineWidth},n.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});t.add(r)}},t.prototype._renderAxisTick=function(e,t,i,n){var o=this,a=n.getData(),r=i.scale.getTicks();this._tickSymbols=[],(0,l.__)(r,(function(e){var r=i.dataToCoord(e.value),s=a.getItemModel(e.value),u=s.getModel("itemStyle"),c=s.getModel(["emphasis","itemStyle"]),d=s.getModel(["progress","itemStyle"]),h={x:r,y:0,onclick:(0,l.oI)(o._changeTimeline,o,e.value)},p=YT(s,u,t,h);p.ensureState("emphasis").style=c.getItemStyle(),p.ensureState("progress").style=d.getItemStyle(),(0,I.iJ)(p);var g=(0,y.z)(p);s.get("tooltip")?(g.dataIndex=e.value,g.dataModel=n):g.dataIndex=g.dataModel=null,o._tickSymbols.push(p)}))},t.prototype._renderAxisLabel=function(e,t,i,n){var o=this,a=i.getLabelModel();if(a.get("show")){var r=n.getData(),s=i.getViewLabels();this._tickLabels=[],(0,l.__)(s,(function(n){var a=n.tickValue,s=r.getItemModel(a),u=s.getModel("label"),c=s.getModel(["emphasis","label"]),d=s.getModel(["progress","label"]),h=i.dataToCoord(n.tickValue),p=new Pt.Ay({x:h,y:0,rotation:e.labelRotation-e.rotation,onclick:(0,l.oI)(o._changeTimeline,o,a),silent:!1,style:(0,ae.VB)(u,{text:n.formattedLabel,align:e.labelAlign,verticalAlign:e.labelBaseline})});p.ensureState("emphasis").style=(0,ae.VB)(c),p.ensureState("progress").style=(0,ae.VB)(d),t.add(p),(0,I.iJ)(p),HT(p).dataIndex=a,o._tickLabels.push(p)}))}},t.prototype._renderControl=function(e,t,i,n){var o=e.controlSize,a=e.rotation,r=n.getModel("controlStyle").getItemStyle(),s=n.getModel(["emphasis","controlStyle"]).getItemStyle(),u=n.getPlayState(),c=n.get("inverse",!0);function d(e,i,u,c){if(e){var d=(0,Be.lo)((0,l.bZ)(n.get(["controlStyle",i+"BtnSize"]),o),o),h=[0,-d/2,d,d],p=UT(n,i+"Icon",h,{x:e[0],y:e[1],originX:o/2,originY:0,rotation:c?-a:0,rectHover:!0,style:r,onclick:u});p.ensureState("emphasis").style=s,t.add(p),(0,I.iJ)(p)}}d(e.nextBtnPosition,"next",(0,l.oI)(this._changeTimeline,this,c?"-":"+")),d(e.prevBtnPosition,"prev",(0,l.oI)(this._changeTimeline,this,c?"+":"-")),d(e.playPosition,u?"stop":"play",(0,l.oI)(this._handlePlayClick,this,!u),!0)},t.prototype._renderCurrentPointer=function(e,t,i,n){var o=n.getData(),a=n.getCurrentIndex(),r=o.getItemModel(a).getModel("checkpointStyle"),s=this,u={onCreate:function(e){e.draggable=!0,e.drift=(0,l.oI)(s._handlePointerDrag,s),e.ondragend=(0,l.oI)(s._handlePointerDragend,s),ZT(e,s._progressLine,a,i,n,!0)},onUpdate:function(e){ZT(e,s._progressLine,a,i,n)}};this._currentPointer=YT(r,r,this._mainGroup,{},this._currentPointer,u)},t.prototype._handlePlayClick=function(e){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:e,from:this.uid})},t.prototype._handlePointerDrag=function(e,t,i){this._clearTimer(),this._pointerChangeTimeline([i.offsetX,i.offsetY])},t.prototype._handlePointerDragend=function(e){this._pointerChangeTimeline([e.offsetX,e.offsetY],!0)},t.prototype._pointerChangeTimeline=function(e,t){var i=this._toAxisCoord(e)[0],n=this._axis,o=v.Y6(n.getExtent().slice());i>o[1]&&(i=o[1]),i<o[0]&&(i=o[0]),this._currentPointer.x=i,this._currentPointer.markRedraw();var a=this._progressLine;a&&(a.shape.x2=i,a.dirty());var r=this._findNearestTick(i),s=this.model;(t||r!==s.getCurrentIndex()&&s.get("realtime"))&&this._changeTimeline(r)},t.prototype._doPlayStop=function(){var e=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout((function(){var t=e.model;e._changeTimeline(t.getCurrentIndex()+(t.get("rewind",!0)?-1:1))}),this.model.get("playInterval")))},t.prototype._toAxisCoord=function(e){var t=this._mainGroup.getLocalTransform();return Gn.applyTransform(e,t,!0)},t.prototype._findNearestTick=function(e){var t,i=this.model.getData(),n=1/0,o=this._axis;return i.each(["value"],(function(i,a){var r=o.dataToCoord(i),s=Math.abs(r-e);s<n&&(n=s,t=a)})),t},t.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},t.prototype._changeTimeline=function(e){var t=this.model.getCurrentIndex();"+"===e?e=t+1:"-"===e&&(e=t-1),this.api.dispatchAction({type:"timelineChange",currentIndex:e,from:this.uid})},t.prototype._updateTicksStatus=function(){var e=this.model.getCurrentIndex(),t=this._tickSymbols,i=this._tickLabels;if(t)for(var n=0;n<t.length;n++)t&&t[n]&&t[n].toggleState("progress",n<e);if(i)for(n=0;n<i.length;n++)i&&i[n]&&i[n].toggleState("progress",HT(i[n]).dataIndex<=e)},t.type="timeline.slider",t}(zT);function $T(e,t){if(t=t||e.get("type"),t)switch(t){case"category":return new os({ordinalMeta:e.getCategories(),extent:[1/0,-1/0]});case"time":return new xs({locale:e.ecModel.getLocaleModel(),useUTC:e.ecModel.get("useUTC")});default:return new ss}}function jT(e,t){return Ya.dV(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()},e.get("padding"))}function UT(e,t,i,n){var o=n.style,a=Gn.createIcon(e.get(["controlStyle",t]),n||{},new f.A(i[0],i[1],i[2],i[3]));return o&&a.setStyle(o),a}function YT(e,t,i,n,o,a){var r=t.get("color");if(o)o.setColor(r),i.add(o),a&&a.onUpdate(o);else{var s=e.get("symbol");o=(0,Vn.v5)(s,-1,-1,2,2,r),o.setStyle("strokeNoScale",!0),i.add(o),a&&a.onCreate(o)}var u=t.getItemStyle(["color"]);o.setStyle(u),n=(0,l.h1)({rectHover:!0,z2:100},n,!0);var c=(0,Vn.xU)(e.get("symbolSize"));n.scaleX=c[0]/2,n.scaleY=c[1]/2;var d=(0,Vn.hV)(e.get("symbolOffset"),c);d&&(n.x=(n.x||0)+d[0],n.y=(n.y||0)+d[1]);var h=e.get("symbolRotate");return n.rotation=(h||0)*Math.PI/180||0,o.attr(n),o.updateTransform(),o}function ZT(e,t,i,n,o,a){if(!e.dragging){var r=o.getModel("checkpointStyle"),s=n.dataToCoord(o.getData().get("value",i));if(a||!r.get("animation",!0))e.attr({x:s,y:0}),t&&t.attr({shape:{x2:s}});else{var l={duration:r.get("animationDuration",!0),easing:r.get("animationEasing",!0)};e.stopAnimation(null,!0),e.animateTo({x:s,y:0},l),t&&t.animateTo({shape:{x2:s}},l)}}}var qT=XT;function KT(e){e.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},(function(e,t,i){var n=t.getComponent("timeline");return n&&null!=e.currentIndex&&(n.setCurrentIndex(e.currentIndex),!n.get("loop",!0)&&n.isIndexMax()&&n.getPlayState()&&(n.setPlayState(!1),i.dispatchAction({type:"timelinePlayChange",playState:!1,from:e.from}))),t.resetOption("timeline",{replaceMerge:n.get("replaceMerge",!0)}),(0,l.NT)({currentIndex:n.option.currentIndex},e)})),e.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},(function(e,t){var i=t.getComponent("timeline");i&&null!=e.playState&&i.setPlayState(e.playState)}))}function QT(e){var t=e&&e.timeline;l.cy(t)||(t=t?[t]:[]),l.__(t,(function(e){e&&JT(e)}))}function JT(e){var t=e.type,i={number:"value",time:"time"};if(i[t]&&(e.axisType=i[t],delete e.type),eD(e),tD(e,"controlPosition")){var n=e.controlStyle||(e.controlStyle={});tD(n,"position")||(n.position=e.controlPosition),"none"!==n.position||tD(n,"show")||(n.show=!1,delete n.position),delete e.controlPosition}l.__(e.data||[],(function(e){l.Gv(e)&&!l.cy(e)&&(!tD(e,"value")&&tD(e,"name")&&(e.value=e.name),eD(e))}))}function eD(e){var t=e.itemStyle||(e.itemStyle={}),i=t.emphasis||(t.emphasis={}),n=e.label||e.label||{},o=n.normal||(n.normal={}),a={normal:1,emphasis:1};l.__(n,(function(e,t){a[t]||tD(o,t)||(o[t]=e)})),i.label&&!tD(n,"emphasis")&&(n.emphasis=i.label,delete i.label)}function tD(e,t){return e.hasOwnProperty(t)}function iD(e){e.registerComponentModel(ET),e.registerComponentView(qT),e.registerSubTypeDefaulter("timeline",(function(){return"slider"})),KT(e),e.registerPreprocessor(QT)}function nD(e,t){if(!e)return!1;for(var i=(0,l.cy)(e)?e:[e],n=0;n<i.length;n++)if(i[n]&&i[n][t])return!0;return!1}function oD(e){(0,g.M5)(e,"label",["show"])}var aD=(0,g.$r)(),rD=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i.createdBySelf=!1,i}return(0,_e.C6)(t,e),t.prototype.init=function(e,t,i){this.mergeDefaultAndTheme(e,i),this._mergeOption(e,i,!1,!0)},t.prototype.isAnimationEnabled=function(){if(Te.A.node)return!1;var e=this.__hostSeries;return this.getShallow("animation")&&e&&e.isAnimationEnabled()},t.prototype.mergeOption=function(e,t){this._mergeOption(e,t,!1,!1)},t.prototype._mergeOption=function(e,t,i,n){var o=this.mainType;i||t.eachSeries((function(e){var i=e.get(this.mainType,!0),a=aD(e)[o];i&&i.data?(a?a._mergeOption(i,t,!0):(n&&oD(i),l.__(i.data,(function(e){e instanceof Array?(oD(e[0]),oD(e[1])):oD(e)})),a=this.createMarkerModelFromSeries(i,this,t),l.X$(a,{mainType:this.mainType,seriesIndex:e.seriesIndex,name:e.name,createdBySelf:!0}),a.__hostSeries=e),aD(e)[o]=a):aD(e)[o]=null}),this)},t.prototype.formatTooltip=function(e,t,i){var n=this.getData(),o=this.getRawValue(e),a=n.getName(e);return(0,Du.Qx)("section",{header:this.name,blocks:[(0,Du.Qx)("nameValue",{name:a,value:o,noName:!a,noValue:null==o})]})},t.prototype.getData=function(){return this._data},t.prototype.setData=function(e){this._data=e},t.prototype.getDataParams=function(e,t){var i=OI.J.prototype.getDataParams.call(this,e,t),n=this.__hostSeries;return n&&(i.seriesId=n.id,i.seriesName=n.name,i.seriesType=n.subType),i},t.getMarkerModelFromSeries=function(e,t){return aD(e)[t]},t.type="marker",t.dependencies=["series","grid","polar","geo"],t}(r.A);l.co(rD,OI.J.prototype);var sD=rD,lD=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return(0,_e.C6)(t,e),t.prototype.createMarkerModelFromSeries=function(e,i,n){return new t(e,i,n)},t.type="markPoint",t.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},t}(sD),uD=lD,cD=i(56598);function dD(e){return!(isNaN(parseFloat(e.x))&&isNaN(parseFloat(e.y)))}function hD(e){return!isNaN(parseFloat(e.x))&&!isNaN(parseFloat(e.y))}function pD(e,t,i,n,o,a){var r=[],s=In(t,n),l=s?t.getCalculationInfo("stackResultDimension"):n,u=bD(t,l,e),c=t.indicesOfNearest(l,u)[0];r[o]=t.get(i,c),r[a]=t.get(l,c);var d=t.get(n,c),h=v.XV(t.get(n,c));return h=Math.min(h,20),h>=0&&(r[a]=+r[a].toFixed(h)),[r,d]}var gD={min:(0,l.cF)(pD,"min"),max:(0,l.cF)(pD,"max"),average:(0,l.cF)(pD,"average"),median:(0,l.cF)(pD,"median")};function fD(e,t){if(t){var i=e.getData(),n=e.coordinateSystem,o=n&&n.dimensions;if(!hD(t)&&!(0,l.cy)(t.coord)&&(0,l.cy)(o)){var a=mD(t,i,n,e);if(t=(0,l.o8)(t),t.type&&gD[t.type]&&a.baseAxis&&a.valueAxis){var r=(0,l.qh)(o,a.baseAxis.dim),s=(0,l.qh)(o,a.valueAxis.dim),u=gD[t.type](i,a.baseDataDim,a.valueDataDim,r,s);t.coord=u[0],t.value=u[1]}else t.coord=[null!=t.xAxis?t.xAxis:t.radiusAxis,null!=t.yAxis?t.yAxis:t.angleAxis]}if(null!=t.coord&&(0,l.cy)(o))for(var c=t.coord,d=0;d<2;d++)gD[c[d]]&&(c[d]=bD(i,i.mapDimension(o[d]),c[d]));else t.coord=[];return t}}function mD(e,t,i,n){var o={};return null!=e.valueIndex||null!=e.valueDim?(o.valueDataDim=null!=e.valueIndex?t.getDimension(e.valueIndex):e.valueDim,o.valueAxis=i.getAxis(yD(n,o.valueDataDim)),o.baseAxis=i.getOtherAxis(o.valueAxis),o.baseDataDim=t.mapDimension(o.baseAxis.dim)):(o.baseAxis=n.getBaseAxis(),o.valueAxis=i.getOtherAxis(o.baseAxis),o.baseDataDim=t.mapDimension(o.baseAxis.dim),o.valueDataDim=t.mapDimension(o.valueAxis.dim)),o}function yD(e,t){var i=e.getData().getDimensionInfo(t);return i&&i.coordDim}function vD(e,t){return!(e&&e.containData&&t.coord&&!dD(t))||e.containData(t.coord)}function _D(e,t,i){return!(e&&e.containZone&&t.coord&&i.coord&&!dD(t)&&!dD(i))||e.containZone(t.coord,i.coord)}function xD(e,t){return e?function(e,i,n,o){var a=o<2?e.coord&&e.coord[o]:e.value;return(0,cD.Pn)(a,t[o])}:function(e,i,n,o){return(0,cD.Pn)(e.value,t[o])}}function bD(e,t,i){if("average"===i){var n=0,o=0;return e.each(t,(function(e,t){isNaN(e)||(n+=e,o++)})),n/o}return"median"===i?e.getMedian(t):e.getDataExtent(t)["max"===i?1:0]}var wD=(0,g.$r)(),CD=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return(0,_e.C6)(t,e),t.prototype.init=function(){this.markerGroupMap=(0,l.nt)()},t.prototype.render=function(e,t,i){var n=this,o=this.markerGroupMap;o.each((function(e){wD(e).keep=!1})),t.eachSeries((function(e){var o=sD.getMarkerModelFromSeries(e,n.type);o&&n.renderSeries(e,o,t,i)})),o.each((function(e){!wD(e).keep&&n.group.remove(e.group)}))},t.prototype.markKeep=function(e){wD(e).keep=!0},t.prototype.toggleBlurSeries=function(e,t){var i=this;(0,l.__)(e,(function(e){var n=sD.getMarkerModelFromSeries(e,i.type);if(n){var o=n.getData();o.eachItemGraphicEl((function(e){e&&(t?(0,I.QX)(e):(0,I.JC)(e))}))}}))},t.type="marker",t}(o.A),SD=CD;function AD(e,t,i){var n=t.coordinateSystem;e.each((function(o){var a,r=e.getItemModel(o),s=v.lo(r.get("x"),i.getWidth()),l=v.lo(r.get("y"),i.getHeight());if(isNaN(s)||isNaN(l)){if(t.getMarkerPosition)a=t.getMarkerPosition(e.getValues(e.dimensions,o));else if(n){var u=e.get(n.dimensions[0],o),c=e.get(n.dimensions[1],o);a=n.dataToPoint([u,c])}}else a=[s,l];isNaN(s)||(a[0]=s),isNaN(l)||(a[1]=l),e.setItemLayout(o,a)}))}var kD=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return(0,_e.C6)(t,e),t.prototype.updateTransform=function(e,t,i){t.eachSeries((function(e){var t=sD.getMarkerModelFromSeries(e,"markPoint");t&&(AD(t.getData(),e,i),this.markerGroupMap.get(e.id).updateLayout())}),this)},t.prototype.renderSeries=function(e,t,i,n){var o=e.coordinateSystem,a=e.id,r=e.getData(),s=this.markerGroupMap,u=s.get(a)||s.set(a,new qn),c=MD(o,e,t);t.setData(c),AD(t.getData(),e,n),c.each((function(e){var i=c.getItemModel(e),n=i.getShallow("symbol"),o=i.getShallow("symbolSize"),a=i.getShallow("symbolRotate"),s=i.getShallow("symbolOffset"),u=i.getShallow("symbolKeepAspect");if((0,l.Tn)(n)||(0,l.Tn)(o)||(0,l.Tn)(a)||(0,l.Tn)(s)){var d=t.getRawValue(e),h=t.getDataParams(e);(0,l.Tn)(n)&&(n=n(d,h)),(0,l.Tn)(o)&&(o=o(d,h)),(0,l.Tn)(a)&&(a=a(d,h)),(0,l.Tn)(s)&&(s=s(d,h))}var p=i.getModel("itemStyle").getItemStyle(),g=(0,JI.rI)(r,"color");p.fill||(p.fill=g),c.setItemVisual(e,{symbol:n,symbolSize:o,symbolRotate:a,symbolOffset:s,symbolKeepAspect:u,style:p})})),u.updateData(c),this.group.add(u.group),c.eachItemGraphicEl((function(e){e.traverse((function(e){(0,y.z)(e).dataModel=t}))})),this.markKeep(u),u.group.silent=t.get("silent")||e.get("silent")},t.type="markPoint",t}(SD);function MD(e,t,i){var n;n=e?(0,l.Tj)(e&&e.dimensions,(function(e){var i=t.getData().getDimensionInfo(t.getData().mapDimension(e))||{};return(0,l.X$)((0,l.X$)({},i),{name:e,ordinalMeta:null})})):[{name:"value",type:"float"}];var o=new fn(n,i),a=(0,l.Tj)(i.get("data"),(0,l.cF)(fD,t));e&&(a=(0,l.pb)(a,(0,l.cF)(vD,e)));var r=xD(!!e,n);return o.initData(a,null,r),o}var ID=kD;function TD(e){e.registerComponentModel(uD),e.registerComponentView(ID),e.registerPreprocessor((function(e){nD(e.series,"markPoint")&&(e.markPoint=e.markPoint||{})}))}var DD=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return(0,_e.C6)(t,e),t.prototype.createMarkerModelFromSeries=function(e,i,n){return new t(e,i,n)},t.type="markLine",t.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},t}(sD),LD=DD,PD=(0,g.$r)(),FD=function(e,t,i,n){var o,a=e.getData();if((0,l.cy)(n))o=n;else{var r=n.type;if("min"===r||"max"===r||"average"===r||"median"===r||null!=n.xAxis||null!=n.yAxis){var s=void 0,u=void 0;if(null!=n.yAxis||null!=n.xAxis)s=t.getAxis(null!=n.yAxis?"y":"x"),u=(0,l.Je)(n.yAxis,n.xAxis);else{var c=mD(n,a,t,e);s=c.valueAxis;var d=Tn(a,c.valueDataDim);u=bD(a,d,r)}var h="x"===s.dim?0:1,p=1-h,g=(0,l.o8)(n),f={coord:[]};g.type=null,g.coord=[],g.coord[p]=-1/0,f.coord[p]=1/0;var m=i.get("precision");m>=0&&(0,l.Et)(u)&&(u=+u.toFixed(Math.min(m,20))),g.coord[h]=f.coord[h]=u,o=[g,f,{type:r,valueIndex:n.valueIndex,value:u}]}else o=[]}var y=[fD(e,o[0]),fD(e,o[1]),(0,l.X$)({},o[2])];return y[2].type=y[2].type||null,(0,l.h1)(y[2],y[0]),(0,l.h1)(y[2],y[1]),y};function ND(e){return!isNaN(e)&&!isFinite(e)}function RD(e,t,i,n){var o=1-e,a=n.dimensions[e];return ND(t[o])&&ND(i[o])&&t[e]===i[e]&&n.getAxis(a).containData(t[e])}function VD(e,t){if("cartesian2d"===e.type){var i=t[0].coord,n=t[1].coord;if(i&&n&&(RD(1,i,n,e)||RD(0,i,n,e)))return!0}return vD(e,t[0])&&vD(e,t[1])}function ED(e,t,i,n,o){var a,r=n.coordinateSystem,s=e.getItemModel(t),l=v.lo(s.get("x"),o.getWidth()),u=v.lo(s.get("y"),o.getHeight());if(isNaN(l)||isNaN(u)){if(n.getMarkerPosition)a=n.getMarkerPosition(e.getValues(e.dimensions,t));else{var c=r.dimensions,d=e.get(c[0],t),h=e.get(c[1],t);a=r.dataToPoint([d,h])}if(xo(r,"cartesian2d")){var p=r.getAxis("x"),g=r.getAxis("y");c=r.dimensions;ND(e.get(c[0],t))?a[0]=p.toGlobalCoord(p.getExtent()[i?0:1]):ND(e.get(c[1],t))&&(a[1]=g.toGlobalCoord(g.getExtent()[i?0:1]))}isNaN(l)||(a[0]=l),isNaN(u)||(a[1]=u)}else a=[l,u];e.setItemLayout(t,a)}var OD=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return(0,_e.C6)(t,e),t.prototype.updateTransform=function(e,t,i){t.eachSeries((function(e){var t=sD.getMarkerModelFromSeries(e,"markLine");if(t){var n=t.getData(),o=PD(t).from,a=PD(t).to;o.each((function(t){ED(o,t,!0,e,i),ED(a,t,!1,e,i)})),n.each((function(e){n.setItemLayout(e,[o.getItemLayout(e),a.getItemLayout(e)])})),this.markerGroupMap.get(e.id).updateLayout()}}),this)},t.prototype.renderSeries=function(e,t,i,n){var o=e.coordinateSystem,a=e.id,r=e.getData(),s=this.markerGroupMap,u=s.get(a)||s.set(a,new Hf);this.group.add(u.group);var c=zD(o,e,t),d=c.from,h=c.to,p=c.line;PD(t).from=d,PD(t).to=h,t.setData(p);var g=t.get("symbol"),f=t.get("symbolSize"),m=t.get("symbolRotate"),v=t.get("symbolOffset");function _(t,i,o){var a=t.getItemModel(i);ED(t,i,o,e,n);var s=a.getModel("itemStyle").getItemStyle();null==s.fill&&(s.fill=(0,JI.rI)(r,"color")),t.setItemVisual(i,{symbolKeepAspect:a.get("symbolKeepAspect"),symbolOffset:(0,l.bZ)(a.get("symbolOffset",!0),v[o?0:1]),symbolRotate:(0,l.bZ)(a.get("symbolRotate",!0),m[o?0:1]),symbolSize:(0,l.bZ)(a.get("symbolSize"),f[o?0:1]),symbol:(0,l.bZ)(a.get("symbol",!0),g[o?0:1]),style:s})}(0,l.cy)(g)||(g=[g,g]),(0,l.cy)(f)||(f=[f,f]),(0,l.cy)(m)||(m=[m,m]),(0,l.cy)(v)||(v=[v,v]),c.from.each((function(e){_(d,e,!0),_(h,e,!1)})),p.each((function(e){var t=p.getItemModel(e).getModel("lineStyle").getLineStyle();p.setItemLayout(e,[d.getItemLayout(e),h.getItemLayout(e)]),null==t.stroke&&(t.stroke=d.getItemVisual(e,"style").fill),p.setItemVisual(e,{fromSymbolKeepAspect:d.getItemVisual(e,"symbolKeepAspect"),fromSymbolOffset:d.getItemVisual(e,"symbolOffset"),fromSymbolRotate:d.getItemVisual(e,"symbolRotate"),fromSymbolSize:d.getItemVisual(e,"symbolSize"),fromSymbol:d.getItemVisual(e,"symbol"),toSymbolKeepAspect:h.getItemVisual(e,"symbolKeepAspect"),toSymbolOffset:h.getItemVisual(e,"symbolOffset"),toSymbolRotate:h.getItemVisual(e,"symbolRotate"),toSymbolSize:h.getItemVisual(e,"symbolSize"),toSymbol:h.getItemVisual(e,"symbol"),style:t})})),u.updateData(p),c.line.eachItemGraphicEl((function(e){(0,y.z)(e).dataModel=t,e.traverse((function(e){(0,y.z)(e).dataModel=t}))})),this.markKeep(u),u.group.silent=t.get("silent")||e.get("silent")},t.type="markLine",t}(SD);function zD(e,t,i){var n;n=e?(0,l.Tj)(e&&e.dimensions,(function(e){var i=t.getData().getDimensionInfo(t.getData().mapDimension(e))||{};return(0,l.X$)((0,l.X$)({},i),{name:e,ordinalMeta:null})})):[{name:"value",type:"float"}];var o=new fn(n,i),a=new fn(n,i),r=new fn([],i),s=(0,l.Tj)(i.get("data"),(0,l.cF)(FD,t,e,i));e&&(s=(0,l.pb)(s,(0,l.cF)(VD,e)));var u=xD(!!e,n);return o.initData((0,l.Tj)(s,(function(e){return e[0]})),null,u),a.initData((0,l.Tj)(s,(function(e){return e[1]})),null,u),r.initData((0,l.Tj)(s,(function(e){return e[2]}))),r.hasItemOption=!0,{from:o,to:a,line:r}}var GD=OD;function BD(e){e.registerComponentModel(LD),e.registerComponentView(GD),e.registerPreprocessor((function(e){nD(e.series,"markLine")&&(e.markLine=e.markLine||{})}))}var WD=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return(0,_e.C6)(t,e),t.prototype.createMarkerModelFromSeries=function(e,i,n){return new t(e,i,n)},t.type="markArea",t.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},t}(sD),HD=WD,XD=(0,g.$r)(),$D=function(e,t,i,n){var o=n[0],a=n[1];if(o&&a){var r=fD(e,o),s=fD(e,a),u=r.coord,c=s.coord;u[0]=(0,l.Je)(u[0],-1/0),u[1]=(0,l.Je)(u[1],-1/0),c[0]=(0,l.Je)(c[0],1/0),c[1]=(0,l.Je)(c[1],1/0);var d=(0,l.Um)([{},r,s]);return d.coord=[r.coord,s.coord],d.x0=r.x,d.y0=r.y,d.x1=s.x,d.y1=s.y,d}};function jD(e){return!isNaN(e)&&!isFinite(e)}function UD(e,t,i,n){var o=1-e;return jD(t[o])&&jD(i[o])}function YD(e,t){var i=t.coord[0],n=t.coord[1],o={coord:i,x:t.x0,y:t.y0},a={coord:n,x:t.x1,y:t.y1};return xo(e,"cartesian2d")?!(!i||!n||!UD(1,i,n,e)&&!UD(0,i,n,e))||_D(e,o,a):vD(e,o)||vD(e,a)}function ZD(e,t,i,n,o){var a,r=n.coordinateSystem,s=e.getItemModel(t),l=v.lo(s.get(i[0]),o.getWidth()),u=v.lo(s.get(i[1]),o.getHeight());if(isNaN(l)||isNaN(u)){if(n.getMarkerPosition){var c=e.getValues(["x0","y0"],t),d=e.getValues(["x1","y1"],t),h=r.clampData(c),p=r.clampData(d),g=[];"x0"===i[0]?g[0]=h[0]>p[0]?d[0]:c[0]:g[0]=h[0]>p[0]?c[0]:d[0],"y0"===i[1]?g[1]=h[1]>p[1]?d[1]:c[1]:g[1]=h[1]>p[1]?c[1]:d[1],a=n.getMarkerPosition(g,i,!0)}else{var f=e.get(i[0],t),m=e.get(i[1],t),y=[f,m];r.clampData&&r.clampData(y,y),a=r.dataToPoint(y,!0)}if(xo(r,"cartesian2d")){var _=r.getAxis("x"),x=r.getAxis("y");f=e.get(i[0],t),m=e.get(i[1],t);jD(f)?a[0]=_.toGlobalCoord(_.getExtent()["x0"===i[0]?0:1]):jD(m)&&(a[1]=x.toGlobalCoord(x.getExtent()["y0"===i[1]?0:1]))}isNaN(l)||(a[0]=l),isNaN(u)||(a[1]=u)}else a=[l,u];return a}var qD=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],KD=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return(0,_e.C6)(t,e),t.prototype.updateTransform=function(e,t,i){t.eachSeries((function(e){var t=sD.getMarkerModelFromSeries(e,"markArea");if(t){var n=t.getData();n.each((function(t){var o=(0,l.Tj)(qD,(function(o){return ZD(n,t,o,e,i)}));n.setItemLayout(t,o);var a=n.getItemGraphicEl(t);a.setShape("points",o)}))}}),this)},t.prototype.renderSeries=function(e,t,i,n){var o=e.coordinateSystem,a=e.id,r=e.getData(),s=this.markerGroupMap,u=s.get(a)||s.set(a,{group:new En.A});this.group.add(u.group),this.markKeep(u);var c=QD(o,e,t);t.setData(c),c.each((function(t){var i=(0,l.Tj)(qD,(function(i){return ZD(c,t,i,e,n)})),a=o.getAxis("x").scale,s=o.getAxis("y").scale,u=a.getExtent(),d=s.getExtent(),h=[a.parse(c.get("x0",t)),a.parse(c.get("x1",t))],p=[s.parse(c.get("y0",t)),s.parse(c.get("y1",t))];v.Y6(h),v.Y6(p);var g=!(u[0]>h[1]||u[1]<h[0]||d[0]>p[1]||d[1]<p[0]),f=!g;c.setItemLayout(t,{points:i,allClipped:f});var m=c.getItemModel(t).getModel("itemStyle").getItemStyle(),y=(0,JI.rI)(r,"color");m.fill||(m.fill=y,(0,l.Kg)(m.fill)&&(m.fill=Ft.hm(m.fill,.4))),m.stroke||(m.stroke=y),c.setItemVisual(t,"style",m)})),c.diff(XD(u).data).add((function(e){var t=c.getItemLayout(e);if(!t.allClipped){var i=new Mu.A({shape:{points:t.points}});c.setItemGraphicEl(e,i),u.group.add(i)}})).update((function(e,i){var n=XD(u).data.getItemGraphicEl(i),o=c.getItemLayout(e);o.allClipped?n&&u.group.remove(n):(n?m.oi(n,{shape:{points:o.points}},t,e):n=new Mu.A({shape:{points:o.points}}),c.setItemGraphicEl(e,n),u.group.add(n))})).remove((function(e){var t=XD(u).data.getItemGraphicEl(e);u.group.remove(t)})).execute(),c.eachItemGraphicEl((function(e,i){var n=c.getItemModel(i),o=c.getItemVisual(i,"style");e.useStyle(c.getItemVisual(i,"style")),(0,ae.qM)(e,(0,ae.lx)(n),{labelFetcher:t,labelDataIndex:i,defaultText:c.getName(i)||"",inheritColor:(0,l.Kg)(o.fill)?Ft.hm(o.fill,1):"#000"}),(0,I.Mx)(e,n),(0,I.Lm)(e,null,null,n.get(["emphasis","disabled"])),(0,y.z)(e).dataModel=t})),XD(u).data=c,u.group.silent=t.get("silent")||e.get("silent")},t.type="markArea",t}(SD);function QD(e,t,i){var n,o,a=["x0","y0","x1","y1"];if(e){var r=(0,l.Tj)(e&&e.dimensions,(function(e){var i=t.getData(),n=i.getDimensionInfo(i.mapDimension(e))||{};return(0,l.X$)((0,l.X$)({},n),{name:e,ordinalMeta:null})}));o=(0,l.Tj)(a,(function(e,t){return{name:e,type:r[t%2].type}})),n=new fn(o,i)}else o=[{name:"value",type:"float"}],n=new fn(o,i);var s=(0,l.Tj)(i.get("data"),(0,l.cF)($D,t,e,i));e&&(s=(0,l.pb)(s,(0,l.cF)(YD,e)));var u=e?function(e,t,i,n){var a=e.coord[Math.floor(n/2)][n%2];return(0,cD.Pn)(a,o[n])}:function(e,t,i,n){return(0,cD.Pn)(e.value,o[n])};return n.initData(s,null,u),n.hasItemOption=!0,n}var JD=KD;function eL(e){e.registerComponentModel(HD),e.registerComponentView(JD),e.registerPreprocessor((function(e){nD(e.series,"markArea")&&(e.markArea=e.markArea||{})}))}var tL=function(e,t){return"all"===t?{type:"all",title:e.getLocaleModel().get(["legend","selector","all"])}:"inverse"===t?{type:"inverse",title:e.getLocaleModel().get(["legend","selector","inverse"])}:void 0},iL=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i.layoutMode={type:"box",ignoreSize:!0},i}return(0,_e.C6)(t,e),t.prototype.init=function(e,t,i){this.mergeDefaultAndTheme(e,i),e.selected=e.selected||{},this._updateSelector(e)},t.prototype.mergeOption=function(t,i){e.prototype.mergeOption.call(this,t,i),this._updateSelector(t)},t.prototype._updateSelector=function(e){var t=e.selector,i=this.ecModel;!0===t&&(t=e.selector=["all","inverse"]),l.cy(t)&&l.__(t,(function(e,n){l.Kg(e)&&(e={type:e}),t[n]=l.h1(e,tL(i,e.type))}))},t.prototype.optionUpdated=function(){this._updateData(this.ecModel);var e=this._data;if(e[0]&&"single"===this.get("selectedMode")){for(var t=!1,i=0;i<e.length;i++){var n=e[i].get("name");if(this.isSelected(n)){this.select(n),t=!0;break}}!t&&this.select(e[0].get("name"))}},t.prototype._updateData=function(e){var t=[],i=[];e.eachRawSeries((function(n){var o,a=n.name;if(i.push(a),n.legendVisualProvider){var r=n.legendVisualProvider,s=r.getAllNames();e.isSeriesFiltered(n)||(i=i.concat(s)),s.length?t=t.concat(s):o=!0}else o=!0;o&&(0,g.O0)(n)&&t.push(n.name)})),this._availableNames=i;var n=this.get("data")||t,o=l.nt(),a=l.Tj(n,(function(e){return(l.Kg(e)||l.Et(e))&&(e={name:e}),o.get(e.name)?null:(o.set(e.name,!0),new Di.A(e,this,this.ecModel))}),this);this._data=l.pb(a,(function(e){return!!e}))},t.prototype.getData=function(){return this._data},t.prototype.select=function(e){var t=this.option.selected,i=this.get("selectedMode");if("single"===i){var n=this._data;l.__(n,(function(e){t[e.get("name")]=!1}))}t[e]=!0},t.prototype.unSelect=function(e){"single"!==this.get("selectedMode")&&(this.option.selected[e]=!1)},t.prototype.toggleSelected=function(e){var t=this.option.selected;t.hasOwnProperty(e)||(t[e]=!0),this[t[e]?"unSelect":"select"](e)},t.prototype.allSelect=function(){var e=this._data,t=this.option.selected;l.__(e,(function(e){t[e.get("name",!0)]=!0}))},t.prototype.inverseSelect=function(){var e=this._data,t=this.option.selected;l.__(e,(function(e){var i=e.get("name",!0);t.hasOwnProperty(i)||(t[i]=!0),t[i]=!t[i]}))},t.prototype.isSelected=function(e){var t=this.option.selected;return!(t.hasOwnProperty(e)&&!t[e])&&l.qh(this._availableNames,e)>=0},t.prototype.getOrient=function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},t.type="legend.plain",t.dependencies=["series"],t.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},t}(r.A),nL=iL,oL=l.cF,aL=l.__,rL=En.A,sL=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i.newlineDisabled=!1,i}return(0,_e.C6)(t,e),t.prototype.init=function(){this.group.add(this._contentGroup=new rL),this.group.add(this._selectorGroup=new rL),this._isFirstRender=!0},t.prototype.getContentGroup=function(){return this._contentGroup},t.prototype.getSelectorGroup=function(){return this._selectorGroup},t.prototype.render=function(e,t,i){var n=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),e.get("show",!0)){var o=e.get("align"),a=e.get("orient");o&&"auto"!==o||(o="right"===e.get("left")&&"vertical"===a?"right":"left");var r=e.get("selector",!0),s=e.get("selectorPosition",!0);!r||s&&"auto"!==s||(s="horizontal"===a?"end":"start"),this.renderInner(o,e,t,i,r,a,s);var u=e.getBoxLayoutParams(),c={width:i.getWidth(),height:i.getHeight()},d=e.get("padding"),h=Ya.dV(u,c,d),p=this.layoutInner(e,o,h,n,r,s),g=Ya.dV(l.NT({width:p.width,height:p.height},u),c,d);this.group.x=g.x-p.x,this.group.y=g.y-p.y,this.group.markRedraw(),this.group.add(this._backgroundEl=lM(p,e))}},t.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},t.prototype.renderInner=function(e,t,i,n,o,a,r){var s=this.getContentGroup(),u=l.nt(),c=t.get("selectedMode"),d=[];i.eachRawSeries((function(e){!e.get("legendHoverLink")&&d.push(e.id)})),aL(t.getData(),(function(o,a){var r=o.get("name");if(!this.newlineDisabled&&(""===r||"\n"===r)){var h=new rL;return h.newline=!0,void s.add(h)}var p=i.getSeriesByName(r)[0];if(!u.get(r)){if(p){var g=p.getData(),f=g.getVisual("legendLineStyle")||{},m=g.getVisual("legendIcon"),v=g.getVisual("style"),_=this._createItem(p,r,a,o,t,e,f,v,m,c,n);_.on("click",oL(cL,r,null,n,d)).on("mouseover",oL(hL,p.name,null,n,d)).on("mouseout",oL(pL,p.name,null,n,d)),i.ssr&&_.eachChild((function(e){var t=(0,y.z)(e);t.seriesIndex=p.seriesIndex,t.dataIndex=a,t.ssrType="legend"})),u.set(r,!0)}else i.eachRawSeries((function(s){if(!u.get(r)&&s.legendVisualProvider){var h=s.legendVisualProvider;if(!h.containName(r))return;var p=h.indexOfName(r),g=h.getItemVisual(p,"style"),f=h.getItemVisual(p,"legendIcon"),m=(0,Ft.qg)(g.fill);m&&0===m[3]&&(m[3]=.2,g=l.X$(l.X$({},g),{fill:(0,Ft.As)(m,"rgba")}));var v=this._createItem(s,r,a,o,t,e,{},g,f,c,n);v.on("click",oL(cL,null,r,n,d)).on("mouseover",oL(hL,null,r,n,d)).on("mouseout",oL(pL,null,r,n,d)),i.ssr&&v.eachChild((function(e){var t=(0,y.z)(e);t.seriesIndex=s.seriesIndex,t.dataIndex=a,t.ssrType="legend"})),u.set(r,!0)}}),this);0}}),this),o&&this._createSelector(o,t,n,a,r)},t.prototype._createSelector=function(e,t,i,n,o){var a=this.getSelectorGroup();aL(e,(function(e){var n=e.type,o=new Pt.Ay({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){i.dispatchAction({type:"all"===n?"legendAllSelect":"legendInverseSelect"})}});a.add(o);var r=t.getModel("selectorLabel"),s=t.getModel(["emphasis","selectorLabel"]);(0,ae.qM)(o,{normal:r,emphasis:s},{defaultText:e.title}),(0,I.iJ)(o)}))},t.prototype._createItem=function(e,t,i,n,o,a,r,s,u,c,d){var h=e.visualDrawType,p=o.get("itemWidth"),g=o.get("itemHeight"),f=o.isSelected(t),m=n.get("symbolRotate"),y=n.get("symbolKeepAspect"),v=n.get("icon");u=v||u||"roundRect";var _=lL(u,n,r,s,h,f,d),x=new rL,b=n.getModel("textStyle");if(!l.Tn(e.getLegendIcon)||v&&"inherit"!==v){var w="inherit"===v&&e.getData().getVisual("symbol")?"inherit"===m?e.getData().getVisual("symbolRotate"):m:0;x.add(uL({itemWidth:p,itemHeight:g,icon:u,iconRotate:w,itemStyle:_.itemStyle,lineStyle:_.lineStyle,symbolKeepAspect:y}))}else x.add(e.getLegendIcon({itemWidth:p,itemHeight:g,icon:u,iconRotate:m,itemStyle:_.itemStyle,lineStyle:_.lineStyle,symbolKeepAspect:y}));var C="left"===a?p+5:-5,S=a,A=o.get("formatter"),k=t;l.Kg(A)&&A?k=A.replace("{name}",null!=t?t:""):l.Tn(A)&&(k=A(t));var M=f?b.getTextColor():n.get("inactiveColor");x.add(new Pt.Ay({style:(0,ae.VB)(b,{text:k,x:C,y:g/2,fill:M,align:S,verticalAlign:"middle"},{inheritColor:M})}));var T=new fo.A({shape:x.getBoundingRect(),style:{fill:"transparent"}}),D=n.getModel("tooltip");return D.get("show")&&Gn.setTooltipConfig({el:T,componentModel:o,itemName:t,itemTooltipOption:D.option}),x.add(T),x.eachChild((function(e){e.silent=!0})),T.silent=!c,this.getContentGroup().add(x),(0,I.iJ)(x),x.__legendDataIndex=i,x},t.prototype.layoutInner=function(e,t,i,n,o,a){var r=this.getContentGroup(),s=this.getSelectorGroup();Ya.aP(e.get("orient"),r,e.get("itemGap"),i.width,i.height);var l=r.getBoundingRect(),u=[-l.x,-l.y];if(s.markRedraw(),r.markRedraw(),o){Ya.aP("horizontal",s,e.get("selectorItemGap",!0));var c=s.getBoundingRect(),d=[-c.x,-c.y],h=e.get("selectorButtonGap",!0),p=e.getOrient().index,g=0===p?"width":"height",f=0===p?"height":"width",m=0===p?"y":"x";"end"===a?d[p]+=l[g]+h:u[p]+=c[g]+h,d[1-p]+=l[f]/2-c[f]/2,s.x=d[0],s.y=d[1],r.x=u[0],r.y=u[1];var y={x:0,y:0};return y[g]=l[g]+h+c[g],y[f]=Math.max(l[f],c[f]),y[m]=Math.min(0,c[m]+d[1-p]),y}return r.x=u[0],r.y=u[1],this.group.getBoundingRect()},t.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},t.type="legend.plain",t}(o.A);function lL(e,t,i,n,o,a,r){function s(e,t){"auto"===e.lineWidth&&(e.lineWidth=t.lineWidth>0?2:0),aL(e,(function(i,n){"inherit"===e[n]&&(e[n]=t[n])}))}var l=t.getModel("itemStyle"),u=l.getItemStyle(),c=0===e.lastIndexOf("empty",0)?"fill":"stroke",d=l.getShallow("decal");u.decal=d&&"inherit"!==d?(0,wd.w)(d,r):n.decal,"inherit"===u.fill&&(u.fill=n[o]),"inherit"===u.stroke&&(u.stroke=n[c]),"inherit"===u.opacity&&(u.opacity=("fill"===o?n:i).opacity),s(u,n);var h=t.getModel("lineStyle"),p=h.getLineStyle();if(s(p,i),"auto"===u.fill&&(u.fill=n.fill),"auto"===u.stroke&&(u.stroke=n.fill),"auto"===p.stroke&&(p.stroke=n.fill),!a){var g=t.get("inactiveBorderWidth"),f=u[c];u.lineWidth="auto"===g?n.lineWidth>0&&f?2:0:u.lineWidth,u.fill=t.get("inactiveColor"),u.stroke=t.get("inactiveBorderColor"),p.stroke=h.get("inactiveColor"),p.lineWidth=h.get("inactiveWidth")}return{itemStyle:u,lineStyle:p}}function uL(e){var t=e.icon||"roundRect",i=(0,Vn.v5)(t,0,0,e.itemWidth,e.itemHeight,e.itemStyle.fill,e.symbolKeepAspect);return i.setStyle(e.itemStyle),i.rotation=(e.iconRotate||0)*Math.PI/180,i.setOrigin([e.itemWidth/2,e.itemHeight/2]),t.indexOf("empty")>-1&&(i.style.stroke=i.style.fill,i.style.fill="#fff",i.style.lineWidth=2),i}function cL(e,t,i,n){pL(e,t,i,n),i.dispatchAction({type:"legendToggleSelect",name:null!=e?e:t}),hL(e,t,i,n)}function dL(e){var t,i=e.getZr().storage.getDisplayList(),n=0,o=i.length;while(n<o&&!(t=i[n].states.emphasis))n++;return t&&t.hoverLayer}function hL(e,t,i,n){dL(i)||i.dispatchAction({type:"highlight",seriesName:e,name:t,excludeSeriesId:n})}function pL(e,t,i,n){dL(i)||i.dispatchAction({type:"downplay",seriesName:e,name:t,excludeSeriesId:n})}var gL=sL;function fL(e){var t=e.findComponents({mainType:"legend"});t&&t.length&&e.filterSeries((function(e){for(var i=0;i<t.length;i++)if(!t[i].isSelected(e.name))return!1;return!0}))}function mL(e,t,i){var n,o={},a="toggleSelected"===e;return i.eachComponent("legend",(function(i){a&&null!=n?i[n?"select":"unSelect"](t.name):"allSelect"===e||"inverseSelect"===e?i[e]():(i[e](t.name),n=i.isSelected(t.name));var r=i.getData();(0,l.__)(r,(function(e){var t=e.get("name");if("\n"!==t&&""!==t){var n=i.isSelected(t);o.hasOwnProperty(t)?o[t]=o[t]&&n:o[t]=n}}))})),"allSelect"===e||"inverseSelect"===e?{selected:o}:{name:t.name,selected:o}}function yL(e){e.registerAction("legendToggleSelect","legendselectchanged",(0,l.cF)(mL,"toggleSelected")),e.registerAction("legendAllSelect","legendselectall",(0,l.cF)(mL,"allSelect")),e.registerAction("legendInverseSelect","legendinverseselect",(0,l.cF)(mL,"inverseSelect")),e.registerAction("legendSelect","legendselected",(0,l.cF)(mL,"select")),e.registerAction("legendUnSelect","legendunselected",(0,l.cF)(mL,"unSelect"))}function vL(e){e.registerComponentModel(nL),e.registerComponentView(gL),e.registerProcessor(e.PRIORITY.PROCESSOR.SERIES_FILTER,fL),e.registerSubTypeDefaulter("legend",(function(){return"plain"})),yL(e)}var _L=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return(0,_e.C6)(t,e),t.prototype.setScrollDataIndex=function(e){this.option.scrollDataIndex=e},t.prototype.init=function(t,i,n){var o=(0,Ya.vs)(t);e.prototype.init.call(this,t,i,n),xL(this,t,o)},t.prototype.mergeOption=function(t,i){e.prototype.mergeOption.call(this,t,i),xL(this,this.option,t)},t.type="legend.scroll",t.defaultOption=(0,ua.G_)(nL.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),t}(nL);function xL(e,t,i){var n=e.getOrient(),o=[1,1];o[n.index]=0,(0,Ya.YA)(t,i,{type:"box",ignoreSize:!!o})}var bL=_L,wL=En.A,CL=["width","height"],SL=["x","y"],AL=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i.newlineDisabled=!0,i._currentIndex=0,i}return(0,_e.C6)(t,e),t.prototype.init=function(){e.prototype.init.call(this),this.group.add(this._containerGroup=new wL),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new wL)},t.prototype.resetInner=function(){e.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},t.prototype.renderInner=function(t,i,n,o,a,r,s){var u=this;e.prototype.renderInner.call(this,t,i,n,o,a,r,s);var c=this._controllerGroup,d=i.get("pageIconSize",!0),h=l.cy(d)?d:[d,d];g("pagePrev",0);var p=i.getModel("pageTextStyle");function g(e,t){var n=e+"DataIndex",a=Gn.createIcon(i.get("pageIcons",!0)[i.getOrient().name][t],{onclick:l.oI(u._pageGo,u,n,i,o)},{x:-h[0]/2,y:-h[1]/2,width:h[0],height:h[1]});a.name=e,c.add(a)}c.add(new Pt.Ay({name:"pageText",style:{text:"xx/xx",fill:p.getTextColor(),font:p.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),g("pageNext",1)},t.prototype.layoutInner=function(e,t,i,n,o,a){var r=this.getSelectorGroup(),s=e.getOrient().index,u=CL[s],c=SL[s],d=CL[1-s],h=SL[1-s];o&&Ya.aP("horizontal",r,e.get("selectorItemGap",!0));var p=e.get("selectorButtonGap",!0),g=r.getBoundingRect(),f=[-g.x,-g.y],m=l.o8(i);o&&(m[u]=i[u]-g[u]-p);var y=this._layoutContentAndController(e,n,m,s,u,d,h,c);if(o){if("end"===a)f[s]+=y[u]+p;else{var v=g[u]+p;f[s]-=v,y[c]-=v}y[u]+=g[u]+p,f[1-s]+=y[h]+y[d]/2-g[d]/2,y[d]=Math.max(y[d],g[d]),y[h]=Math.min(y[h],g[h]+f[1-s]),r.x=f[0],r.y=f[1],r.markRedraw()}return y},t.prototype._layoutContentAndController=function(e,t,i,n,o,a,r,s){var u=this.getContentGroup(),c=this._containerGroup,d=this._controllerGroup;Ya.aP(e.get("orient"),u,e.get("itemGap"),n?i.width:null,n?null:i.height),Ya.aP("horizontal",d,e.get("pageButtonItemGap",!0));var h=u.getBoundingRect(),p=d.getBoundingRect(),g=this._showController=h[o]>i[o],f=[-h.x,-h.y];t||(f[n]=u[s]);var y=[0,0],v=[-p.x,-p.y],_=l.bZ(e.get("pageButtonGap",!0),e.get("itemGap",!0));if(g){var x=e.get("pageButtonPosition",!0);"end"===x?v[n]+=i[o]-p[o]:y[n]+=p[o]+_}v[1-n]+=h[a]/2-p[a]/2,u.setPosition(f),c.setPosition(y),d.setPosition(v);var b={x:0,y:0};if(b[o]=g?i[o]:h[o],b[a]=Math.max(h[a],p[a]),b[r]=Math.min(0,p[r]+v[1-n]),c.__rectSize=i[o],g){var w={x:0,y:0};w[o]=Math.max(i[o]-p[o]-_,0),w[a]=b[a],c.setClipPath(new fo.A({shape:w})),c.__rectSize=w[o]}else d.eachChild((function(e){e.attr({invisible:!0,silent:!0})}));var C=this._getPageInfo(e);return null!=C.pageIndex&&m.oi(u,{x:C.contentPosition[0],y:C.contentPosition[1]},g?e:null),this._updatePageInfoView(e,C),b},t.prototype._pageGo=function(e,t,i){var n=this._getPageInfo(t)[e];null!=n&&i.dispatchAction({type:"legendScroll",scrollDataIndex:n,legendId:t.id})},t.prototype._updatePageInfoView=function(e,t){var i=this._controllerGroup;l.__(["pagePrev","pageNext"],(function(n){var o=n+"DataIndex",a=null!=t[o],r=i.childOfName(n);r&&(r.setStyle("fill",a?e.get("pageIconColor",!0):e.get("pageIconInactiveColor",!0)),r.cursor=a?"pointer":"default")}));var n=i.childOfName("pageText"),o=e.get("pageFormatter"),a=t.pageIndex,r=null!=a?a+1:0,s=t.pageCount;n&&o&&n.setStyle("text",l.Kg(o)?o.replace("{current}",null==r?"":r+"").replace("{total}",null==s?"":s+""):o({current:r,total:s}))},t.prototype._getPageInfo=function(e){var t=e.get("scrollDataIndex",!0),i=this.getContentGroup(),n=this._containerGroup.__rectSize,o=e.getOrient().index,a=CL[o],r=SL[o],s=this._findTargetItemIndex(t),l=i.children(),u=l[s],c=l.length,d=c?1:0,h={contentPosition:[i.x,i.y],pageCount:d,pageIndex:d-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!u)return h;var p=v(u);h.contentPosition[o]=-p.s;for(var g=s+1,f=p,m=p,y=null;g<=c;++g)y=v(l[g]),(!y&&m.e>f.s+n||y&&!_(y,f.s))&&(f=m.i>f.i?m:y,f&&(null==h.pageNextDataIndex&&(h.pageNextDataIndex=f.i),++h.pageCount)),m=y;for(g=s-1,f=p,m=p,y=null;g>=-1;--g)y=v(l[g]),y&&_(m,y.s)||!(f.i<m.i)||(m=f,null==h.pagePrevDataIndex&&(h.pagePrevDataIndex=f.i),++h.pageCount,++h.pageIndex),f=y;return h;function v(e){if(e){var t=e.getBoundingRect(),i=t[r]+e[r];return{s:i,e:i+t[a],i:e.__legendDataIndex}}}function _(e,t){return e.e>=t&&e.s<=t+n}},t.prototype._findTargetItemIndex=function(e){if(!this._showController)return 0;var t,i,n=this.getContentGroup();return n.eachChild((function(n,o){var a=n.__legendDataIndex;null==i&&null!=a&&(i=o),a===e&&(t=o)})),null!=t?t:i},t.type="legend.scroll",t}(gL),kL=AL;function ML(e){e.registerAction("legendScroll","legendscroll",(function(e,t){var i=e.scrollDataIndex;null!=i&&t.eachComponent({mainType:"legend",subType:"scroll",query:e},(function(e){e.setScrollDataIndex(i)}))}))}function IL(e){p(vL),e.registerComponentModel(bL),e.registerComponentView(kL),ML(e)}function TL(e){p(vL),p(IL)}var DL=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return(0,_e.C6)(t,e),t.type="dataZoom.inside",t.defaultOption=(0,ua.G_)(Ek.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),t}(Ek),LL=DL,PL=(0,g.$r)();function FL(e,t,i){PL(e).coordSysRecordMap.each((function(e){var n=e.dataZoomInfoMap.get(t.uid);n&&(n.getRange=i)}))}function NL(e,t){for(var i=PL(e).coordSysRecordMap,n=i.keys(),o=0;o<n.length;o++){var a=n[o],r=i.get(a),s=r.dataZoomInfoMap;if(s){var l=t.uid,u=s.get(l);u&&(s.removeKey(l),s.keys().length||RL(i,r))}}}function RL(e,t){if(t){e.removeKey(t.model.uid);var i=t.controller;i&&i.dispose()}}function VL(e,t){var i={model:t,containsPoint:(0,l.cF)(OL,t),dispatchAction:(0,l.cF)(EL,e),dataZoomInfoMap:null,controller:null},n=i.controller=new oc(e.getZr());return(0,l.__)(["pan","zoom","scrollMove"],(function(e){n.on(e,(function(t){var n=[];i.dataZoomInfoMap.each((function(o){if(t.isAvailableBehavior(o.model.option)){var a=(o.getRange||{})[e],r=a&&a(o.dzReferCoordSysInfo,i.model.mainType,i.controller,t);!o.model.get("disabled",!0)&&r&&n.push({dataZoomId:o.model.id,start:r[0],end:r[1]})}})),n.length&&i.dispatchAction(n)}))})),i}function EL(e,t){e.isDisposed()||e.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:t})}function OL(e,t,i,n){return e.coordinateSystem.containPoint([i,n])}function zL(e){var t,i="type_",n={type_true:2,type_move:1,type_false:0,type_undefined:-1},o=!0;return e.each((function(e){var a=e.model,r=!a.get("disabled",!0)&&(!a.get("zoomLock",!0)||"move");n[i+r]>n[i+t]&&(t=r),o=o&&a.get("preventDefaultMouseMove",!0)})),{controlType:t,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!o}}}function GL(e){e.registerProcessor(e.PRIORITY.PROCESSOR.FILTER,(function(e,t){var i=PL(t),n=i.coordSysRecordMap||(i.coordSysRecordMap=(0,l.nt)());n.each((function(e){e.dataZoomInfoMap=null})),e.eachComponent({mainType:"dataZoom",subType:"inside"},(function(e){var i=Fk(e);(0,l.__)(i.infoList,(function(i){var o=i.model.uid,a=n.get(o)||n.set(o,VL(t,i.model)),r=a.dataZoomInfoMap||(a.dataZoomInfoMap=(0,l.nt)());r.set(e.uid,{dzReferCoordSysInfo:i,model:e,getRange:null})}))})),n.each((function(e){var t,i=e.controller,o=e.dataZoomInfoMap;if(o){var a=o.keys()[0];null!=a&&(t=o.get(a))}if(t){var r=zL(o);i.enable(r.controlType,r.opt),i.setPointerChecker(e.containsPoint),ha.N(e,"dispatchAction",t.model.get("throttle",!0),"fixRate")}else RL(n,e)}))}))}var BL=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="dataZoom.inside",t}return(0,_e.C6)(t,e),t.prototype.render=function(t,i,n){e.prototype.render.apply(this,arguments),t.noTarget()?this._clear():(this.range=t.getPercentRange(),FL(n,t,{pan:(0,l.oI)(WL.pan,this),zoom:(0,l.oI)(WL.zoom,this),scrollMove:(0,l.oI)(WL.scrollMove,this)}))},t.prototype.dispose=function(){this._clear(),e.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){NL(this.api,this.dataZoomModel),this.range=null},t.type="dataZoom.inside",t}(Bk),WL={zoom:function(e,t,i,n){var o=this.range,a=o.slice(),r=e.axisModels[0];if(r){var s=XL[t](null,[n.originX,n.originY],r,i,e),l=(s.signal>0?s.pixelStart+s.pixelLength-s.pixel:s.pixel-s.pixelStart)/s.pixelLength*(a[1]-a[0])+a[0],u=Math.max(1/n.scale,0);a[0]=(a[0]-l)*u+l,a[1]=(a[1]-l)*u+l;var c=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();return ly(0,a,[0,100],0,c.minSpan,c.maxSpan),this.range=a,o[0]!==a[0]||o[1]!==a[1]?a:void 0}},pan:HL((function(e,t,i,n,o,a){var r=XL[n]([a.oldX,a.oldY],[a.newX,a.newY],t,o,i);return r.signal*(e[1]-e[0])*r.pixel/r.pixelLength})),scrollMove:HL((function(e,t,i,n,o,a){var r=XL[n]([0,0],[a.scrollDelta,a.scrollDelta],t,o,i);return r.signal*(e[1]-e[0])*a.scrollDelta}))};function HL(e){return function(t,i,n,o){var a=this.range,r=a.slice(),s=t.axisModels[0];if(s){var l=e(r,s,t,i,n,o);return ly(l,r,[0,100],"all"),this.range=r,a[0]!==r[0]||a[1]!==r[1]?r:void 0}}}var XL={grid:function(e,t,i,n,o){var a=i.axis,r={},s=o.model.coordinateSystem.getRect();return e=e||[0,0],"x"===a.dim?(r.pixel=t[0]-e[0],r.pixelLength=s.width,r.pixelStart=s.x,r.signal=a.inverse?1:-1):(r.pixel=t[1]-e[1],r.pixelLength=s.height,r.pixelStart=s.y,r.signal=a.inverse?-1:1),r},polar:function(e,t,i,n,o){var a=i.axis,r={},s=o.model.coordinateSystem,l=s.getRadiusAxis().getExtent(),u=s.getAngleAxis().getExtent();return e=e?s.pointToCoord(e):[0,0],t=s.pointToCoord(t),"radiusAxis"===i.mainType?(r.pixel=t[0]-e[0],r.pixelLength=l[1]-l[0],r.pixelStart=l[0],r.signal=a.inverse?1:-1):(r.pixel=t[1]-e[1],r.pixelLength=u[1]-u[0],r.pixelStart=u[0],r.signal=a.inverse?-1:1),r},singleAxis:function(e,t,i,n,o){var a=i.axis,r=o.model.coordinateSystem.getRect(),s={};return e=e||[0,0],"horizontal"===a.orient?(s.pixel=t[0]-e[0],s.pixelLength=r.width,s.pixelStart=r.x,s.signal=a.inverse?1:-1):(s.pixel=t[1]-e[1],s.pixelLength=r.height,s.pixelStart=r.y,s.signal=a.inverse?-1:1),s}},$L=BL;function jL(e){Jk(e),e.registerComponentModel(LL),e.registerComponentView($L),GL(e)}var UL=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return(0,_e.C6)(t,e),t.type="dataZoom.slider",t.layoutMode="box",t.defaultOption=(0,ua.G_)(Ek.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),t}(Ek),YL=UL,ZL=fo.A,qL=7,KL=1,QL=30,JL=7,eP="horizontal",tP="vertical",iP=5,nP=["line","bar","candlestick","scatter"],oP={easing:"cubicOut",duration:100,delay:0},aP=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i._displayables={},i}return(0,_e.C6)(t,e),t.prototype.init=function(e,t){this.api=t,this._onBrush=(0,l.oI)(this._onBrush,this),this._onBrushEnd=(0,l.oI)(this._onBrushEnd,this)},t.prototype.render=function(t,i,n,o){if(e.prototype.render.apply(this,arguments),ha.N(this,"_dispatchZoomAction",t.get("throttle"),"fixRate"),this._orient=t.getOrient(),!1!==t.get("show")){if(t.noTarget())return this._clear(),void this.group.removeAll();o&&"dataZoom"===o.type&&o.from===this.uid||this._buildView(),this._updateView()}else this.group.removeAll()},t.prototype.dispose=function(){this._clear(),e.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){ha.IU(this,"_dispatchZoomAction");var e=this.api.getZr();e.off("mousemove",this._onBrush),e.off("mouseup",this._onBrushEnd)},t.prototype._buildView=function(){var e=this.group;e.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var t=this._displayables.sliderGroup=new En.A;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),e.add(t),this._positionGroup()},t.prototype._resetLocation=function(){var e=this.dataZoomModel,t=this.api,i=e.get("brushSelect"),n=i?JL:0,o=this._findCoordRect(),a={width:t.getWidth(),height:t.getHeight()},r=this._orient===eP?{right:a.width-o.x-o.width,top:a.height-QL-qL-n,width:o.width,height:QL}:{right:qL,top:o.y,width:QL,height:o.height},s=Ya.vs(e.option);(0,l.__)(["right","top","width","height"],(function(e){"ph"===s[e]&&(s[e]=r[e])}));var u=Ya.dV(s,a);this._location={x:u.x,y:u.y},this._size=[u.width,u.height],this._orient===tP&&this._size.reverse()},t.prototype._positionGroup=function(){var e=this.group,t=this._location,i=this._orient,n=this.dataZoomModel.getFirstTargetAxisModel(),o=n&&n.get("inverse"),a=this._displayables.sliderGroup,r=(this._dataShadowInfo||{}).otherAxisInverse;a.attr(i!==eP||o?i===eP&&o?{scaleY:r?1:-1,scaleX:-1}:i!==tP||o?{scaleY:r?-1:1,scaleX:-1,rotation:Math.PI/2}:{scaleY:r?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:r?1:-1,scaleX:1});var s=e.getBoundingRect([a]);e.x=t.x-s.x,e.y=t.y-s.y,e.markRedraw()},t.prototype._getViewExtent=function(){return[0,this._size[0]]},t.prototype._renderBackground=function(){var e=this.dataZoomModel,t=this._size,i=this._displayables.sliderGroup,n=e.get("brushSelect");i.add(new ZL({silent:!0,shape:{x:0,y:0,width:t[0],height:t[1]},style:{fill:e.get("backgroundColor")},z2:-40}));var o=new ZL({shape:{x:0,y:0,width:t[0],height:t[1]},style:{fill:"transparent"},z2:0,onclick:(0,l.oI)(this._onClickPanel,this)}),a=this.api.getZr();n?(o.on("mousedown",this._onBrushStart,this),o.cursor="crosshair",a.on("mousemove",this._onBrush),a.on("mouseup",this._onBrushEnd)):(a.off("mousemove",this._onBrush),a.off("mouseup",this._onBrushEnd)),i.add(o)},t.prototype._renderDataShadow=function(){var e=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],e){var t=this._size,i=this._shadowSize||[],n=e.series,o=n.getRawData(),a=n.getShadowDim&&n.getShadowDim(),r=a&&o.getDimensionInfo(a)?n.getShadowDim():e.otherDim;if(null!=r){var s=this._shadowPolygonPts,l=this._shadowPolylinePts;if(o!==this._shadowData||r!==this._shadowDim||t[0]!==i[0]||t[1]!==i[1]){var u=o.getDataExtent(r),c=.3*(u[1]-u[0]);u=[u[0]-c,u[1]+c];var d,h=[0,t[1]],p=[0,t[0]],g=[[t[0],0],[0,0]],f=[],m=p[1]/(o.count()-1),y=0,_=Math.round(o.count()/t[0]);o.each([r],(function(e,t){if(_>0&&t%_)y+=m;else{var i=null==e||isNaN(e)||""===e,n=i?0:(0,v.Cb)(e,u,h,!0);i&&!d&&t?(g.push([g[g.length-1][0],0]),f.push([f[f.length-1][0],0])):!i&&d&&(g.push([y,0]),f.push([y,0])),g.push([y,n]),f.push([y,n]),y+=m,d=i}})),s=this._shadowPolygonPts=g,l=this._shadowPolylinePts=f}this._shadowData=o,this._shadowDim=r,this._shadowSize=[t[0],t[1]];for(var x=this.dataZoomModel,b=0;b<3;b++){var C=S(1===b);this._displayables.sliderGroup.add(C),this._displayables.dataShadowSegs.push(C)}}}function S(e){var t=x.getModel(e?"selectedDataBackground":"dataBackground"),i=new En.A,n=new Mu.A({shape:{points:s},segmentIgnoreThreshold:1,style:t.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),o=new w.A({shape:{points:l},segmentIgnoreThreshold:1,style:t.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return i.add(n),i.add(o),i}},t.prototype._prepareDataShadowInfo=function(){var e=this.dataZoomModel,t=e.get("showDataShadow");if(!1!==t){var i,n=this.ecModel;return e.eachTargetAxis((function(o,a){var r=e.getAxisProxy(o,a).getTargetSeriesModels();(0,l.__)(r,(function(e){if(!i&&!(!0!==t&&(0,l.qh)(nP,e.get("type"))<0)){var r,s=n.getComponent(Lk(o),a).axis,u=rP(o),c=e.coordinateSystem;null!=u&&c.getOtherAxis&&(r=c.getOtherAxis(s).inverse),u=e.getData().mapDimension(u),i={thisAxis:s,series:e,thisDim:o,otherDim:u,otherAxisInverse:r}}}),this)}),this),i}},t.prototype._renderHandle=function(){var e=this.group,t=this._displayables,i=t.handles=[null,null],n=t.handleLabels=[null,null],o=this._displayables.sliderGroup,a=this._size,r=this.dataZoomModel,s=this.api,u=r.get("borderRadius")||0,c=r.get("brushSelect"),d=t.filler=new ZL({silent:c,style:{fill:r.get("fillerColor")},textConfig:{position:"inside"}});o.add(d),o.add(new ZL({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:a[0],height:a[1],r:u},style:{stroke:r.get("dataBackgroundColor")||r.get("borderColor"),lineWidth:KL,fill:"rgba(0,0,0,0)"}})),(0,l.__)([0,1],(function(t){var a=r.get("handleIcon");!Vn.$V[a]&&a.indexOf("path://")<0&&a.indexOf("image://")<0&&(a="path://"+a);var s=(0,Vn.v5)(a,-1,0,2,2,null,!0);s.attr({cursor:sP(this._orient),draggable:!0,drift:(0,l.oI)(this._onDragMove,this,t),ondragend:(0,l.oI)(this._onDragEnd,this),onmouseover:(0,l.oI)(this._showDataInfo,this,!0),onmouseout:(0,l.oI)(this._showDataInfo,this,!1),z2:5});var u=s.getBoundingRect(),c=r.get("handleSize");this._handleHeight=(0,v.lo)(c,this._size[1]),this._handleWidth=u.width/u.height*this._handleHeight,s.setStyle(r.getModel("handleStyle").getItemStyle()),s.style.strokeNoScale=!0,s.rectHover=!0,s.ensureState("emphasis").style=r.getModel(["emphasis","handleStyle"]).getItemStyle(),(0,I.iJ)(s);var d=r.get("handleColor");null!=d&&(s.style.fill=d),o.add(i[t]=s);var h=r.getModel("textStyle");e.add(n[t]=new Pt.Ay({silent:!0,invisible:!0,style:(0,ae.VB)(h,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:h.getTextColor(),font:h.getFont()}),z2:10}))}),this);var h=d;if(c){var p=(0,v.lo)(r.get("moveHandleSize"),a[1]),g=t.moveHandle=new fo.A({style:r.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:a[1]-.5,height:p}}),f=.8*p,m=t.moveHandleIcon=(0,Vn.v5)(r.get("moveHandleIcon"),-f/2,-f/2,f,f,"#fff",!0);m.silent=!0,m.y=a[1]+p/2-.5,g.ensureState("emphasis").style=r.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var y=Math.min(a[1]/2,Math.max(p,10));h=t.moveZone=new fo.A({invisible:!0,shape:{y:a[1]-y,height:p+y}}),h.on("mouseover",(function(){s.enterEmphasis(g)})).on("mouseout",(function(){s.leaveEmphasis(g)})),o.add(g),o.add(m),o.add(h)}h.attr({draggable:!0,cursor:sP(this._orient),drift:(0,l.oI)(this._onDragMove,this,"all"),ondragstart:(0,l.oI)(this._showDataInfo,this,!0),ondragend:(0,l.oI)(this._onDragEnd,this),onmouseover:(0,l.oI)(this._showDataInfo,this,!0),onmouseout:(0,l.oI)(this._showDataInfo,this,!1)})},t.prototype._resetInterval=function(){var e=this._range=this.dataZoomModel.getPercentRange(),t=this._getViewExtent();this._handleEnds=[(0,v.Cb)(e[0],[0,100],t,!0),(0,v.Cb)(e[1],[0,100],t,!0)]},t.prototype._updateInterval=function(e,t){var i=this.dataZoomModel,n=this._handleEnds,o=this._getViewExtent(),a=i.findRepresentativeAxisProxy().getMinMaxSpan(),r=[0,100];ly(t,n,o,i.get("zoomLock")?"all":e,null!=a.minSpan?(0,v.Cb)(a.minSpan,r,o,!0):null,null!=a.maxSpan?(0,v.Cb)(a.maxSpan,r,o,!0):null);var s=this._range,l=this._range=(0,v.Y6)([(0,v.Cb)(n[0],o,r,!0),(0,v.Cb)(n[1],o,r,!0)]);return!s||s[0]!==l[0]||s[1]!==l[1]},t.prototype._updateView=function(e){var t=this._displayables,i=this._handleEnds,n=(0,v.Y6)(i.slice()),o=this._size;(0,l.__)([0,1],(function(e){var n=t.handles[e],a=this._handleHeight;n.attr({scaleX:a/2,scaleY:a/2,x:i[e]+(e?-1:1),y:o[1]/2-a/2})}),this),t.filler.setShape({x:n[0],y:0,width:n[1]-n[0],height:o[1]});var a={x:n[0],width:n[1]-n[0]};t.moveHandle&&(t.moveHandle.setShape(a),t.moveZone.setShape(a),t.moveZone.getBoundingRect(),t.moveHandleIcon&&t.moveHandleIcon.attr("x",a.x+a.width/2));for(var r=t.dataShadowSegs,s=[0,n[0],n[1],o[0]],u=0;u<r.length;u++){var c=r[u],d=c.getClipPath();d||(d=new fo.A,c.setClipPath(d)),d.setShape({x:s[u],y:0,width:s[u+1]-s[u],height:o[1]})}this._updateDataInfo(e)},t.prototype._updateDataInfo=function(e){var t=this.dataZoomModel,i=this._displayables,n=i.handleLabels,o=this._orient,a=["",""];if(t.get("showDetail")){var r=t.findRepresentativeAxisProxy();if(r){var s=r.getAxisModel().axis,l=this._range,u=e?r.calculateDataWindow({start:l[0],end:l[1]}).valueWindow:r.getDataValueWindow();a=[this._formatLabel(u[0],s),this._formatLabel(u[1],s)]}}var c=(0,v.Y6)(this._handleEnds.slice());function d(e){var t=Gn.getTransform(i.handles[e].parent,this.group),r=Gn.transformDirection(0===e?"right":"left",t),s=this._handleWidth/2+iP,l=Gn.applyTransform([c[e]+(0===e?-s:s),this._size[1]/2],t);n[e].setStyle({x:l[0],y:l[1],verticalAlign:o===eP?"middle":r,align:o===eP?r:"center",text:a[e]})}d.call(this,0),d.call(this,1)},t.prototype._formatLabel=function(e,t){var i=this.dataZoomModel,n=i.get("labelFormatter"),o=i.get("labelPrecision");null!=o&&"auto"!==o||(o=t.getPixelPrecision());var a=null==e||isNaN(e)?"":"category"===t.type||"time"===t.type?t.scale.getLabel({value:Math.round(e)}):e.toFixed(Math.min(o,20));return(0,l.Tn)(n)?n(e,a):(0,l.Kg)(n)?n.replace("{value}",a):a},t.prototype._showDataInfo=function(e){e=this._dragging||e;var t=this._displayables,i=t.handleLabels;i[0].attr("invisible",!e),i[1].attr("invisible",!e),t.moveHandle&&this.api[e?"enterEmphasis":"leaveEmphasis"](t.moveHandle,1)},t.prototype._onDragMove=function(e,t,i,n){this._dragging=!0,Yu.ds(n.event);var o=this._displayables.sliderGroup.getLocalTransform(),a=Gn.applyTransform([t,i],o,!0),r=this._updateInterval(e,a[0]),s=this.dataZoomModel.get("realtime");this._updateView(!s),r&&s&&this._dispatchZoomAction(!0)},t.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);var e=this.dataZoomModel.get("realtime");!e&&this._dispatchZoomAction(!1)},t.prototype._onClickPanel=function(e){var t=this._size,i=this._displayables.sliderGroup.transformCoordToLocal(e.offsetX,e.offsetY);if(!(i[0]<0||i[0]>t[0]||i[1]<0||i[1]>t[1])){var n=this._handleEnds,o=(n[0]+n[1])/2,a=this._updateInterval("all",i[0]-o);this._updateView(),a&&this._dispatchZoomAction(!1)}},t.prototype._onBrushStart=function(e){var t=e.offsetX,i=e.offsetY;this._brushStart=new x.A(t,i),this._brushing=!0,this._brushStartTime=+new Date},t.prototype._onBrushEnd=function(e){if(this._brushing){var t=this._displayables.brushRect;if(this._brushing=!1,t){t.attr("ignore",!0);var i=t.shape,n=+new Date;if(!(n-this._brushStartTime<200&&Math.abs(i.width)<5)){var o=this._getViewExtent(),a=[0,100];this._range=(0,v.Y6)([(0,v.Cb)(i.x,o,a,!0),(0,v.Cb)(i.x+i.width,o,a,!0)]),this._handleEnds=[i.x,i.x+i.width],this._updateView(),this._dispatchZoomAction(!1)}}}},t.prototype._onBrush=function(e){this._brushing&&(Yu.ds(e.event),this._updateBrushRect(e.offsetX,e.offsetY))},t.prototype._updateBrushRect=function(e,t){var i=this._displayables,n=this.dataZoomModel,o=i.brushRect;o||(o=i.brushRect=new ZL({silent:!0,style:n.getModel("brushStyle").getItemStyle()}),i.sliderGroup.add(o)),o.attr("ignore",!1);var a=this._brushStart,r=this._displayables.sliderGroup,s=r.transformCoordToLocal(e,t),l=r.transformCoordToLocal(a.x,a.y),u=this._size;s[0]=Math.max(Math.min(u[0],s[0]),0),o.setShape({x:l[0],y:0,width:s[0]-l[0],height:u[1]})},t.prototype._dispatchZoomAction=function(e){var t=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:e?oP:null,start:t[0],end:t[1]})},t.prototype._findCoordRect=function(){var e,t=Fk(this.dataZoomModel).infoList;if(!e&&t.length){var i=t[0].model.coordinateSystem;e=i.getRect&&i.getRect()}if(!e){var n=this.api.getWidth(),o=this.api.getHeight();e={x:.2*n,y:.2*o,width:.6*n,height:.6*o}}return e},t.type="dataZoom.slider",t}(Bk);function rP(e){var t={x:"y",y:"x",radius:"angle",angle:"radius"};return t[e]}function sP(e){return"vertical"===e?"ns-resize":"ew-resize"}var lP=aP;function uP(e){e.registerComponentModel(YL),e.registerComponentView(lP),Jk(e)}function cP(e){p(jL),p(uP)}var dP={get:function(e,t,i){var n=l.o8((hP[e]||{})[t]);return i&&l.cy(n)?n[n.length-1]:n}},hP={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},pP=dP,gP=pg.mapVisual,fP=pg.eachVisual,mP=l.cy,yP=l.__,vP=v.Y6,_P=v.Cb,xP=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i.stateList=["inRange","outOfRange"],i.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],i.layoutMode={type:"box",ignoreSize:!0},i.dataBound=[-1/0,1/0],i.targetVisuals={},i.controllerVisuals={},i}return(0,_e.C6)(t,e),t.prototype.init=function(e,t,i){this.mergeDefaultAndTheme(e,i)},t.prototype.optionUpdated=function(e,t){var i=this.option;!t&&nT(i,e,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},t.prototype.resetVisual=function(e){var t=this.stateList;e=l.oI(e,this),this.controllerVisuals=iT(this.option.controller,t,e),this.targetVisuals=iT(this.option.target,t,e)},t.prototype.getItemSymbol=function(){return null},t.prototype.getTargetSeriesIndices=function(){var e=this.option.seriesIndex,t=[];return null==e||"all"===e?this.ecModel.eachSeries((function(e,i){t.push(i)})):t=g.qB(e),t},t.prototype.eachTargetSeries=function(e,t){l.__(this.getTargetSeriesIndices(),(function(i){var n=this.ecModel.getSeriesByIndex(i);n&&e.call(t,n)}),this)},t.prototype.isTargetSeries=function(e){var t=!1;return this.eachTargetSeries((function(i){i===e&&(t=!0)})),t},t.prototype.formatValueText=function(e,t,i){var n,o=this.option,a=o.precision,r=this.dataBound,s=o.formatter;i=i||["<",">"],l.cy(e)&&(e=e.slice(),n=!0);var u=t?e:n?[c(e[0]),c(e[1])]:c(e);return l.Kg(s)?s.replace("{value}",n?u[0]:u).replace("{value2}",n?u[1]:u):l.Tn(s)?n?s(e[0],e[1]):s(e):n?e[0]===r[0]?i[0]+" "+u[1]:e[1]===r[1]?i[1]+" "+u[0]:u[0]+" - "+u[1]:u;function c(e){return e===r[0]?"min":e===r[1]?"max":(+e).toFixed(Math.min(a,20))}},t.prototype.resetExtent=function(){var e=this.option,t=vP([e.min,e.max]);this._dataExtent=t},t.prototype.getDataDimensionIndex=function(e){var t=this.option.dimension;if(null!=t)return e.getDimensionIndex(t);for(var i=e.dimensions,n=i.length-1;n>=0;n--){var o=i[n],a=e.getDimensionInfo(o);if(!a.isCalculationCoord)return a.storeDimIndex}},t.prototype.getExtent=function(){return this._dataExtent.slice()},t.prototype.completeVisualOption=function(){var e=this.ecModel,t=this.option,i={inRange:t.inRange,outOfRange:t.outOfRange},n=t.target||(t.target={}),o=t.controller||(t.controller={});l.h1(n,i),l.h1(o,i);var a=this.isCategory();function r(i){mP(t.color)&&!i.inRange&&(i.inRange={color:t.color.slice().reverse()}),i.inRange=i.inRange||{color:e.get("gradientColor")}}function s(e,t,i){var n=e[t],o=e[i];n&&!o&&(o=e[i]={},yP(n,(function(e,t){if(pg.isValidType(t)){var i=pP.get(t,"inactive",a);null!=i&&(o[t]=i,"color"!==t||o.hasOwnProperty("opacity")||o.hasOwnProperty("colorAlpha")||(o.opacity=[0,0]))}})))}function u(e){var t=(e.inRange||{}).symbol||(e.outOfRange||{}).symbol,i=(e.inRange||{}).symbolSize||(e.outOfRange||{}).symbolSize,n=this.get("inactiveColor"),o=this.getItemSymbol(),r=o||"roundRect";yP(this.stateList,(function(o){var s=this.itemSize,u=e[o];u||(u=e[o]={color:a?n:[n]}),null==u.symbol&&(u.symbol=t&&l.o8(t)||(a?r:[r])),null==u.symbolSize&&(u.symbolSize=i&&l.o8(i)||(a?s[0]:[s[0],s[0]])),u.symbol=gP(u.symbol,(function(e){return"none"===e?r:e}));var c=u.symbolSize;if(null!=c){var d=-1/0;fP(c,(function(e){e>d&&(d=e)})),u.symbolSize=gP(c,(function(e){return _P(e,[0,d],[0,s[0]],!0)}))}}),this)}r.call(this,n),r.call(this,o),s.call(this,n,"inRange","outOfRange"),u.call(this,o)},t.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},t.prototype.isCategory=function(){return!!this.option.categories},t.prototype.setSelected=function(e){},t.prototype.getSelected=function(){return null},t.prototype.getValueState=function(e){return null},t.prototype.getVisualMeta=function(e){return null},t.type="visualMap",t.dependencies=["series"],t.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},t}(r.A),bP=xP,wP=[20,140],CP=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return(0,_e.C6)(t,e),t.prototype.optionUpdated=function(t,i){e.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual((function(e){e.mappingMethod="linear",e.dataExtent=this.getExtent()})),this._resetRange()},t.prototype.resetItemSize=function(){e.prototype.resetItemSize.apply(this,arguments);var t=this.itemSize;(null==t[0]||isNaN(t[0]))&&(t[0]=wP[0]),(null==t[1]||isNaN(t[1]))&&(t[1]=wP[1])},t.prototype._resetRange=function(){var e=this.getExtent(),t=this.option.range;!t||t.auto?(e.auto=1,this.option.range=e):l.cy(t)&&(t[0]>t[1]&&t.reverse(),t[0]=Math.max(t[0],e[0]),t[1]=Math.min(t[1],e[1]))},t.prototype.completeVisualOption=function(){e.prototype.completeVisualOption.apply(this,arguments),l.__(this.stateList,(function(e){var t=this.option.controller[e].symbolSize;t&&t[0]!==t[1]&&(t[0]=t[1]/3)}),this)},t.prototype.setSelected=function(e){this.option.range=e.slice(),this._resetRange()},t.prototype.getSelected=function(){var e=this.getExtent(),t=v.Y6((this.get("range")||[]).slice());return t[0]>e[1]&&(t[0]=e[1]),t[1]>e[1]&&(t[1]=e[1]),t[0]<e[0]&&(t[0]=e[0]),t[1]<e[0]&&(t[1]=e[0]),t},t.prototype.getValueState=function(e){var t=this.option.range,i=this.getExtent();return(t[0]<=i[0]||t[0]<=e)&&(t[1]>=i[1]||e<=t[1])?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(e){var t=[];return this.eachTargetSeries((function(i){var n=[],o=i.getData();o.each(this.getDataDimensionIndex(o),(function(t,i){e[0]<=t&&t<=e[1]&&n.push(i)}),this),t.push({seriesId:i.id,dataIndex:n})}),this),t},t.prototype.getVisualMeta=function(e){var t=SP(this,"outOfRange",this.getExtent()),i=SP(this,"inRange",this.option.range.slice()),n=[];function o(t,i){n.push({value:t,color:e(t,i)})}for(var a=0,r=0,s=i.length,l=t.length;r<l&&(!i.length||t[r]<=i[0]);r++)t[r]<i[a]&&o(t[r],"outOfRange");for(var u=1;a<s;a++,u=0)u&&n.length&&o(i[a],"outOfRange"),o(i[a],"inRange");for(u=1;r<l;r++)(!i.length||i[i.length-1]<t[r])&&(u&&(n.length&&o(n[n.length-1].value,"outOfRange"),u=0),o(t[r],"outOfRange"));var c=n.length;return{stops:n,outerColors:[c?n[0].color:"transparent",c?n[c-1].color:"transparent"]}},t.type="visualMap.continuous",t.defaultOption=(0,ua.G_)(bP.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),t}(bP);function SP(e,t,i){if(i[0]===i[1])return i.slice();for(var n=200,o=(i[1]-i[0])/n,a=i[0],r=[],s=0;s<=n&&a<i[1];s++)r.push(a),a+=o;return r.push(i[1]),r}var AP=CP,kP=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i.autoPositionValues={left:1,right:1,top:1,bottom:1},i}return(0,_e.C6)(t,e),t.prototype.init=function(e,t){this.ecModel=e,this.api=t},t.prototype.render=function(e,t,i,n){this.visualMapModel=e,!1!==e.get("show")?this.doRender(e,t,i,n):this.group.removeAll()},t.prototype.renderBackground=function(e){var t=this.visualMapModel,i=bo.QX(t.get("padding")||0),n=e.getBoundingRect();e.add(new fo.A({z2:-1,silent:!0,shape:{x:n.x-i[3],y:n.y-i[0],width:n.width+i[3]+i[1],height:n.height+i[0]+i[2]},style:{fill:t.get("backgroundColor"),stroke:t.get("borderColor"),lineWidth:t.get("borderWidth")}}))},t.prototype.getControllerVisual=function(e,t,i){i=i||{};var n=i.forceState,o=this.visualMapModel,a={};if("color"===t){var r=o.get("contentColor");a.color=r}function s(e){return a[e]}function u(e,t){a[e]=t}var c=o.controllerVisuals[n||o.getValueState(e)],d=pg.prepareVisualTypes(c);return l.__(d,(function(n){var o=c[n];i.convertOpacityToAlpha&&"opacity"===n&&(n="colorAlpha",o=c.__alphaForOpacity),pg.dependsOn(n,t)&&o&&o.applyVisual(e,s,u)})),a[t]},t.prototype.positionGroup=function(e){var t=this.visualMapModel,i=this.api;Ya.m$(e,t.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()})},t.prototype.doRender=function(e,t,i,n){},t.type="visualMap",t}(o.A),MP=kP,IP=[["left","right","width"],["top","bottom","height"]];function TP(e,t,i){var n=e.option,o=n.align;if(null!=o&&"auto"!==o)return o;for(var a={width:t.getWidth(),height:t.getHeight()},r="horizontal"===n.orient?1:0,s=IP[r],l=[0,null,10],u={},c=0;c<3;c++)u[IP[1-r][c]]=l[c],u[s[c]]=2===c?i[0]:n[s[c]];var d=[["x","width",3],["y","height",0]][r],h=(0,Ya.dV)(u,a,n.padding);return s[(h.margin[d[2]]||0)+h[d[0]]+.5*h[d[1]]<.5*a[d[1]]?0:1]}function DP(e,t){return l.__(e||[],(function(e){null!=e.dataIndex&&(e.dataIndexInside=e.dataIndex,e.dataIndex=null),e.highlightKey="visualMap"+(t?t.componentIndex:"")})),e}var LP=v.Cb,PP=l.__,FP=Math.min,NP=Math.max,RP=12,VP=6,EP=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i._shapes={},i._dataInterval=[],i._handleEnds=[],i._hoverLinkDataIndices=[],i}return(0,_e.C6)(t,e),t.prototype.init=function(t,i){e.prototype.init.call(this,t,i),this._hoverLinkFromSeriesMouseOver=l.oI(this._hoverLinkFromSeriesMouseOver,this),this._hideIndicator=l.oI(this._hideIndicator,this)},t.prototype.doRender=function(e,t,i,n){n&&"selectDataRange"===n.type&&n.from===this.uid||this._buildView()},t.prototype._buildView=function(){this.group.removeAll();var e=this.visualMapModel,t=this.group;this._orient=e.get("orient"),this._useHandle=e.get("calculable"),this._resetInterval(),this._renderBar(t);var i=e.get("text");this._renderEndsText(t,i,0),this._renderEndsText(t,i,1),this._updateView(!0),this.renderBackground(t),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(t)},t.prototype._renderEndsText=function(e,t,i){if(t){var n=t[1-i];n=null!=n?n+"":"";var o=this.visualMapModel,a=o.get("textGap"),r=o.itemSize,s=this._shapes.mainGroup,l=this._applyTransform([r[0]/2,0===i?-a:r[1]+a],s),u=this._applyTransform(0===i?"bottom":"top",s),c=this._orient,d=this.visualMapModel.textStyleModel;this.group.add(new Pt.Ay({style:(0,ae.VB)(d,{x:l[0],y:l[1],verticalAlign:"horizontal"===c?"middle":u,align:"horizontal"===c?u:"center",text:n})}))}},t.prototype._renderBar=function(e){var t=this.visualMapModel,i=this._shapes,n=t.itemSize,o=this._orient,a=this._useHandle,r=TP(t,this.api,n),s=i.mainGroup=this._createBarGroup(r),u=new En.A;s.add(u),u.add(i.outOfRange=OP()),u.add(i.inRange=OP(null,a?BP(this._orient):null,l.oI(this._dragHandle,this,"all",!1),l.oI(this._dragHandle,this,"all",!0))),u.setClipPath(new fo.A({shape:{x:0,y:0,width:n[0],height:n[1],r:3}}));var c=t.textStyleModel.getTextRect("国"),d=NP(c.width,c.height);a&&(i.handleThumbs=[],i.handleLabels=[],i.handleLabelPoints=[],this._createHandle(t,s,0,n,d,o),this._createHandle(t,s,1,n,d,o)),this._createIndicator(t,s,n,d,o),e.add(s)},t.prototype._createHandle=function(e,t,i,n,o,a){var r=l.oI(this._dragHandle,this,i,!1),s=l.oI(this._dragHandle,this,i,!0),u=(0,Be.lo)(e.get("handleSize"),n[0]),c=(0,Vn.v5)(e.get("handleIcon"),-u/2,-u/2,u,u,null,!0),d=BP(this._orient);c.attr({cursor:d,draggable:!0,drift:r,ondragend:s,onmousemove:function(e){Yu.ds(e.event)}}),c.x=n[0]/2,c.useStyle(e.getModel("handleStyle").getItemStyle()),c.setStyle({strokeNoScale:!0,strokeFirst:!0}),c.style.lineWidth*=2,c.ensureState("emphasis").style=e.getModel(["emphasis","handleStyle"]).getItemStyle(),(0,I.ix)(c,!0),t.add(c);var h=this.visualMapModel.textStyleModel,p=new Pt.Ay({cursor:d,draggable:!0,drift:r,onmousemove:function(e){Yu.ds(e.event)},ondragend:s,style:(0,ae.VB)(h,{x:0,y:0,text:""})});p.ensureState("blur").style={opacity:.1},p.stateTransition={duration:200},this.group.add(p);var g=[u,0],f=this._shapes;f.handleThumbs[i]=c,f.handleLabelPoints[i]=g,f.handleLabels[i]=p},t.prototype._createIndicator=function(e,t,i,n,o){var a=(0,Be.lo)(e.get("indicatorSize"),i[0]),r=(0,Vn.v5)(e.get("indicatorIcon"),-a/2,-a/2,a,a,null,!0);r.attr({cursor:"move",invisible:!0,silent:!0,x:i[0]/2});var s=e.getModel("indicatorStyle").getItemStyle();if(r instanceof Ge.Ay){var u=r.style;r.useStyle(l.X$({image:u.image,x:u.x,y:u.y,width:u.width,height:u.height},s))}else r.useStyle(s);t.add(r);var c=this.visualMapModel.textStyleModel,d=new Pt.Ay({silent:!0,invisible:!0,style:(0,ae.VB)(c,{x:0,y:0,text:""})});this.group.add(d);var h=[("horizontal"===o?n/2:VP)+i[0]/2,0],p=this._shapes;p.indicator=r,p.indicatorLabel=d,p.indicatorLabelPoint=h,this._firstShowIndicator=!0},t.prototype._dragHandle=function(e,t,i,n){if(this._useHandle){if(this._dragging=!t,!t){var o=this._applyTransform([i,n],this._shapes.mainGroup,!0);this._updateInterval(e,o[1]),this._hideIndicator(),this._updateView()}t===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),t?!this._hovering&&this._clearHoverLinkToSeries():GP(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[e],!1)}},t.prototype._resetInterval=function(){var e=this.visualMapModel,t=this._dataInterval=e.getSelected(),i=e.getExtent(),n=[0,e.itemSize[1]];this._handleEnds=[LP(t[0],i,n,!0),LP(t[1],i,n,!0)]},t.prototype._updateInterval=function(e,t){t=t||0;var i=this.visualMapModel,n=this._handleEnds,o=[0,i.itemSize[1]];ly(t,n,o,e,0);var a=i.getExtent();this._dataInterval=[LP(n[0],o,a,!0),LP(n[1],o,a,!0)]},t.prototype._updateView=function(e){var t=this.visualMapModel,i=t.getExtent(),n=this._shapes,o=[0,t.itemSize[1]],a=e?o:this._handleEnds,r=this._createBarVisual(this._dataInterval,i,a,"inRange"),s=this._createBarVisual(i,i,o,"outOfRange");n.inRange.setStyle({fill:r.barColor}).setShape("points",r.barPoints),n.outOfRange.setStyle({fill:s.barColor}).setShape("points",s.barPoints),this._updateHandle(a,r)},t.prototype._createBarVisual=function(e,t,i,n){var o={forceState:n,convertOpacityToAlpha:!0},a=this._makeColorGradient(e,o),r=[this.getControllerVisual(e[0],"symbolSize",o),this.getControllerVisual(e[1],"symbolSize",o)],s=this._createBarPoints(i,r);return{barColor:new ao.A(0,0,0,1,a),barPoints:s,handlesColor:[a[0].color,a[a.length-1].color]}},t.prototype._makeColorGradient=function(e,t){var i=100,n=[],o=(e[1]-e[0])/i;n.push({color:this.getControllerVisual(e[0],"color",t),offset:0});for(var a=1;a<i;a++){var r=e[0]+o*a;if(r>e[1])break;n.push({color:this.getControllerVisual(r,"color",t),offset:a/i})}return n.push({color:this.getControllerVisual(e[1],"color",t),offset:1}),n},t.prototype._createBarPoints=function(e,t){var i=this.visualMapModel.itemSize;return[[i[0]-t[0],e[0]],[i[0],e[0]],[i[0],e[1]],[i[0]-t[1],e[1]]]},t.prototype._createBarGroup=function(e){var t=this._orient,i=this.visualMapModel.get("inverse");return new En.A("horizontal"!==t||i?"horizontal"===t&&i?{scaleX:"bottom"===e?-1:1,rotation:-Math.PI/2}:"vertical"!==t||i?{scaleX:"left"===e?1:-1}:{scaleX:"left"===e?1:-1,scaleY:-1}:{scaleX:"bottom"===e?1:-1,rotation:Math.PI/2})},t.prototype._updateHandle=function(e,t){if(this._useHandle){var i=this._shapes,n=this.visualMapModel,o=i.handleThumbs,a=i.handleLabels,r=n.itemSize,s=n.getExtent();PP([0,1],(function(l){var u=o[l];u.setStyle("fill",t.handlesColor[l]),u.y=e[l];var c=LP(e[l],[0,r[1]],s,!0),d=this.getControllerVisual(c,"symbolSize");u.scaleX=u.scaleY=d/r[0],u.x=r[0]-d/2;var h=Gn.applyTransform(i.handleLabelPoints[l],Gn.getTransform(u,this.group));a[l].setStyle({x:h[0],y:h[1],text:n.formatValueText(this._dataInterval[l]),verticalAlign:"middle",align:"vertical"===this._orient?this._applyTransform("left",i.mainGroup):"center"})}),this)}},t.prototype._showIndicator=function(e,t,i,n){var o=this.visualMapModel,a=o.getExtent(),r=o.itemSize,s=[0,r[1]],l=this._shapes,u=l.indicator;if(u){u.attr("invisible",!1);var c={convertOpacityToAlpha:!0},d=this.getControllerVisual(e,"color",c),h=this.getControllerVisual(e,"symbolSize"),p=LP(e,a,s,!0),g=r[0]-h/2,f={x:u.x,y:u.y};u.y=p,u.x=g;var m=Gn.applyTransform(l.indicatorLabelPoint,Gn.getTransform(u,this.group)),y=l.indicatorLabel;y.attr("invisible",!1);var v=this._applyTransform("left",l.mainGroup),_=this._orient,x="horizontal"===_;y.setStyle({text:(i||"")+o.formatValueText(t),verticalAlign:x?v:"middle",align:x?"center":v});var b={x:g,y:p,style:{fill:d}},w={style:{x:m[0],y:m[1]}};if(o.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var C={duration:100,easing:"cubicInOut",additive:!0};u.x=f.x,u.y=f.y,u.animateTo(b,C),y.animateTo(w,C)}else u.attr(b),y.attr(w);this._firstShowIndicator=!1;var S=this._shapes.handleLabels;if(S)for(var A=0;A<S.length;A++)this.api.enterBlur(S[A])}},t.prototype._enableHoverLinkToSeries=function(){var e=this;this._shapes.mainGroup.on("mousemove",(function(t){if(e._hovering=!0,!e._dragging){var i=e.visualMapModel.itemSize,n=e._applyTransform([t.offsetX,t.offsetY],e._shapes.mainGroup,!0,!0);n[1]=FP(NP(0,n[1]),i[1]),e._doHoverLinkToSeries(n[1],0<=n[0]&&n[0]<=i[0])}})).on("mouseout",(function(){e._hovering=!1,!e._dragging&&e._clearHoverLinkToSeries()}))},t.prototype._enableHoverLinkFromSeries=function(){var e=this.api.getZr();this.visualMapModel.option.hoverLink?(e.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),e.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},t.prototype._doHoverLinkToSeries=function(e,t){var i=this.visualMapModel,n=i.itemSize;if(i.option.hoverLink){var o=[0,n[1]],a=i.getExtent();e=FP(NP(o[0],e),o[1]);var r=zP(i,a,o),s=[e-r,e+r],l=LP(e,o,a,!0),u=[LP(s[0],o,a,!0),LP(s[1],o,a,!0)];s[0]<o[0]&&(u[0]=-1/0),s[1]>o[1]&&(u[1]=1/0),t&&(u[0]===-1/0?this._showIndicator(l,u[1],"< ",r):u[1]===1/0?this._showIndicator(l,u[0],"> ",r):this._showIndicator(l,l,"≈ ",r));var c=this._hoverLinkDataIndices,d=[];(t||GP(i))&&(d=this._hoverLinkDataIndices=i.findTargetDataIndices(u));var h=g.D6(c,d);this._dispatchHighDown("downplay",DP(h[0],i)),this._dispatchHighDown("highlight",DP(h[1],i))}},t.prototype._hoverLinkFromSeriesMouseOver=function(e){var t;if((0,ch.R)(e.target,(function(e){var i=(0,y.z)(e);if(null!=i.dataIndex)return t=i,!0}),!0),t){var i=this.ecModel.getSeriesByIndex(t.seriesIndex),n=this.visualMapModel;if(n.isTargetSeries(i)){var o=i.getData(t.dataType),a=o.getStore().get(n.getDataDimensionIndex(o),t.dataIndex);isNaN(a)||this._showIndicator(a,a)}}},t.prototype._hideIndicator=function(){var e=this._shapes;e.indicator&&e.indicator.attr("invisible",!0),e.indicatorLabel&&e.indicatorLabel.attr("invisible",!0);var t=this._shapes.handleLabels;if(t)for(var i=0;i<t.length;i++)this.api.leaveBlur(t[i])},t.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var e=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",DP(e,this.visualMapModel)),e.length=0},t.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var e=this.api.getZr();e.off("mouseover",this._hoverLinkFromSeriesMouseOver),e.off("mouseout",this._hideIndicator)},t.prototype._applyTransform=function(e,t,i,n){var o=Gn.getTransform(t,n?null:this.group);return l.cy(e)?Gn.applyTransform(e,o,i):Gn.transformDirection(e,o,i)},t.prototype._dispatchHighDown=function(e,t){t&&t.length&&this.api.dispatchAction({type:e,batch:t})},t.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},t.type="visualMap.continuous",t}(MP);function OP(e,t,i,n){return new Mu.A({shape:{points:e},draggable:!!i,cursor:t,drift:i,onmousemove:function(e){Yu.ds(e.event)},ondragend:n})}function zP(e,t,i){var n=RP/2,o=e.get("hoverLinkDataSize");return o&&(n=LP(o,t,i,!0)/2),n}function GP(e){var t=e.get("hoverLinkOnHandle");return!!(null==t?e.get("realtime"):t)}function BP(e){return"vertical"===e?"ns-resize":"ew-resize"}var WP=EP,HP={type:"selectDataRange",event:"dataRangeSelected",update:"update"},XP=function(e,t){t.eachComponent({mainType:"visualMap",query:e},(function(t){t.setSelected(e.selected)}))},$P=[{createOnAllSeries:!0,reset:function(e,t){var i=[];return t.eachComponent("visualMap",(function(t){var n=e.pipelineContext;!t.isTargetSeries(e)||n&&n.large||i.push(aT(t.stateList,t.targetVisuals,l.oI(t.getValueState,t),t.getDataDimensionIndex(e.getData())))})),i}},{createOnAllSeries:!0,reset:function(e,t){var i=e.getData(),n=[];t.eachComponent("visualMap",(function(t){if(t.isTargetSeries(e)){var o=t.getVisualMeta(l.oI(jP,null,e,t))||{stops:[],outerColors:[]},a=t.getDataDimensionIndex(i);a>=0&&(o.dimension=a,n.push(o))}})),e.getData().setVisual("visualMeta",n)}}];function jP(e,t,i,n){for(var o=t.targetVisuals[n],a=pg.prepareVisualTypes(o),r={color:(0,JI.rI)(e.getData(),"color")},s=0,l=a.length;s<l;s++){var u=a[s],c=o["opacity"===u?"__alphaForOpacity":u];c&&c.applyVisual(i,d,h)}return r.color;function d(e){return r[e]}function h(e,t){r[e]=t}}var UP=l.__;function YP(e){var t=e&&e.visualMap;l.cy(t)||(t=t?[t]:[]),UP(t,(function(e){if(e){ZP(e,"splitList")&&!ZP(e,"pieces")&&(e.pieces=e.splitList,delete e.splitList);var t=e.pieces;t&&l.cy(t)&&UP(t,(function(e){l.Gv(e)&&(ZP(e,"start")&&!ZP(e,"min")&&(e.min=e.start),ZP(e,"end")&&!ZP(e,"max")&&(e.max=e.end))}))}}))}function ZP(e,t){return e&&e.hasOwnProperty&&e.hasOwnProperty(t)}var qP=!1;function KP(e){qP||(qP=!0,e.registerSubTypeDefaulter("visualMap",(function(e){return e.categories||(e.pieces?e.pieces.length>0:e.splitNumber>0)&&!e.calculable?"piecewise":"continuous"})),e.registerAction(HP,XP),(0,l.__)($P,(function(t){e.registerVisual(e.PRIORITY.VISUAL.COMPONENT,t)})),e.registerPreprocessor(YP))}function QP(e){e.registerComponentModel(AP),e.registerComponentView(WP),KP(e)}var JP=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i._pieceList=[],i}return(0,_e.C6)(t,e),t.prototype.optionUpdated=function(t,i){e.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var n=this._mode=this._determineMode();this._pieceList=[],eF[this._mode].call(this,this._pieceList),this._resetSelected(t,i);var o=this.option.categories;this.resetVisual((function(e,t){"categories"===n?(e.mappingMethod="category",e.categories=l.o8(o)):(e.dataExtent=this.getExtent(),e.mappingMethod="piecewise",e.pieceList=l.Tj(this._pieceList,(function(e){return e=l.o8(e),"inRange"!==t&&(e.visual=null),e})))}))},t.prototype.completeVisualOption=function(){var t=this.option,i={},n=pg.listVisualTypes(),o=this.isCategory();function a(e,t,i){return e&&e[t]&&e[t].hasOwnProperty(i)}l.__(t.pieces,(function(e){l.__(n,(function(t){e.hasOwnProperty(t)&&(i[t]=1)}))})),l.__(i,(function(e,i){var n=!1;l.__(this.stateList,(function(e){n=n||a(t,e,i)||a(t.target,e,i)}),this),!n&&l.__(this.stateList,(function(e){(t[e]||(t[e]={}))[i]=pP.get(i,"inRange"===e?"active":"inactive",o)}))}),this),e.prototype.completeVisualOption.apply(this,arguments)},t.prototype._resetSelected=function(e,t){var i=this.option,n=this._pieceList,o=(t?i:e).selected||{};if(i.selected=o,l.__(n,(function(e,t){var i=this.getSelectedMapKey(e);o.hasOwnProperty(i)||(o[i]=!0)}),this),"single"===i.selectedMode){var a=!1;l.__(n,(function(e,t){var i=this.getSelectedMapKey(e);o[i]&&(a?o[i]=!1:a=!0)}),this)}},t.prototype.getItemSymbol=function(){return this.get("itemSymbol")},t.prototype.getSelectedMapKey=function(e){return"categories"===this._mode?e.value+"":e.index+""},t.prototype.getPieceList=function(){return this._pieceList},t.prototype._determineMode=function(){var e=this.option;return e.pieces&&e.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},t.prototype.setSelected=function(e){this.option.selected=l.o8(e)},t.prototype.getValueState=function(e){var t=pg.findPieceIndex(e,this._pieceList);return null!=t&&this.option.selected[this.getSelectedMapKey(this._pieceList[t])]?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(e){var t=[],i=this._pieceList;return this.eachTargetSeries((function(n){var o=[],a=n.getData();a.each(this.getDataDimensionIndex(a),(function(t,n){var a=pg.findPieceIndex(t,i);a===e&&o.push(n)}),this),t.push({seriesId:n.id,dataIndex:o})}),this),t},t.prototype.getRepresentValue=function(e){var t;if(this.isCategory())t=e.value;else if(null!=e.value)t=e.value;else{var i=e.interval||[];t=i[0]===-1/0&&i[1]===1/0?0:(i[0]+i[1])/2}return t},t.prototype.getVisualMeta=function(e){if(!this.isCategory()){var t=[],i=["",""],n=this,o=this._pieceList.slice();if(o.length){var a=o[0].interval[0];a!==-1/0&&o.unshift({interval:[-1/0,a]}),a=o[o.length-1].interval[1],a!==1/0&&o.push({interval:[a,1/0]})}else o.push({interval:[-1/0,1/0]});var r=-1/0;return l.__(o,(function(e){var t=e.interval;t&&(t[0]>r&&s([r,t[0]],"outOfRange"),s(t.slice()),r=t[1])}),this),{stops:t,outerColors:i}}function s(o,a){var r=n.getRepresentValue({interval:o});a||(a=n.getValueState(r));var s=e(r,a);o[0]===-1/0?i[0]=s:o[1]===1/0?i[1]=s:t.push({value:o[0],color:s},{value:o[1],color:s})}},t.type="visualMap.piecewise",t.defaultOption=(0,ua.G_)(bP.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),t}(bP),eF={splitNumber:function(e){var t=this.option,i=Math.min(t.precision,20),n=this.getExtent(),o=t.splitNumber;o=Math.max(parseInt(o,10),1),t.splitNumber=o;var a=(n[1]-n[0])/o;while(+a.toFixed(i)!==a&&i<5)i++;t.precision=i,a=+a.toFixed(i),t.minOpen&&e.push({interval:[-1/0,n[0]],close:[0,0]});for(var r=0,s=n[0];r<o;s+=a,r++){var u=r===o-1?n[1]:s+a;e.push({interval:[s,u],close:[1,1]})}t.maxOpen&&e.push({interval:[n[1],1/0],close:[0,0]}),(0,v.sL)(e),l.__(e,(function(e,t){e.index=t,e.text=this.formatValueText(e.interval)}),this)},categories:function(e){var t=this.option;l.__(t.categories,(function(t){e.push({text:this.formatValueText(t,!0),value:t})}),this),tF(t,e)},pieces:function(e){var t=this.option;l.__(t.pieces,(function(t,i){l.Gv(t)||(t={value:t});var n={text:"",index:i};if(null!=t.label&&(n.text=t.label),t.hasOwnProperty("value")){var o=n.value=t.value;n.interval=[o,o],n.close=[1,1]}else{for(var a=n.interval=[],r=n.close=[0,0],s=[1,0,1],u=[-1/0,1/0],c=[],d=0;d<2;d++){for(var h=[["gte","gt","min"],["lte","lt","max"]][d],p=0;p<3&&null==a[d];p++)a[d]=t[h[p]],r[d]=s[p],c[d]=2===p;null==a[d]&&(a[d]=u[d])}c[0]&&a[1]===1/0&&(r[0]=0),c[1]&&a[0]===-1/0&&(r[1]=0),a[0]===a[1]&&r[0]&&r[1]&&(n.value=a[0])}n.visual=pg.retrieveVisuals(t),e.push(n)}),this),tF(t,e),(0,v.sL)(e),l.__(e,(function(e){var t=e.close,i=[["<","≤"][t[1]],[">","≥"][t[0]]];e.text=e.text||this.formatValueText(null!=e.value?e.value:e.interval,!1,i)}),this)}};function tF(e,t){var i=e.inverse;("vertical"===e.orient?!i:i)&&t.reverse()}var iF=JP,nF=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return(0,_e.C6)(t,e),t.prototype.doRender=function(){var e=this.group;e.removeAll();var t=this.visualMapModel,i=t.get("textGap"),n=t.textStyleModel,o=n.getFont(),a=n.getTextColor(),r=this._getItemAlign(),s=t.itemSize,u=this._getViewData(),c=u.endsText,d=l.Je(t.get("showLabel",!0),!c);c&&this._renderEndsText(e,c[0],s,d,r),l.__(u.viewPieceList,(function(n){var u=n.piece,c=new En.A;c.onclick=l.oI(this._onItemClick,this,u),this._enableHoverLink(c,n.indexInModelPieceList);var h=t.getRepresentValue(u);if(this._createItemSymbol(c,h,[0,0,s[0],s[1]]),d){var p=this.visualMapModel.getValueState(h);c.add(new Pt.Ay({style:{x:"right"===r?-i:s[0]+i,y:s[1]/2,text:u.text,verticalAlign:"middle",align:r,font:o,fill:a,opacity:"outOfRange"===p?.5:1}}))}e.add(c)}),this),c&&this._renderEndsText(e,c[1],s,d,r),Ya.aP(t.get("orient"),e,t.get("itemGap")),this.renderBackground(e),this.positionGroup(e)},t.prototype._enableHoverLink=function(e,t){var i=this;e.on("mouseover",(function(){return n("highlight")})).on("mouseout",(function(){return n("downplay")}));var n=function(e){var n=i.visualMapModel;n.option.hoverLink&&i.api.dispatchAction({type:e,batch:DP(n.findTargetDataIndices(t),n)})}},t.prototype._getItemAlign=function(){var e=this.visualMapModel,t=e.option;if("vertical"===t.orient)return TP(e,this.api,e.itemSize);var i=t.align;return i&&"auto"!==i||(i="left"),i},t.prototype._renderEndsText=function(e,t,i,n,o){if(t){var a=new En.A,r=this.visualMapModel.textStyleModel;a.add(new Pt.Ay({style:(0,ae.VB)(r,{x:n?"right"===o?i[0]:0:i[0]/2,y:i[1]/2,verticalAlign:"middle",align:n?o:"center",text:t})})),e.add(a)}},t.prototype._getViewData=function(){var e=this.visualMapModel,t=l.Tj(e.getPieceList(),(function(e,t){return{piece:e,indexInModelPieceList:t}})),i=e.get("text"),n=e.get("orient"),o=e.get("inverse");return("horizontal"===n?o:!o)?t.reverse():i&&(i=i.slice().reverse()),{viewPieceList:t,endsText:i}},t.prototype._createItemSymbol=function(e,t,i){e.add((0,Vn.v5)(this.getControllerVisual(t,"symbol"),i[0],i[1],i[2],i[3],this.getControllerVisual(t,"color")))},t.prototype._onItemClick=function(e){var t=this.visualMapModel,i=t.option,n=i.selectedMode;if(n){var o=l.o8(i.selected),a=t.getSelectedMapKey(e);"single"===n||!0===n?(o[a]=!0,l.__(o,(function(e,t){o[t]=t===a}))):o[a]=!o[a],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:o})}},t.type="visualMap.piecewise",t}(MP),oF=nF;function aF(e){e.registerComponentModel(iF),e.registerComponentView(oF),KP(e)}function rF(e){p(QP),p(aF)}var sF={label:{enabled:!0},decal:{show:!1}},lF=(0,g.$r)(),uF={};function cF(e,t){var i=e.getModel("aria");if(i.get("enabled")){var n=l.o8(sF);l.h1(n.label,e.getLocaleModel().get("aria"),!1),l.h1(i.option,n,!1),o(),a()}function o(){var t=i.getModel("decal"),n=t.get("show");if(n){var o=l.nt();e.eachSeries((function(e){if(!e.isColorBySeries()){var t=o.get(e.type);t||(t={},o.set(e.type,t)),lF(e).scope=t}})),e.eachRawSeries((function(t){if(!e.isSeriesFiltered(t))if(l.Tn(t.enableAriaDecal))t.enableAriaDecal();else{var i=t.getData();if(t.isColorBySeries()){var n=(0,vp.x)(t.ecModel,t.name,uF,e.getSeriesCount()),o=i.getVisual("decal");i.setVisual("decal",c(o,n))}else{var a=t.getRawData(),r={},s=lF(t).scope;i.each((function(e){var t=i.getRawIndex(e);r[t]=e}));var u=a.count();a.each((function(e){var n=r[e],o=a.getName(e)||e+"",l=(0,vp.x)(t.ecModel,o,s,u),d=i.getItemVisual(n,"decal");i.setItemVisual(n,"decal",c(d,l))}))}}function c(e,t){var i=e?l.X$(l.X$({},t),e):t;return i.dirty=!0,i}}))}}function a(){var n=t.getZr().dom;if(n){var o=e.getLocaleModel().get("aria"),a=i.getModel("label");if(a.option=l.NT(a.option,o),a.get("enabled"))if(a.get("description"))n.setAttribute("aria-label",a.get("description"));else{var c,d=e.getSeriesCount(),h=a.get(["data","maxCount"])||10,p=a.get(["series","maxCount"])||10,g=Math.min(d,p);if(!(d<1)){var f=s();if(f){var m=a.get(["general","withTitle"]);c=r(m,{title:f})}else c=a.get(["general","withoutTitle"]);var y=[],v=d>1?a.get(["series","multiple","prefix"]):a.get(["series","single","prefix"]);c+=r(v,{seriesCount:d}),e.eachSeries((function(e,t){if(t<g){var i=void 0,n=e.get("name"),o=n?"withName":"withoutName";i=d>1?a.get(["series","multiple",o]):a.get(["series","single",o]),i=r(i,{seriesId:e.seriesIndex,seriesName:e.get("name"),seriesType:u(e.subType)});var s=e.getData();if(s.count()>h){var l=a.get(["data","partialData"]);i+=r(l,{displayCnt:h})}else i+=a.get(["data","allData"]);for(var c=a.get(["data","separator","middle"]),p=a.get(["data","separator","end"]),f=[],m=0;m<s.count();m++)if(m<h){var v=s.getName(m),_=s.getValues(m),x=a.get(["data",v?"withName":"withoutName"]);f.push(r(x,{name:v,value:_.join(c)}))}i+=f.join(c)+p,y.push(i)}}));var _=a.getModel(["series","multiple","separator"]),x=_.get("middle"),b=_.get("end");c+=y.join(x)+b,n.setAttribute("aria-label",c)}}}}function r(e,t){if(!l.Kg(e))return e;var i=e;return l.__(t,(function(e,t){i=i.replace(new RegExp("\\{\\s*"+t+"\\s*\\}","g"),e)})),i}function s(){var t=e.get("title");return t&&t.length&&(t=t[0]),t&&t.text}function u(t){var i=e.getLocaleModel().get(["series","typeNames"]);return i[t]||i.chart}}function dF(e){if(e&&e.aria){var t=e.aria;null!=t.show&&(t.enabled=t.show),t.label=t.label||{},l.__(["description","general","series","data"],(function(e){null!=t[e]&&(t.label[e]=t[e])}))}}function hF(e){e.registerPreprocessor(dF),e.registerVisual(e.PRIORITY.VISUAL.ARIA,cF)}var pF={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},gF=function(){function e(e){var t=this._condVal=(0,l.Kg)(e)?new RegExp(e):(0,l.gd)(e)?e:null;if(null==t){var i="";0,(0,N_.$8)(i)}}return e.prototype.evaluate=function(e){var t=typeof e;return(0,l.Kg)(t)?this._condVal.test(e):!!(0,l.Et)(t)&&this._condVal.test(e+"")},e}(),fF=function(){function e(){}return e.prototype.evaluate=function(){return this.value},e}(),mF=function(){function e(){}return e.prototype.evaluate=function(){for(var e=this.children,t=0;t<e.length;t++)if(!e[t].evaluate())return!1;return!0},e}(),yF=function(){function e(){}return e.prototype.evaluate=function(){for(var e=this.children,t=0;t<e.length;t++)if(e[t].evaluate())return!0;return!1},e}(),vF=function(){function e(){}return e.prototype.evaluate=function(){return!this.child.evaluate()},e}(),_F=function(){function e(){}return e.prototype.evaluate=function(){for(var e=!!this.valueParser,t=this.getValue,i=t(this.valueGetterParam),n=e?this.valueParser(i):null,o=0;o<this.subCondList.length;o++)if(!this.subCondList[o].evaluate(e?n:i))return!1;return!0},e}();function xF(e,t){if(!0===e||!1===e){var i=new fF;return i.value=e,i}var n="";return SF(e)||(0,N_.$8)(n),e.and?bF("and",e,t):e.or?bF("or",e,t):e.not?wF(e,t):CF(e,t)}function bF(e,t,i){var n=t[e],o="";(0,l.cy)(n)||(0,N_.$8)(o),n.length||(0,N_.$8)(o);var a="and"===e?new mF:new yF;return a.children=(0,l.Tj)(n,(function(e){return xF(e,i)})),a.children.length||(0,N_.$8)(o),a}function wF(e,t){var i=e.not,n="";SF(i)||(0,N_.$8)(n);var o=new vF;return o.child=xF(i,t),o.child||(0,N_.$8)(n),o}function CF(e,t){for(var i="",n=t.prepareGetValue(e),o=[],a=(0,l.HP)(e),r=e.parser,s=r?(0,cD.zC)(r):null,u=0;u<a.length;u++){var c=a[u];if("parser"!==c&&!t.valueGetterAttrMap.get(c)){var d=(0,l.$3)(pF,c)?pF[c]:c,h=e[c],p=s?s(h):h,g=(0,cD.zs)(d,p)||"reg"===d&&new gF(p);g||(0,N_.$8)(i),o.push(g)}}o.length||(0,N_.$8)(i);var f=new _F;return f.valueGetterParam=n,f.valueParser=s,f.getValue=t.getValue,f.subCondList=o,f}function SF(e){return(0,l.Gv)(e)&&!(0,l.Xj)(e)}var AF=function(){function e(e,t){this._cond=xF(e,t)}return e.prototype.evaluate=function(){return this._cond.evaluate()},e}();function kF(e,t){return new AF(e,t)}var MF={type:"echarts:filter",transform:function(e){for(var t,i=e.upstream,n=kF(e.config,{valueGetterAttrMap:(0,l.nt)({dimension:!0}),prepareGetValue:function(e){var t="",n=e.dimension;(0,l.$3)(e,"dimension")||(0,N_.$8)(t);var o=i.getDimensionInfo(n);return o||(0,N_.$8)(t),{dimIdx:o.index}},getValue:function(e){return i.retrieveValueFromItem(t,e.dimIdx)}}),o=[],a=0,r=i.count();a<r;a++)t=i.getRawDataItem(a),n.evaluate()&&o.push(t);return{data:o}}};var IF={type:"echarts:sort",transform:function(e){var t=e.upstream,i=e.config,n="",o=(0,g.qB)(i);o.length||(0,N_.$8)(n);var a=[];(0,l.__)(o,(function(e){var i=e.dimension,o=e.order,r=e.parser,s=e.incomparable;if(null==i&&(0,N_.$8)(n),"asc"!==o&&"desc"!==o&&(0,N_.$8)(n),s&&"min"!==s&&"max"!==s){var l="";0,(0,N_.$8)(l)}if("asc"!==o&&"desc"!==o){var u="";0,(0,N_.$8)(u)}var c=t.getDimensionInfo(i);c||(0,N_.$8)(n);var d=r?(0,cD.zC)(r):null;r&&!d&&(0,N_.$8)(n),a.push({dimIdx:c.index,parser:d,comparator:new cD.Fl(o,s)})}));var r=t.sourceFormat;r!==Vi.Km&&r!==Vi.Wk&&(0,N_.$8)(n);for(var s=[],u=0,c=t.count();u<c;u++)s.push(t.getRawDataItem(u));return s.sort((function(e,i){for(var n=0;n<a.length;n++){var o=a[n],r=t.retrieveValueFromItem(e,o.dimIdx),s=t.retrieveValueFromItem(i,o.dimIdx);o.parser&&(r=o.parser(r),s=o.parser(s));var l=o.comparator.evaluate(r,s);if(0!==l)return l}return 0})),{data:s}}};function TF(e){e.registerTransform(MF),e.registerTransform(IF)}var DF=i(49575),LF=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="dataset",t}return(0,_e.C6)(t,e),t.prototype.init=function(t,i,n){e.prototype.init.call(this,t,i,n),this._sourceManager=new DF.R(this),(0,DF.A)(this)},t.prototype.mergeOption=function(t,i){e.prototype.mergeOption.call(this,t,i),(0,DF.A)(this)},t.prototype.optionUpdated=function(){this._sourceManager.dirty()},t.prototype.getSourceManager=function(){return this._sourceManager},t.type="dataset",t.defaultOption={seriesLayoutBy:Vi.i_},t}(r.A),PF=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="dataset",t}return(0,_e.C6)(t,e),t.type="dataset",t}(o.A);function FF(e){e.registerComponentModel(LF),e.registerComponentView(PF)}var NF=C.A.CMD;function RF(e,t){return Math.abs(e-t)<1e-5}function VF(e){var t,i,n,o,a,r=e.data,s=e.len(),l=[],u=0,c=0,d=0,h=0;function p(e,i){t&&t.length>2&&l.push(t),t=[e,i]}function g(e,i,n,o){RF(e,n)&&RF(i,o)||t.push(e,i,n,o,n,o)}function f(e,i,n,o,a,r){var s=Math.abs(i-e),l=4*Math.tan(s/4)/3,u=i<e?-1:1,c=Math.cos(e),d=Math.sin(e),h=Math.cos(i),p=Math.sin(i),g=c*a+n,f=d*r+o,m=h*a+n,y=p*r+o,v=a*l*u,_=r*l*u;t.push(g-v*d,f+_*c,m+v*p,y-_*h,m,y)}for(var m=0;m<s;){var y=r[m++],v=1===m;switch(v&&(u=r[m],c=r[m+1],d=u,h=c,y!==NF.L&&y!==NF.C&&y!==NF.Q||(t=[d,h])),y){case NF.M:u=d=r[m++],c=h=r[m++],p(d,h);break;case NF.L:i=r[m++],n=r[m++],g(u,c,i,n),u=i,c=n;break;case NF.C:t.push(r[m++],r[m++],r[m++],r[m++],u=r[m++],c=r[m++]);break;case NF.Q:i=r[m++],n=r[m++],o=r[m++],a=r[m++],t.push(u+2/3*(i-u),c+2/3*(n-c),o+2/3*(i-o),a+2/3*(n-a),o,a),u=o,c=a;break;case NF.A:var _=r[m++],x=r[m++],b=r[m++],w=r[m++],C=r[m++],S=r[m++]+C;m+=1;var A=!r[m++];i=Math.cos(C)*b+_,n=Math.sin(C)*w+x,v?(d=i,h=n,p(d,h)):g(u,c,i,n),u=Math.cos(S)*b+_,c=Math.sin(S)*w+x;for(var k=(A?-1:1)*Math.PI/2,M=C;A?M>S:M<S;M+=k){var I=A?Math.max(M+k,S):Math.min(M+k,S);f(M,I,_,x,b,w)}break;case NF.R:d=u=r[m++],h=c=r[m++],i=d+r[m++],n=h+r[m++],p(i,h),g(i,h,i,n),g(i,n,d,n),g(d,n,d,h),g(d,h,i,h);break;case NF.Z:t&&g(u,c,d,h),u=d,c=h;break}}return t&&t.length>2&&l.push(t),l}function EF(e,t,i,n,o,a,r,s,l,u){if(RF(e,i)&&RF(t,n)&&RF(o,r)&&RF(a,s))l.push(r,s);else{var c=2/u,d=c*c,h=r-e,p=s-t,g=Math.sqrt(h*h+p*p);h/=g,p/=g;var f=i-e,m=n-t,y=o-r,v=a-s,_=f*f+m*m,x=y*y+v*v;if(_<d&&x<d)l.push(r,s);else{var b=h*f+p*m,w=-h*y-p*v,C=_-b*b,S=x-w*w;if(C<d&&b>=0&&S<d&&w>=0)l.push(r,s);else{var k=[],M=[];(0,A.YT)(e,i,o,r,.5,k),(0,A.YT)(t,n,a,s,.5,M),EF(k[0],M[0],k[1],M[1],k[2],M[2],k[3],M[3],l,u),EF(k[4],M[4],k[5],M[5],k[6],M[6],k[7],M[7],l,u)}}}}function OF(e,t){var i=VF(e),n=[];t=t||1;for(var o=0;o<i.length;o++){var a=i[o],r=[],s=a[0],l=a[1];r.push(s,l);for(var u=2;u<a.length;){var c=a[u++],d=a[u++],h=a[u++],p=a[u++],g=a[u++],f=a[u++];EF(s,l,c,d,h,p,g,f,r,t),s=g,l=f}n.push(r)}return n}function zF(e,t,i){var n=e[t],o=e[1-t],a=Math.abs(n/o),r=Math.ceil(Math.sqrt(a*i)),s=Math.floor(i/r);0===s&&(s=1,r=i);for(var l=[],u=0;u<r;u++)l.push(s);var c=r*s,d=i-c;if(d>0)for(u=0;u<d;u++)l[u%r]+=1;return l}function GF(e,t,i){for(var n=e.r0,o=e.r,a=e.startAngle,r=e.endAngle,s=Math.abs(r-a),l=s*o,u=o-n,c=l>Math.abs(u),d=zF([l,u],c?0:1,t),h=(c?s:u)/d.length,p=0;p<d.length;p++)for(var g=(c?u:s)/d[p],f=0;f<d[p];f++){var m={};c?(m.startAngle=a+h*p,m.endAngle=a+h*(p+1),m.r0=n+g*f,m.r=n+g*(f+1)):(m.startAngle=a+g*f,m.endAngle=a+g*(f+1),m.r0=n+h*p,m.r=n+h*(p+1)),m.clockwise=e.clockwise,m.cx=e.cx,m.cy=e.cy,i.push(m)}}function BF(e,t,i){for(var n=e.width,o=e.height,a=n>o,r=zF([n,o],a?0:1,t),s=a?"width":"height",l=a?"height":"width",u=a?"x":"y",c=a?"y":"x",d=e[s]/r.length,h=0;h<r.length;h++)for(var p=e[l]/r[h],g=0;g<r[h];g++){var f={};f[u]=h*d,f[c]=g*p,f[s]=d,f[l]=p,f.x+=e.x,f.y+=e.y,i.push(f)}}function WF(e,t,i,n){return e*n-i*t}function HF(e,t,i,n,o,a,r,s){var l=i-e,u=n-t,c=r-o,d=s-a,h=WF(c,d,l,u);if(Math.abs(h)<1e-6)return null;var p=e-o,g=t-a,f=WF(p,g,c,d)/h;return f<0||f>1?null:new x.A(f*l+e,f*u+t)}function XF(e,t,i){var n=new x.A;x.A.sub(n,i,t),n.normalize();var o=new x.A;x.A.sub(o,e,t);var a=o.dot(n);return a}function $F(e,t){var i=e[e.length-1];i&&i[0]===t[0]&&i[1]===t[1]||e.push(t)}function jF(e,t,i){for(var n=e.length,o=[],a=0;a<n;a++){var r=e[a],s=e[(a+1)%n],l=HF(r[0],r[1],s[0],s[1],t.x,t.y,i.x,i.y);l&&o.push({projPt:XF(l,t,i),pt:l,idx:a})}if(o.length<2)return[{points:e},{points:e}];o.sort((function(e,t){return e.projPt-t.projPt}));var u=o[0],c=o[o.length-1];if(c.idx<u.idx){var d=u;u=c,c=d}var h=[u.pt.x,u.pt.y],p=[c.pt.x,c.pt.y],g=[h],f=[p];for(a=u.idx+1;a<=c.idx;a++)$F(g,e[a].slice());$F(g,p),$F(g,h);for(a=c.idx+1;a<=u.idx+n;a++)$F(f,e[a%n].slice());return $F(f,h),$F(f,p),[{points:g},{points:f}]}function UF(e){var t=e.points,i=[],n=[];(0,Dh.Cr)(t,i,n);var o=new f.A(i[0],i[1],n[0]-i[0],n[1]-i[1]),a=o.width,r=o.height,s=o.x,l=o.y,u=new x.A,c=new x.A;return a>r?(u.x=c.x=s+a/2,u.y=l,c.y=l+r):(u.y=c.y=l+r/2,u.x=s,c.x=s+a),jF(t,u,c)}function YF(e,t,i,n){if(1===i)n.push(t);else{var o=Math.floor(i/2),a=e(t);YF(e,a[0],o,n),YF(e,a[1],i-o,n)}return n}function ZF(e,t){for(var i=[],n=0;n<t;n++)i.push((0,dc.rR)(e));return i}function qF(e,t){t.setStyle(e.style),t.z=e.z,t.z2=e.z2,t.zlevel=e.zlevel}function KF(e){for(var t=[],i=0;i<e.length;)t.push([e[i++],e[i++]]);return t}function QF(e,t){var i,n=[],o=e.shape;switch(e.type){case"rect":BF(o,t,n),i=fo.A;break;case"sector":GF(o,t,n),i=mo.A;break;case"circle":GF({r0:0,r:o.r,startAngle:0,endAngle:2*Math.PI,cx:o.cx,cy:o.cy},t,n),i=mo.A;break;default:var a=e.getComputedTransform(),r=a?Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1],a[2]*a[2]+a[3]*a[3])):1,s=(0,l.Tj)(OF(e.getUpdatedPathProxy(),r),(function(e){return KF(e)})),u=s.length;if(0===u)YF(UF,{points:s[0]},t,n);else if(u===t)for(var c=0;c<u;c++)n.push({points:s[c]});else{var d=0,h=(0,l.Tj)(s,(function(e){var t=[],i=[];(0,Dh.Cr)(e,t,i);var n=(i[1]-t[1])*(i[0]-t[0]);return d+=n,{poly:e,area:n}}));h.sort((function(e,t){return t.area-e.area}));var p=t;for(c=0;c<u;c++){var g=h[c];if(p<=0)break;var f=c===u-1?p:Math.ceil(g.area/d*t);f<0||(YF(UF,{points:g.poly},f,n),p-=f)}}i=Mu.A;break}if(!i)return ZF(e,t);var m=[];for(c=0;c<n.length;c++){var y=new i;y.setShape(n[c]),qF(e,y),m.push(y)}return m}function JF(e,t){var i=e.length,n=t.length;if(i===n)return[e,t];for(var o=[],a=[],r=i<n?e:t,s=Math.min(i,n),l=Math.abs(n-i)/6,u=(s-2)/6,c=Math.ceil(l/u)+1,d=[r[0],r[1]],h=l,p=2;p<s;){var g=r[p-2],f=r[p-1],m=r[p++],y=r[p++],v=r[p++],_=r[p++],x=r[p++],b=r[p++];if(h<=0)d.push(m,y,v,_,x,b);else{for(var w=Math.min(h,c-1)+1,C=1;C<=w;C++){var S=C/w;(0,A.YT)(g,m,v,x,S,o),(0,A.YT)(f,y,_,b,S,a),g=o[3],f=a[3],d.push(o[1],a[1],o[2],a[2],g,f),m=o[5],y=a[5],v=o[6],_=a[6]}h-=w-1}}return r===e?[d,t]:[e,d]}function eN(e,t){for(var i=e.length,n=e[i-2],o=e[i-1],a=[],r=0;r<t.length;)a[r++]=n,a[r++]=o;return a}function tN(e,t){for(var i,n,o,a=[],r=[],s=0;s<Math.max(e.length,t.length);s++){var l=e[s],u=t[s],c=void 0,d=void 0;l?u?(i=JF(l,u),c=i[0],d=i[1],n=c,o=d):(d=eN(o||l,l),c=l):(c=eN(n||u,u),d=u),a.push(c),r.push(d)}return[a,r]}function iN(e){for(var t=0,i=0,n=0,o=e.length,a=0,r=o-2;a<o;r=a,a+=2){var s=e[r],l=e[r+1],u=e[a],c=e[a+1],d=s*c-u*l;t+=d,i+=(s+u)*d,n+=(l+c)*d}return 0===t?[e[0]||0,e[1]||0]:[i/t/3,n/t/3,t]}function nN(e,t,i,n){for(var o=(e.length-2)/6,a=1/0,r=0,s=e.length,l=s-2,u=0;u<o;u++){for(var c=6*u,d=0,h=0;h<s;h+=2){var p=0===h?c:(c+h-2)%l+2,g=e[p]-i[0],f=e[p+1]-i[1],m=t[h]-n[0],y=t[h+1]-n[1],v=m-g,_=y-f;d+=v*v+_*_}d<a&&(a=d,r=u)}return r}function oN(e){for(var t=[],i=e.length,n=0;n<i;n+=2)t[n]=e[i-n-2],t[n+1]=e[i-n-1];return t}function aN(e,t,i,n){for(var o,a=[],r=0;r<e.length;r++){var s=e[r],l=t[r],u=iN(s),c=iN(l);null==o&&(o=u[2]<0!==c[2]<0);var d=[],h=[],p=0,g=1/0,f=[],m=s.length;o&&(s=oN(s));for(var y=6*nN(s,l,u,c),v=m-2,_=0;_<v;_+=2){var x=(y+_)%v+2;d[_+2]=s[x]-u[0],d[_+3]=s[x+1]-u[1]}if(d[0]=s[y]-u[0],d[1]=s[y+1]-u[1],i>0)for(var b=n/i,w=-n/2;w<=n/2;w+=b){var C=Math.sin(w),S=Math.cos(w),A=0;for(_=0;_<s.length;_+=2){var k=d[_],M=d[_+1],I=l[_]-c[0],T=l[_+1]-c[1],D=I*S-T*C,L=I*C+T*S;f[_]=D,f[_+1]=L;var P=D-k,F=L-M;A+=P*P+F*F}if(A<g){g=A,p=w;for(var N=0;N<f.length;N++)h[N]=f[N]}}else for(var R=0;R<m;R+=2)h[R]=l[R]-c[0],h[R+1]=l[R+1]-c[1];a.push({from:d,to:h,fromCp:u,toCp:c,rotation:-p})}return a}function rN(e){return e.__isCombineMorphing}var sN="__mOriginal_";function lN(e,t,i){var n=sN+t,o=e[n]||e[t];e[n]||(e[n]=e[t]);var a=i.replace,r=i.after,s=i.before;e[t]=function(){var e,t=arguments;return s&&s.apply(this,t),e=a?a.apply(this,t):o.apply(this,t),r&&r.apply(this,t),e}}function uN(e,t){var i=sN+t;e[i]&&(e[t]=e[i],e[i]=null)}function cN(e,t){for(var i=0;i<e.length;i++)for(var n=e[i],o=0;o<n.length;){var a=n[o],r=n[o+1];n[o++]=t[0]*a+t[2]*r+t[4],n[o++]=t[1]*a+t[3]*r+t[5]}}function dN(e,t){var i=e.getUpdatedPathProxy(),n=t.getUpdatedPathProxy(),o=tN(VF(i),VF(n)),a=o[0],r=o[1],s=e.getComputedTransform(),l=t.getComputedTransform();function u(){this.transform=null}s&&cN(a,s),l&&cN(r,l),lN(t,"updateTransform",{replace:u}),t.transform=null;var c=aN(a,r,10,Math.PI),d=[];lN(t,"buildPath",{replace:function(e){for(var i=t.__morphT,n=1-i,o=[],a=0;a<c.length;a++){var r=c[a],s=r.from,l=r.to,u=r.rotation*i,h=r.fromCp,p=r.toCp,g=Math.sin(u),f=Math.cos(u);(0,M.Cc)(o,h,p,i);for(var m=0;m<s.length;m+=2){var y=s[m],v=s[m+1],_=l[m],x=l[m+1],b=y*n+_*i,w=v*n+x*i;d[m]=b*f-w*g+o[0],d[m+1]=b*g+w*f+o[1]}var C=d[0],S=d[1];e.moveTo(C,S);for(m=2;m<s.length;){_=d[m++],x=d[m++];var A=d[m++],k=d[m++],I=d[m++],T=d[m++];C===_&&S===x&&A===I&&k===T?e.lineTo(I,T):e.bezierCurveTo(_,x,A,k,I,T),C=I,S=T}}}})}function hN(e,t,i){if(!e||!t)return t;var n=i.done,o=i.during;function a(){uN(t,"buildPath"),uN(t,"updateTransform"),t.__morphT=-1,t.createPathProxy(),t.dirtyShape()}return dN(e,t),t.__morphT=0,t.animateTo({__morphT:1},(0,l.NT)({during:function(e){t.dirtyShape(),o&&o(e)},done:function(){a(),n&&n()}},i)),t}function pN(e,t,i,n,o,a){var r=16;e=o===i?0:Math.round(32767*(e-i)/(o-i)),t=a===n?0:Math.round(32767*(t-n)/(a-n));for(var s,l=0,u=(1<<r)/2;u>0;u/=2){var c=0,d=0;(e&u)>0&&(c=1),(t&u)>0&&(d=1),l+=u*u*(3*c^d),0===d&&(1===c&&(e=u-1-e,t=u-1-t),s=e,e=t,t=s)}return l}function gN(e){var t=1/0,i=1/0,n=-1/0,o=-1/0,a=(0,l.Tj)(e,(function(e){var a=e.getBoundingRect(),r=e.getComputedTransform(),s=a.x+a.width/2+(r?r[4]:0),l=a.y+a.height/2+(r?r[5]:0);return t=Math.min(s,t),i=Math.min(l,i),n=Math.max(s,n),o=Math.max(l,o),[s,l]})),r=(0,l.Tj)(a,(function(a,r){return{cp:a,z:pN(a[0],a[1],t,i,n,o),path:e[r]}}));return r.sort((function(e,t){return e.z-t.z})).map((function(e){return e.path}))}function fN(e){return QF(e.path,e.count)}function mN(){return{fromIndividuals:[],toIndividuals:[],count:0}}function yN(e,t,i){var n=[];function o(e){for(var t=0;t<e.length;t++){var i=e[t];rN(i)?o(i.childrenRef()):i instanceof b.Ay&&n.push(i)}}o(e);var a=n.length;if(!a)return mN();var r=i.dividePath||fN,s=r({path:t,count:a});if(s.length!==a)return console.error("Invalid morphing: unmatched splitted path"),mN();n=gN(n),s=gN(s);for(var u=i.done,c=i.during,d=i.individualDelay,h=new _.Ay,p=0;p<a;p++){var g=n[p],f=s[p];f.parent=t,f.copyTransform(h),d||dN(g,f)}function m(e){for(var t=0;t<s.length;t++)s[t].addSelfToZr(e)}function y(){t.__isCombineMorphing=!1,t.__morphT=-1,t.childrenRef=null,uN(t,"addSelfToZr"),uN(t,"removeSelfFromZr")}t.__isCombineMorphing=!0,t.childrenRef=function(){return s},lN(t,"addSelfToZr",{after:function(e){m(e)}}),lN(t,"removeSelfFromZr",{after:function(e){for(var t=0;t<s.length;t++)s[t].removeSelfFromZr(e)}});var v=s.length;if(d){var x=v,w=function(){x--,0===x&&(y(),u&&u())};for(p=0;p<v;p++){var C=d?(0,l.NT)({delay:(i.delay||0)+d(p,v,n[p],s[p]),done:w},i):i;hN(n[p],s[p],C)}}else t.__morphT=0,t.animateTo({__morphT:1},(0,l.NT)({during:function(e){for(var i=0;i<v;i++){var n=s[i];n.__morphT=t.__morphT,n.dirtyShape()}c&&c(e)},done:function(){y();for(var t=0;t<e.length;t++)uN(e[t],"updateTransform");u&&u()}},i));return t.__zr&&m(t.__zr),{fromIndividuals:n,toIndividuals:s,count:v}}function vN(e,t,i){var n=t.length,o=[],a=i.dividePath||fN;function r(e){for(var t=0;t<e.length;t++){var i=e[t];rN(i)?r(i.childrenRef()):i instanceof b.Ay&&o.push(i)}}if(rN(e)){r(e.childrenRef());var s=o.length;if(s<n)for(var u=0,c=s;c<n;c++)o.push((0,dc.rR)(o[u++%s]));o.length=n}else{o=a({path:e,count:n});var d=e.getComputedTransform();for(c=0;c<o.length;c++)o[c].setLocalTransform(d);if(o.length!==n)return console.error("Invalid morphing: unmatched splitted path"),mN()}o=gN(o),t=gN(t);var h=i.individualDelay;for(c=0;c<n;c++){var p=h?(0,l.NT)({delay:(i.delay||0)+h(c,n,o[c],t[c])},i):i;hN(o[c],t[c],p)}return{fromIndividuals:o,toIndividuals:t,count:t.length}}function _N(e){return(0,l.cy)(e[0])}function xN(e,t){for(var i=[],n=e.length,o=0;o<n;o++)i.push({one:e[o],many:[]});for(o=0;o<t.length;o++){var a=t[o].length,r=void 0;for(r=0;r<a;r++)i[r%n].many.push(t[o][r])}var s=0;for(o=n-1;o>=0;o--)if(!i[o].many.length){var l=i[s].many;if(l.length<=1){if(!s)return i;s=0}a=l.length;var u=Math.ceil(a/2);i[o].many=l.slice(u,a),i[s].many=l.slice(0,u),s++}return i}var bN={clone:function(e){for(var t=[],i=1-Math.pow(1-e.path.style.opacity,1/e.count),n=0;n<e.count;n++){var o=(0,dc.rR)(e.path);o.setStyle("opacity",i),t.push(o)}return t},split:null};function wN(e,t,i,n,o,a){if(e.length&&t.length){var r=(0,m.Jw)("update",n,o);if(r&&r.duration>0){var s,u,c=n.getModel("universalTransition").get("delay"),d=Object.assign({setToFinal:!0},r);_N(e)&&(s=e,u=t),_N(t)&&(s=t,u=e);for(var h=s?s===e:e.length>t.length,p=s?xN(u,s):xN(h?t:e,[h?e:t]),g=0,f=0;f<p.length;f++)g+=p[f].many.length;var y=0;for(f=0;f<p.length;f++)v(p[f],h,y,g),y+=p[f].many.length}}function v(e,t,n,o,r){var s=e.many,u=e.one;if(1!==s.length||r)for(var h=(0,l.NT)({dividePath:bN[i],individualDelay:c&&function(e,t,i,a){return c(e+n,o)}},d),p=t?yN(s,u,h):vN(u,s,h),g=p.fromIndividuals,f=p.toIndividuals,m=g.length,y=0;y<m;y++){b=c?(0,l.NT)({delay:c(y,m)},d):d;a(g[y],f[y],t?s[y]:e.one,t?e.one:s[y],b)}else{var _=t?s[0]:u,x=t?u:s[0];if(rN(_))v({many:[_],one:x},!0,n,o,!0);else{var b=c?(0,l.NT)({delay:c(n,o)},d):d;hN(_,x,b),a(_,x,_,x,b)}}}}function CN(e){if(!e)return[];if((0,l.cy)(e)){for(var t=[],i=0;i<e.length;i++)t.push(CN(e[i]));return t}var n=[];return e.traverse((function(e){e instanceof b.Ay&&!e.disableMorphing&&!e.invisible&&!e.ignore&&n.push(e)})),n}var SN=1e4,AN=0,kN=1,MN=2,IN=(0,g.$r)();function TN(e,t){for(var i=e.dimensions,n=0;n<i.length;n++){var o=e.getDimensionInfo(i[n]);if(o&&0===o.otherDims[t])return i[n]}}function DN(e,t,i){var n=e.getDimensionInfo(i),o=n&&n.ordinalMeta;if(n){var a=e.get(n.name,t);return o&&o.categories[a]||a+""}}function LN(e,t,i,n){var o=n?"itemChildGroupId":"itemGroupId",a=TN(e,o);if(a){var r=DN(e,t,a);return r}var s=e.getRawDataItem(t),l=n?"childGroupId":"groupId";return s&&s[l]?s[l]+"":n?void 0:i||e.getId(t)}function PN(e){var t=[];return(0,l.__)(e,(function(e){var i=e.data,n=e.dataGroupId;if(!(i.count()>SN))for(var o=i.getIndices(),a=0;a<o.length;a++)t.push({data:i,groupId:LN(i,a,n,!1),childGroupId:LN(i,a,n,!0),divide:e.divide,dataIndex:a})})),t}function FN(e,t,i){e.traverse((function(e){e instanceof b.Ay&&(0,m.LW)(e,{style:{opacity:0}},t,{dataIndex:i,isFrom:!0})}))}function NN(e){if(e.parent){var t=e.getComputedTransform();e.setLocalTransform(t),e.parent.remove(e)}}function RN(e){e.stopAnimation(),e.isGroup&&e.traverse((function(e){e.stopAnimation()}))}function VN(e,t,i){var n=(0,m.Jw)("update",i,t);n&&e.traverse((function(e){if(e instanceof Cd.Ay){var t=(0,m.Xr)(e);t&&e.animateFrom({style:t},n)}}))}function EN(e,t){var i=e.length;if(i!==t.length)return!1;for(var n=0;n<i;n++){var o=e[n],a=t[n];if(o.data.getId(o.dataIndex)!==a.data.getId(a.dataIndex))return!1}return!0}function ON(e,t,i){var n=PN(e),o=PN(t);function a(e,t,i,n,o){(i||e)&&t.animateFrom({style:i&&i!==e?(0,l.X$)((0,l.X$)({},i.style),e.style):e.style},o)}var r=!1,s=AN,u=(0,l.nt)(),c=(0,l.nt)();n.forEach((function(e){e.groupId&&u.set(e.groupId,!0),e.childGroupId&&c.set(e.childGroupId,!0)}));for(var d=0;d<o.length;d++){var h=o[d].groupId;if(c.get(h)){s=kN;break}var p=o[d].childGroupId;if(p&&u.get(p)){s=MN;break}}function g(e,t){return function(i){var n=i.data,o=i.dataIndex;return t?n.getId(o):e?s===kN?i.childGroupId:i.groupId:s===MN?i.childGroupId:i.groupId}}var f=EN(n,o),y={};if(!f)for(d=0;d<o.length;d++){var v=o[d],_=v.data.getItemGraphicEl(v.dataIndex);_&&(y[_.id]=!0)}function x(e,t){var i=n[t],s=o[e],l=s.data.hostModel,u=i.data.getItemGraphicEl(i.dataIndex),c=s.data.getItemGraphicEl(s.dataIndex);u!==c?u&&y[u.id]||c&&(RN(c),u?(RN(u),NN(u),r=!0,wN(CN(u),CN(c),s.divide,l,e,a)):FN(c,l,e)):c&&VN(c,s.dataIndex,l)}new Ni(n,o,g(!0,f),g(!1,f),null,"multiple").update(x).updateManyToOne((function(e,t){var i=o[e],s=i.data,u=s.hostModel,c=s.getItemGraphicEl(i.dataIndex),d=(0,l.pb)((0,l.Tj)(t,(function(e){return n[e].data.getItemGraphicEl(n[e].dataIndex)})),(function(e){return e&&e!==c&&!y[e.id]}));c&&(RN(c),d.length?((0,l.__)(d,(function(e){RN(e),NN(e)})),r=!0,wN(CN(d),CN(c),i.divide,u,e,a)):FN(c,u,i.dataIndex))})).updateOneToMany((function(e,t){var i=n[t],s=i.data.getItemGraphicEl(i.dataIndex);if(!s||!y[s.id]){var u=(0,l.pb)((0,l.Tj)(e,(function(e){return o[e].data.getItemGraphicEl(o[e].dataIndex)})),(function(e){return e&&e!==s})),c=o[e[0]].data.hostModel;u.length&&((0,l.__)(u,(function(e){return RN(e)})),s?(RN(s),NN(s),r=!0,wN(CN(s),CN(u),i.divide,c,e[0],a)):(0,l.__)(u,(function(t){return FN(t,c,e[0])})))}})).updateManyToMany((function(e,t){new Ni(t,e,(function(e){return n[e].data.getId(n[e].dataIndex)}),(function(e){return o[e].data.getId(o[e].dataIndex)})).update((function(i,n){x(e[i],t[n])})).execute()})).execute(),r&&(0,l.__)(t,(function(e){var t=e.data,n=t.hostModel,o=n&&i.getViewOfSeriesModel(n),a=(0,m.Jw)("update",n,0);o&&n.isAnimationEnabled()&&a&&a.duration>0&&o.group.traverse((function(e){e instanceof b.Ay&&!e.animators.length&&e.animateFrom({style:{opacity:0}},a)}))}))}function zN(e){var t=e.getModel("universalTransition").get("seriesKey");return t||e.id}function GN(e){return(0,l.cy)(e)?e.sort().join(","):e}function BN(e){if(e.hostModel)return e.hostModel.getModel("universalTransition").get("divideShape")}function WN(e,t){var i=(0,l.nt)(),n=(0,l.nt)(),o=(0,l.nt)();return(0,l.__)(e.oldSeries,(function(t,i){var a=e.oldDataGroupIds[i],r=e.oldData[i],s=zN(t),u=GN(s);n.set(u,{dataGroupId:a,data:r}),(0,l.cy)(s)&&(0,l.__)(s,(function(e){o.set(e,{key:u,dataGroupId:a,data:r})}))})),(0,l.__)(t.updatedSeries,(function(e){if(e.isUniversalTransitionEnabled()&&e.isAnimationEnabled()){var t=e.get("dataGroupId"),a=e.getData(),r=zN(e),s=GN(r),u=n.get(s);if(u)i.set(s,{oldSeries:[{dataGroupId:u.dataGroupId,divide:BN(u.data),data:u.data}],newSeries:[{dataGroupId:t,divide:BN(a),data:a}]});else if((0,l.cy)(r)){0;var c=[];(0,l.__)(r,(function(e){var t=n.get(e);t.data&&c.push({dataGroupId:t.dataGroupId,divide:BN(t.data),data:t.data})})),c.length&&i.set(s,{oldSeries:c,newSeries:[{dataGroupId:t,data:a,divide:BN(a)}]})}else{var d=o.get(r);if(d){var h=i.get(d.key);h||(h={oldSeries:[{dataGroupId:d.dataGroupId,data:d.data,divide:BN(d.data)}],newSeries:[]},i.set(d.key,h)),h.newSeries.push({dataGroupId:t,data:a,divide:BN(a)})}}}})),i}function HN(e,t){for(var i=0;i<e.length;i++){var n=null!=t.seriesIndex&&t.seriesIndex===e[i].seriesIndex||null!=t.seriesId&&t.seriesId===e[i].id;if(n)return i}}function XN(e,t,i,n){var o=[],a=[];(0,l.__)((0,g.qB)(e.from),(function(e){var i=HN(t.oldSeries,e);i>=0&&o.push({dataGroupId:t.oldDataGroupIds[i],data:t.oldData[i],divide:BN(t.oldData[i]),groupIdDim:e.dimension})})),(0,l.__)((0,g.qB)(e.to),(function(e){var n=HN(i.updatedSeries,e);if(n>=0){var o=i.updatedSeries[n].getData();a.push({dataGroupId:t.oldDataGroupIds[n],data:o,divide:BN(o),groupIdDim:e.dimension})}})),o.length>0&&a.length>0&&ON(o,a,n)}function $N(e){e.registerUpdateLifecycle("series:beforeupdate",(function(e,t,i){(0,l.__)((0,g.qB)(i.seriesTransition),(function(e){(0,l.__)((0,g.qB)(e.to),(function(e){for(var t=i.updatedSeries,n=0;n<t.length;n++)(null!=e.seriesIndex&&e.seriesIndex===t[n].seriesIndex||null!=e.seriesId&&e.seriesId===t[n].id)&&(t[n][s.U]=!0)}))}))})),e.registerUpdateLifecycle("series:transition",(function(e,t,i){var n=IN(t);if(n.oldSeries&&i.updatedSeries&&i.optionChanged){var o=i.seriesTransition;if(o)(0,l.__)((0,g.qB)(o),(function(e){XN(e,n,i,t)}));else{var a=WN(n,i);(0,l.__)(a.keys(),(function(e){var i=a.get(e);ON(i.oldSeries,i.newSeries,t)}))}(0,l.__)(i.updatedSeries,(function(e){e[s.U]&&(e[s.U]=!1)}))}for(var r=e.getSeries(),u=n.oldSeries=[],c=n.oldDataGroupIds=[],d=n.oldData=[],h=0;h<r.length;h++){var p=r[h].getData();p.count()<SN&&(u.push(r[h]),c.push(r[h].get("dataGroupId")),d.push(p))}}))}p([Oe]),p([Ti]),p([jo,ja,vr,wu,Uu,fh,fp,$g,hm,wm,Fm,Ov,y_,V_,cx,vx,Hx,eb,Db,Gb,aw,VC]),p(NS),p(kA),p(gh),p(QA),p(Ev),p(uk),p(Mk),p(hI),p(ZI),p(FS),p(DT),p(FT),p(iD),p(TD),p(BD),p(eL),p(TL),p(cP),p(jL),p(uP),p(rF),p(QP),p(aF),p(hF),p(TF),p(FF),p($N),p(ye)},54544:function(e,t,i){"use strict";e.exports=i.p+"img/1730613136_data_03_QC_page_2.056e1040.png"},55728:function(e,t,i){"use strict";e.exports=i.p+"img/pbmc_001_annot_trajectory_1754191655682_page_1.72060020.png"},56739:function(e,t,i){"use strict";e.exports=i.p+"img/HCC_10_filter_v3_TCGA_4_TCGA_mRNA_survival_1747710612990_page_1.5d1541d4.png"},59623:function(e,t,i){"use strict";e.exports=i.p+"img/HCC_10_filter_v3_01_page_1.22253c5c.svg"},60144:function(e,t,i){"use strict";e.exports=i.p+"img/HCC_10_filter_v3_cellchat_heatmap_count_1751013932118_page_1.576c4843.svg"},60445:function(e,t,i){"use strict";e.exports=i.p+"img/pbmc_01_QC_page_1.b3733910.png"},60725:function(e,t,i){"use strict";e.exports=i.p+"img/infercnv_1754188434152.97a61492.png"},61629:function(e,t,i){"use strict";e.exports=i.p+"img/HCC_10_filter_v3_001_trajectory_1749000435961_page_1.4c30614b.png"},62624:function(e,t,i){"use strict";e.exports=i.p+"img/pbmc_TCGA_5_TCGA_mRNA_meth_1754207284418_page_1.43183683.png"},62773:function(e,t,i){"use strict";e.exports=i.p+"img/1750032382_matrix_TCGA_2_TCGA_mRNA_boxplot_1752467091242_page_1.2abbb46c.png"},63712:function(e,t,i){"use strict";e.exports=i.p+"img/HCC_10_filter_v3_03_QC_page_1.292d7cdc.png"},63879:function(e,t,i){"use strict";e.exports=i.p+"img/1750032382_matrix_TCGA_4_TCGA_mRNA_survival_1751181952310_page_1.c204ce65.png"},64893:function(e,t,i){"use strict";e.exports=i.p+"img/pbmc_003_pseudotime_plot_1754199390228_page_1.23b85e7b.png"},66440:function(e,t,i){"use strict";e.exports=i.p+"img/HCC_10_filter_v3_001_trajectory_1747615688870_page_1.84ad7f26.png"},66772:function(e,t,i){"use strict";e.exports=i.p+"img/pbmc_001_annot_trajectory_1754191038681_page_1.4c819d1d.png"},67849:function(e,t,i){"use strict";e.exports=i.p+"img/1750032382_matrix_TCGA_4_TCGA_mRNA_survival_1751536170619_page_1.45506ded.png"},69191:function(e,t,i){"use strict";e.exports=i.p+"img/1750032382_matrix_01_page_7.a5cdf3e0.svg"},69287:function(e,t,i){"use strict";e.exports=i.p+"img/forest_list_1746688802964_NKG7_pdf_page_1.59de1a73.png"},71535:function(e,t,i){"use strict";e.exports=i.p+"img/pbmc_001_annot_trajectory_1754191949746_page_1.894267c7.png"},71723:function(e,t,i){"use strict";e.exports=i.p+"img/HCC_10_filter_v3_TCGA_08_heatmap_1746688802964_page_1.1253786c.png"},73504:function(e,t,i){"use strict";e.exports=i.p+"img/pbmc_TCGA_6_TCGA_mRNA_TIMER2_page_1.a93b64a1.png"},74587:function(e,t,i){"use strict";e.exports=i.p+"img/pbmc_TCGA_2_TCGA_mRNA_boxplot_1754207284418_page_1.c091b71f.png"},75024:function(e,t,i){"use strict";e.exports=i.p+"img/1750032382_matrix_marker_genes_1751263933356_page_1.5d6b0b3b.svg"},75348:function(e,t,i){"use strict";e.exports=i.p+"img/1747010914_data_01_page_2.24725783.svg"},75849:function(e,t,i){"use strict";e.exports=i.p+"img/forest_list_1746688802964_GZMA_pdf_page_1.c5c23248.png"},77177:function(e,t,i){"use strict";e.exports=i.p+"img/pbmc_TCGA_4_TCGA_mRNA_survival_1754207284418_page_1.16e4bfdb.png"},77525:function(e,t,i){"use strict";e.exports=i.p+"img/pbmc_001_trajectory_1754191655682_page_1.b44a93b5.png"},77599:function(e,t,i){"use strict";e.exports=i.p+"img/1750032382_matrix_TCGA_2_TCGA_mRNA_boxplot_1752465112770_page_1.f4c83e20.png"},77797:function(e,t,i){"use strict";e.exports=i.p+"img/forest_list_1746688802964_CST7_pdf_page_1.68023bfd.png"},78244:function(e,t,i){"use strict";e.exports=i.p+"img/1750032382_matrix_TCGA_5_TCGA_mRNA_meth_1751536170619_page_1.4b083049.png"},79149:function(e,t,i){"use strict";e.exports=i.p+"img/HCC_10_filter_v3_001_trajectory_page_1.c5fec028.png"},79532:function(e,t,i){"use strict";e.exports=i.p+"img/pbmc_cellchat_heatmap_weight_1754051862100_page_1.59e078a5.svg"},79990:function(e,t,i){"use strict";e.exports=i.p+"img/infercnv_1754103844270.50ed9891.png"},80275:function(e,t,i){"use strict";e.exports=i.p+"img/HCC_10_filter_v3_TCGA_6_TCGA_mRNA_TIMER2_page_1.1001d16c.png"},80284:function(e,t,i){"use strict";e.exports=i.p+"img/pbmc_001_trajectory_1754189892502_page_1.bbe8dccc.png"},81060:function(e,t,i){"use strict";e.exports=i.p+"img/1750032382_matrix_001_annot_trajectory_1751180254768_page_1.cb902702.png"},81066:function(e,t,i){"use strict";e.exports=i.p+"img/1750238524_matrix111_01_page_1.3ca9fd1c.svg"},81194:function(e,t,i){"use strict";e.exports=i.p+"img/pbmc_001_trajectory_1754190865593_page_1.6ef782f5.png"},81478:function(e,t,i){"use strict";e.exports=i.p+"img/1750032382_matrix_cellchat_heatmap_count_1751530683704_page_1.7a635dca.svg"},82420:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return _}});var n=i(56768);const o={class:"photo-gallery"},a={class:"gallery-row"},r={class:"photo-item"},s={class:"image-slot"},l={class:"photo-item"},u={class:"gallery-row"},c={class:"photo-item"},d={class:"photo-item"};function h(e,t,i,h,p,g){const f=(0,n.g2)("el-button"),m=(0,n.g2)("QuestionFilled"),y=(0,n.g2)("el-icon"),v=(0,n.g2)("ZoomOut"),_=(0,n.g2)("ZoomIn"),x=(0,n.g2)("RefreshRight"),b=(0,n.g2)("RefreshLeft"),w=(0,n.g2)("Refresh"),C=(0,n.g2)("Download"),S=(0,n.g2)("icon-picture"),A=(0,n.g2)("el-image"),k=(0,n.g2)("el-scrollbar");return(0,n.uX)(),(0,n.CE)("div",o,[(0,n.bF)(f,{type:"primary",onClick:g.checkUserInfo,style:{"margin-bottom":"20px"}},{default:(0,n.k6)((()=>t[1]||(t[1]=[(0,n.eW)(" 检查用户信息 ")]))),_:1},8,["onClick"]),(0,n.Lk)("div",a,[(0,n.Lk)("div",r,[(0,n.Lk)("h3",null,[t[2]||(t[2]=(0,n.eW)("图片列表")),(0,n.bF)(f,{type:"",text:"",size:"small",onClick:t[0]||(t[0]=e=>g.jumpToTutorial("interface-overview"))},{default:(0,n.k6)((()=>[(0,n.bF)(y,null,{default:(0,n.k6)((()=>[(0,n.bF)(m)])),_:1})])),_:1})]),(0,n.bF)(k,{ref:"el_scrollbar",style:{height:"300px","overflow-y":"auto",width:"100%"}},{default:(0,n.k6)((()=>[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(p.imageList,((e,t)=>((0,n.uX)(),(0,n.Wv)(A,{key:t,src:e,style:{height:"450px",margin:"10px auto",display:"block"},fit:"contain",lazy:"","scroll-container":g.scrollContainer,"preview-src-list":[e]},{toolbar:(0,n.k6)((({actions:t,reset:i})=>[(0,n.bF)(y,{onClick:e=>t("zoomOut")},{default:(0,n.k6)((()=>[(0,n.bF)(v)])),_:2},1032,["onClick"]),(0,n.bF)(y,{onClick:e=>t("zoomIn",{enableTransition:!1,zoomRate:2})},{default:(0,n.k6)((()=>[(0,n.bF)(_)])),_:2},1032,["onClick"]),(0,n.bF)(y,{onClick:e=>t("clockwise",{rotateDeg:180,enableTransition:!1})},{default:(0,n.k6)((()=>[(0,n.bF)(x)])),_:2},1032,["onClick"]),(0,n.bF)(y,{onClick:e=>t("anticlockwise")},{default:(0,n.k6)((()=>[(0,n.bF)(b)])),_:2},1032,["onClick"]),(0,n.bF)(y,{onClick:i},{default:(0,n.k6)((()=>[(0,n.bF)(w)])),_:2},1032,["onClick"]),(0,n.bF)(y,{onClick:t=>g.downloadImage(e)},{default:(0,n.k6)((()=>[(0,n.bF)(C)])),_:2},1032,["onClick"])])),error:(0,n.k6)((()=>[(0,n.Lk)("div",s,[(0,n.bF)(y,null,{default:(0,n.k6)((()=>[(0,n.bF)(S)])),_:1})])])),_:2},1032,["src","scroll-container","preview-src-list"])))),128))])),_:1},512)]),(0,n.Lk)("div",l,[t[3]||(t[3]=(0,n.Lk)("h3",null,"图片 2",-1)),(0,n.bF)(A,{src:p.url2,"preview-src-list":[p.url2],fit:"contain"},null,8,["src","preview-src-list"])])]),(0,n.Lk)("div",u,[(0,n.Lk)("div",c,[t[4]||(t[4]=(0,n.Lk)("h3",null,"图片 3",-1)),(0,n.bF)(A,{src:p.url3,"preview-src-list":[p.url3],fit:"contain"},null,8,["src","preview-src-list"])]),(0,n.Lk)("div",d,[t[5]||(t[5]=(0,n.Lk)("h3",null,"图片 4",-1)),(0,n.bF)(A,{src:p.url4,"preview-src-list":[p.url4],fit:"contain"},null,8,["src","preview-src-list"])])])])}i(14603),i(47566),i(98721);var p=i(51219),g=i(37913),f=i(57477),m={components:{Download:f.Download,Refresh:f.Refresh,RefreshLeft:f.RefreshLeft,RefreshRight:f.RefreshRight,ZoomIn:f.ZoomIn,ZoomOut:f.ZoomOut,IconPicture:f.Picture},data(){return{imageList:[],url2:"https://fuasdfss10.elemecdn.com/1/34/19aa98b1fcb2781c4fba33d850549jpeg.jpeg",url3:"https://fuss10.elemecdn.com/0/6f/e35ff375812e6b0020b6b4e8f9583jpeg.jpeg",url4:"https://fuss10.elemecdn.com/9/bb/e27858e973f5d7d3904835f46abbdjpeg.jpeg"}},computed:{scrollContainer(){return this.$refs.el_scrollbar?.wrap}},methods:{downloadImage(e){if(!e)return;const t=e.split("/").pop()||"image_"+Date.now()+".jpeg";fetch(e).then((e=>{if(!e.ok)throw new Error("Network response was not ok");return e.blob()})).then((e=>{const i=window.URL.createObjectURL(e),n=document.createElement("a");n.href=i,n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(i)})).catch((e=>{console.error("Download failed:",e),p.nk.error("下载失败："+e.message)}))},jumpToTutorial(e){window.open(`/tutorial.html#${e}`,"_blank")},async checkUserInfo(){try{const e=await(0,g.Jt)("check_user_info");e.data.success?p.nk.success(`当前用户ID: ${e.data.user_id}`):p.nk.warning(e.data.message||"获取用户信息失败")}catch(e){p.nk.error("请求失败："+e.message)}}}},y=i(71241);const v=(0,y.A)(m,[["render",h],["__scopeId","data-v-2057971e"]]);var _=v},82621:function(e,t,i){"use strict";e.exports=i.p+"img/1750032382_matrix_marker_genes_1750817837899_page_1.5af7bad1.svg"},83153:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return f}});var n=i(56768);const o={class:"form-container"},a={class:"demo-image__error"},r={class:"block"},s={class:"image-slot"};function l(e,t,i,l,u,c){const d=(0,n.g2)("icon-picture"),h=(0,n.g2)("el-icon"),p=(0,n.g2)("el-image"),g=(0,n.g2)("el-form"),f=(0,n.g2)("el-card");return(0,n.uX)(),(0,n.Wv)(f,null,{default:(0,n.k6)((()=>[(0,n.Lk)("div",o,[(0,n.bF)(g,{model:e.form,"label-width":"90px",style:{width:"60%"}},{default:(0,n.k6)((()=>[(0,n.Lk)("div",a,[(0,n.Lk)("div",r,[t[0]||(t[0]=(0,n.Lk)("span",{class:"demonstration"},"UMAP图",-1)),(0,n.bF)(p,{src:u.imageSrc_res,fit:"contain",onLoad:c.onImageLoad,onError:c.onImageError},{error:(0,n.k6)((()=>[(0,n.Lk)("div",s,[(0,n.bF)(h,null,{default:(0,n.k6)((()=>[(0,n.bF)(d)])),_:1})])])),_:1},8,["src","onLoad","onError"])])])])),_:1},8,["model"])])])),_:1})}i(14603),i(47566),i(98721);var u=i(22974),c=i(51219),d=i(57477),h={components:{Eleme:d.Eleme,IconPicture:d.Picture},data(){return{task_id:this.$myContent.task_id,imageSrc_res:"",if_load:!1}},methods:{diagnosis(){this.if_load=!0,u.A.get(`/api/eval?task_id=${this.task_id}`).then((e=>{console.log("查看图像中",e),u.A.get(`/api/segment?task_id=${this.task_id}`,{responseType:"arraybuffer"}).then((e=>{console.log("返回值：",e);let t=e.data,i=new Blob([t],{type:"image/jpeg"});var n=window.URL.createObjectURL(i);this.imageSrc_res=n}))})).catch((e=>{console.log("error",e),e.response?(console.log("请求失败:",e.response.status),console.log("错误响应数据:",e.response.data),c.nk.error(e.response.data.msg)):console.error("请求错误:",e.message)}))},fetchUserTasks(){u.A.get("/api/get_all_tasks").then((e=>{this.userTasks=e.data.task_ids})).catch((e=>{console.error("获取用户列表失败",e)}))},fetchUserImg(){u.A.get(`/api/origin?task_id=${this.task_id}`,{responseType:"arraybuffer"}).then((e=>{console.log("yuanshi",e);let t=e.data,i=new Blob([t],{type:"image/jpeg"});var n=window.URL.createObjectURL(i);this.imageSrc_res=n}))},onImageLoad(){console.log("Image loaded successfully")},onImageError(){console.log("Failed to load image"),this.errorMessage="Failed to load image",u.A.get("/api/get_figure_UMP",{responseType:"arraybuffer"}).then((e=>{console.log("yuanshi",e.data);let t=e.data,i=new Blob([t]);var n=window.URL.createObjectURL(i);this.imageSrc_res=n})).catch((e=>{console.log("error",e),e.response?(console.log("请求失败:",e.response.status),console.log("错误响应数据:",e.response.data),c.nk.error(e.response.data.msg)):console.error("请求错误:",e.message)}))}}},p=i(71241);const g=(0,p.A)(h,[["render",l],["__scopeId","data-v-30eee360"]]);var f=g},83754:function(e,t,i){"use strict";e.exports=i.p+"img/pbmc_marker_genes_1754221554325_pdf_page_1.ee5e5397.png"},84264:function(e,t,i){"use strict";e.exports=i.p+"img/HCC_10_filter_v3_003_pseudotime_plot_1749553362850_page_1.d06a8170.png"},84603:function(e,t,i){"use strict";e.exports=i.p+"img/pbmc_marker_genes_1754222121967_pdf_page_1.ee5e5397.png"},85347:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return c}});var n=i(56768);const o={class:"add"};function a(e,t,i,a,r,s){const l=(0,n.g2)("el-table-column"),u=(0,n.g2)("el-button"),c=(0,n.g2)("el-table"),d=(0,n.g2)("el-input"),h=(0,n.g2)("el-form-item"),p=(0,n.g2)("el-form"),g=(0,n.g2)("el-dialog");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.bF)(c,{data:r.tableData,stripe:"",style:{width:"100%"}},{default:(0,n.k6)((()=>[(0,n.bF)(l,{type:"index",width:"50",label:"No."}),(0,n.bF)(l,{prop:"name",label:"账户名称"}),(0,n.bF)(l,{prop:"state",label:"备注"}),(0,n.bF)(l,{fixed:"right",label:"操作"},{default:(0,n.k6)((({row:e})=>[(0,n.bF)(u,{type:"danger",size:"small",onClick:t=>s.handleDelete(e)},{default:(0,n.k6)((()=>t[4]||(t[4]=[(0,n.eW)("删除")]))),_:2},1032,["onClick"]),(0,n.bF)(u,{type:"primary",size:"small",onClick:t=>s.handleEdit(e)},{default:(0,n.k6)((()=>t[5]||(t[5]=[(0,n.eW)("编辑")]))),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"]),(0,n.Lk)("div",o,[(0,n.bF)(u,{type:"primary",onClick:s.handleAdd},{default:(0,n.k6)((()=>t[6]||(t[6]=[(0,n.eW)("增加")]))),_:1},8,["onClick"])]),(0,n.bF)(g,{modelValue:r.dialogVisible,"onUpdate:modelValue":t[3]||(t[3]=e=>r.dialogVisible=e),title:"用户详情",visible:r.dialogVisible,onClose:s.resetForm},{default:(0,n.k6)((()=>[(0,n.bF)(p,{model:r.formData,ref:"form","label-width":"80px"},{default:(0,n.k6)((()=>[(0,n.bF)(h,{label:"账户名称"},{default:(0,n.k6)((()=>[(0,n.bF)(d,{modelValue:r.formData.name,"onUpdate:modelValue":t[0]||(t[0]=e=>r.formData.name=e)},null,8,["modelValue"])])),_:1}),(0,n.bF)(h,{label:"备注"},{default:(0,n.k6)((()=>[(0,n.bF)(d,{modelValue:r.formData.state,"onUpdate:modelValue":t[1]||(t[1]=e=>r.formData.state=e)},null,8,["modelValue"])])),_:1})])),_:1},8,["model"]),(0,n.Lk)("div",null,[(0,n.bF)(u,{onClick:t[2]||(t[2]=e=>r.dialogVisible=!1)},{default:(0,n.k6)((()=>t[7]||(t[7]=[(0,n.eW)("取 消")]))),_:1}),(0,n.bF)(u,{type:"primary",onClick:s.save},{default:(0,n.k6)((()=>t[8]||(t[8]=[(0,n.eW)("确 定")]))),_:1},8,["onClick"])])])),_:1},8,["modelValue","visible","onClose"])],64)}i(44114);var r=i(51219),s={data(){return{tableData:[{id:1,name:"老贾",state:"哈肥",city:"Los Angeles",address:"No. 189, Grove St, Los Angeles",zip:"CA 90036",tag:"Home"},{id:2,name:"小邵",state:"上海",city:"Los Angeles",address:"No. 189, Grove St, Los Angeles",zip:"CA 90036",tag:"Office"},{id:3,name:"小孙",state:"安徽",city:"Los Angeles",address:"No. 189, Grove St, Los Angeles",zip:"CA 90036",tag:"Home"},{id:4,name:"小王",state:"山东",city:"Los Angeles",address:"No. 189, Grove St, Los Angeles",zip:"CA 90036",tag:"Office"}],dialogVisible:!1,formData:{}}},methods:{handleDelete(e){const t=this.tableData.indexOf(e);this.tableData.splice(t,1),(0,r.nk)({message:"删除成功",type:"success"})},handleEdit(e){this.dialogVisible=!0,this.formData={...e}},save(){if(this.formData.id){const e=this.tableData.findIndex((e=>e.id===this.formData.id));this.tableData.splice(e,1,this.formData)}else{const e=this.tableData.length+1;this.tableData.push({...this.formData,id:e})}this.resetForm(),this.dialogVisible=!1,(0,r.nk)({message:"成功",type:"success"})},resetForm(){this.formData={},this.$refs.form.resetFields()},handleAdd(){this.dialogVisible=!0}}},l=i(71241);const u=(0,l.A)(s,[["render",a]]);var c=u},86852:function(e,t,i){"use strict";e.exports=i.p+"img/pbmc_cellchat_heatmap_count_1754051862100_pdf_page_1.28c50ea1.png"},87067:function(e,t,i){"use strict";e.exports=i.p+"img/HCC_10_filter_v3_marker_genes_1748399389947_page_1.4e90b434.svg"},87073:function(e,t,i){"use strict";e.exports=i.p+"img/1750032382_matrix_01_page_9.c753fded.svg"},87338:function(e,t,i){"use strict";e.exports=i.p+"img/1750032382_matrix_01_page_2.2f52979d.svg"},87472:function(e,t,i){"use strict";e.exports=i.p+"img/forest_list_1751245357782_BEX1_pdf_page_1.1d1e476f.png"},88624:function(e,t,i){"use strict";e.exports=i.p+"img/1750032382_matrix_01_page_8.39baf613.svg"},88943:function(e,t,i){"use strict";e.exports=i.p+"img/infercnv_1754052044517.c0479204.png"},88965:function(e,t,i){"use strict";e.exports=i.p+"img/HCC_10_filter_v3_TCGA_5_TCGA_mRNA_meth_1747041454684_page_1.45f3175f.png"},89307:function(e,t,i){"use strict";e.exports=i.p+"img/HCC_10_filter_v3_cellchat_heatmap_count_1746610509637_page_1.8cc4b521.svg"},91064:function(e,t,i){"use strict";e.exports=i.p+"img/1750032382_matrix_01_page_13.78c10d00.svg"},92770:function(e,t,i){"use strict";e.exports=i.p+"img/HCC_10_filter_v3_marker_genes_1749641893639_page_1.ab066007.svg"},93903:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return T}});var n=i(56768),o=i(24232),a=i(45130);const r={class:"projects-header"},s={class:"button-group"},l={class:"projects-grid"},u={class:"project-header"},c={class:"project-info"},d={class:"project-name"},h={class:"project-time"},p={class:"project-content"},g={class:"project-desc"},f={class:"project-actions"},m={class:"block"},y={class:"container"},v={class:"panel"},_={class:"grid-content"},x={slot:"footer",class:"dialog-footer"},b={ref:"treeChart",style:{width:"100%",height:"600px","background-color":"#ffffff","border-radius":"4px"}};function w(e,t,i,w,C,S){const A=(0,n.g2)("el-button"),k=(0,n.g2)("QuestionFilled"),M=(0,n.g2)("el-icon"),I=(0,n.g2)("el-tooltip"),T=(0,n.g2)("el-tag"),D=(0,n.g2)("View"),L=(0,n.g2)("Delete"),P=(0,n.g2)("el-card"),F=(0,n.g2)("el-input"),N=(0,n.g2)("el-form-item"),R=(0,n.g2)("el-option"),V=(0,n.g2)("el-select"),E=(0,n.g2)("el-form"),O=(0,n.g2)("upload-filled"),z=(0,n.g2)("el-upload"),G=(0,n.g2)("el-col"),B=(0,n.g2)("el-row"),W=(0,n.g2)("el-image"),H=(0,n.g2)("el-dialog"),X=(0,n.g2)("el-table-column"),$=(0,n.g2)("el-table"),j=(0,n.gN)("loading");return(0,n.uX)(),(0,n.Wv)(P,{class:"rounded-card"},{default:(0,n.k6)((()=>[(0,n.Lk)("div",r,[t[10]||(t[10]=(0,n.Lk)("h2",null,"我的项目",-1)),(0,n.Lk)("div",s,[(0,n.bF)(A,{plain:"",onClick:t[0]||(t[0]=e=>C.dialogFormVisible=!0)},{default:(0,n.k6)((()=>t[9]||(t[9]=[(0,n.eW)("新建项目")]))),_:1}),(0,n.bF)(I,{class:"box-item",effect:"dark",content:"介绍手册",placement:"top"},{default:(0,n.k6)((()=>[(0,n.bF)(A,{type:"",text:"",size:"small",class:"help-button",onClick:t[1]||(t[1]=e=>S.jumpToTutorial("data-upload"))},{default:(0,n.k6)((()=>[(0,n.bF)(M,null,{default:(0,n.k6)((()=>[(0,n.bF)(k)])),_:1})])),_:1})])),_:1})])]),(0,n.Lk)("div",l,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(C.items,(e=>((0,n.uX)(),(0,n.Wv)(P,{key:e.id,class:"project-card",shadow:"hover",onClick:t=>S.handleCardClick(e)},{header:(0,n.k6)((()=>[(0,n.Lk)("div",u,[(0,n.Lk)("div",c,[(0,n.Lk)("span",d,(0,o.v_)(e.name),1),(0,n.Lk)("span",h,(0,o.v_)(e.created_time),1)]),(0,n.bF)(T,{size:"small",type:S.getSpeciesTagType(e.species)},{default:(0,n.k6)((()=>[(0,n.eW)((0,o.v_)(e.species),1)])),_:2},1032,["type"])])])),default:(0,n.k6)((()=>[(0,n.Lk)("div",p,[(0,n.Lk)("p",g,(0,o.v_)(e.notes||"暂无描述"),1),(0,n.Lk)("div",f,[(0,n.bF)(I,{class:"box-item",effect:"dark",content:"查看",placement:"top"},{default:(0,n.k6)((()=>[(0,n.bF)(A,{type:"primary",text:"",class:"action-button",onClick:(0,a.D$)((t=>S.viewProject(e)),["stop"])},{default:(0,n.k6)((()=>[(0,n.bF)(M,null,{default:(0,n.k6)((()=>[(0,n.bF)(D)])),_:1})])),_:2},1032,["onClick"])])),_:2},1024),(0,n.bF)(I,{class:"box-item",effect:"dark",content:"删除",placement:"top"},{default:(0,n.k6)((()=>[(0,n.bF)(A,{type:"danger",text:"",class:"action-button",onClick:(0,a.D$)((t=>S.deleteProject(e)),["stop"])},{default:(0,n.k6)((()=>[(0,n.bF)(M,null,{default:(0,n.k6)((()=>[(0,n.bF)(L)])),_:1})])),_:2},1032,["onClick"])])),_:2},1024)])])])),_:2},1032,["onClick"])))),128))]),(0,n.bF)(H,{modelValue:C.dialogFormVisible,"onUpdate:modelValue":t[7]||(t[7]=e=>C.dialogFormVisible=e),title:"上传数据",width:"80%",height:"100%"},{default:(0,n.k6)((()=>[(0,n.bF)(B,{gutter:30},{default:(0,n.k6)((()=>[(0,n.bF)(G,{span:12},{default:(0,n.k6)((()=>[(0,n.bF)(E,{ref:"form",model:C.form,"label-width":"100px"},{default:(0,n.k6)((()=>[(0,n.bF)(N,{label:"项目名称："},{default:(0,n.k6)((()=>[(0,n.bF)(F,{modelValue:C.form.name,"onUpdate:modelValue":t[2]||(t[2]=e=>C.form.name=e)},null,8,["modelValue"])])),_:1}),(0,n.bF)(N,{label:"物种信息："},{default:(0,n.k6)((()=>[(0,n.bF)(V,{modelValue:C.form.species,"onUpdate:modelValue":t[3]||(t[3]=e=>C.form.species=e),placeholder:"请选择物种信息"},{default:(0,n.k6)((()=>[(0,n.bF)(R,{label:"human",value:"human"}),(0,n.bF)(R,{label:"mouse",value:"mouse"}),(0,n.bF)(R,{label:"其他",value:"other_species"})])),_:1},8,["modelValue"])])),_:1}),(0,n.bF)(N,{label:"项目备注："},{default:(0,n.k6)((()=>[(0,n.bF)(F,{type:"textarea",modelValue:C.form.desc,"onUpdate:modelValue":t[4]||(t[4]=e=>C.form.desc=e)},null,8,["modelValue"])])),_:1})])),_:1},8,["model"]),(0,n.Lk)("div",m,[t[14]||(t[14]=(0,n.Lk)("div",{class:"insert"},null,-1)),(0,n.Lk)("div",y,[(0,n.Lk)("div",v,[t[13]||(t[13]=(0,n.Lk)("div",{class:"table_head"},"请在这里上传测序数据",-1)),(0,n.bF)(z,{class:"upload-demo",drag:"",action:"/api/upload",name:"img",id:"123",multiple:"",accept:".zip","on-success":S.handleSuccess,"on-error":S.handleError,style:{"flex-direction":"column",display:"flex","justify-content":"center"}},{tip:(0,n.k6)((()=>t[11]||(t[11]=[(0,n.Lk)("div",{class:"el-upload__tip",style:{"text-align":"center"}}," 注意：打包前请保证文件格式正确 ",-1)]))),default:(0,n.k6)((()=>[(0,n.bF)(M,{class:"el-icon--upload"},{default:(0,n.k6)((()=>[(0,n.bF)(O)])),_:1}),t[12]||(t[12]=(0,n.Lk)("div",{class:"el-upload__text"},[(0,n.eW)(" Drop file here or "),(0,n.Lk)("em",null,"click to upload")],-1))])),_:1},8,["on-success","on-error"])])]),t[15]||(t[15]=(0,n.Lk)("div",{class:"insert"},null,-1))])])),_:1}),(0,n.bF)(G,{span:12},{default:(0,n.k6)((()=>[(0,n.bF)(B,null,{default:(0,n.k6)((()=>t[16]||(t[16]=[(0,n.eW)(" 上传文件的格式要求： ")]))),_:1}),(0,n.bF)(B,null,{default:(0,n.k6)((()=>[(0,n.Lk)("div",_,[(0,n.bF)(W,{src:C.upload_example},null,8,["src"])])])),_:1})])),_:1})])),_:1}),(0,n.Lk)("div",x,[(0,n.bF)(A,{onClick:t[5]||(t[5]=e=>C.dialogFormVisible=!1)},{default:(0,n.k6)((()=>t[17]||(t[17]=[(0,n.eW)("取 消")]))),_:1}),(0,n.bF)(A,{type:"primary",onClick:t[6]||(t[6]=e=>S.submitForm("form"))},{default:(0,n.k6)((()=>t[18]||(t[18]=[(0,n.eW)("确 定")]))),_:1})])])),_:1},8,["modelValue"]),(0,n.bF)(H,{modelValue:C.taskDialogVisible,"onUpdate:modelValue":t[8]||(t[8]=e=>C.taskDialogVisible=e),title:"任务信息",width:"80%",modal:!0,"close-on-click-modal":!1,style:{"max-width":"1200px"}},{default:(0,n.k6)((()=>[(0,n.bo)((0,n.Lk)("div",b,null,512),[[j,C.taskLoading]]),(0,n.bo)(((0,n.uX)(),(0,n.Wv)($,{data:C.taskList,style:{width:"100%","margin-top":"20px"}},{default:(0,n.k6)((()=>[(0,n.bF)(X,{prop:"type",label:"任务类型",width:"130"}),(0,n.bF)(X,{prop:"parameter",label:"参数"}),(0,n.bF)(X,{prop:"status",label:"运行状态",width:"120"},{default:(0,n.k6)((e=>["运行中"===e.row.status?((0,n.uX)(),(0,n.Wv)(T,{key:0,type:"warning",effect:"plain"},{default:(0,n.k6)((()=>t[19]||(t[19]=[(0,n.eW)(" 进行中 "),(0,n.Lk)("i",{class:"el-icon-loading",style:{"margin-left":"4px"}},null,-1)]))),_:1})):((0,n.uX)(),(0,n.Wv)(T,{key:1,type:"success",effect:"plain"},{default:(0,n.k6)((()=>t[20]||(t[20]=[(0,n.eW)(" 已完成 ")]))),_:1}))])),_:1}),(0,n.bF)(X,{prop:"time",label:"提交时间",width:"180"}),(0,n.bF)(X,{label:"操作",width:"140"},{default:(0,n.k6)((e=>[(0,n.bF)(A,{type:"primary",size:"small",disabled:"运行中"===e.row.status,style:{"margin-right":"1px"},onClick:t=>S.handleTaskView(e.row)},{default:(0,n.k6)((()=>t[21]||(t[21]=[(0,n.eW)("查看")]))),_:2},1032,["disabled","onClick"]),(0,n.bF)(A,{type:"danger",size:"small",disabled:"运行中"===e.row.status,onClick:t=>S.handleTaskDelete(e.row)},{default:(0,n.k6)((()=>t[22]||(t[22]=[(0,n.eW)("删除")]))),_:2},1032,["disabled","onClick"])])),_:1})])),_:1},8,["data"])),[[j,C.taskLoading]])])),_:1},8,["modelValue"])])),_:1})}i(44114);var C=i(54333),S=i(37913),A=i(57477),k={components:{UploadFilled:A.UploadFilled,View:A.View,Delete:A.Delete},data(){return{dialogFormVisible:!1,upload_example:i(43399),form:{name:"",species:"",desc:"",save_path:"",figure_path:""},items:[],taskDialogVisible:!1,taskList:[],taskLoading:!1,treeData:null}},created(){this.showItems()},methods:{handleSuccess(e,t){this.num=e.task_id,this.form.save_path=e.save_path,this.form.figure_path=e.figure_path,this.$message({showClose:!0,message:"数据上传成功",type:"success"})},handleError(e,t){this.$message({showClose:!0,message:"数据格式错误，请上传标准格式",type:"error"})},submitForm(e){const t=localStorage.getItem("user_id");if(!t)return this.$message({showClose:!0,message:"登录已过期，请重新登录",type:"error"}),void this.$router.push("/login");const i=new FormData;i.append("user_id",t),i.append("name",this.form.name),i.append("species",this.form.species),i.append("desc",this.form.desc),i.append("save_path",this.form.save_path),i.append("figure_path",this.form.figure_path),this.$refs[e].validate((e=>{if(!e)return console.log("error submit!!"),!1;this.$message("正在创建中，请稍等……"),this.dialogFormVisible=!1,(0,S.bE)("create_item",i).then((e=>{this.$message({showClose:!0,message:"项目已创建",type:"success"}),console.log(e.data),localStorage.setItem("item_id",e.data.item_id),this.$router.push("/sdcs")})).catch((e=>{this.$message({showClose:!0,message:"创建失败："+e.message,type:"error"})}))}))},jumpToTutorial(e){window.open(`/tutorial.html#${e}`,"_blank")},async showItems(){try{const e=await(0,S.Jt)("get_user_items");"success"===e.data.status?this.items=e.data.items:this.$message.error(e.data.message||"获取项目列表失败")}catch(e){this.$message.error("获取项目列表失败："+e.message)}},getSpeciesTagType(e){const t={human:"success",mouse:"warning",other_species:"info"};return t[e]||"info"},async viewProject(e){localStorage.setItem("item_id",e.id),this.projectName=e.name,this.taskDialogVisible=!0,this.taskLoading=!0;try{const e=await(0,S.Jt)("get_item_tasks");"success"===e.data.status?(this.treeData=e.data.tree,this.taskList=e.data.tasks,this.$nextTick((()=>{this.renderTaskTree()}))):this.$message.error(e.data.message||"获取任务失败")}catch(t){this.$message.error("获取任务失败："+t.message)}this.taskLoading=!1},renderTaskTree(){if(!this.treeData)return;const e=[this.treeData],t=this.$refs.treeChart;if(!t)return;const i=C.Ts(t),n={backgroundColor:"#f8fafc",tooltip:{trigger:"item",triggerOn:"mousemove",backgroundColor:"#fff",borderColor:"#409EFF",borderWidth:1,textStyle:{color:"#333",fontSize:14},padding:10,extraCssText:"box-shadow: 0 2px 8px rgba(64,158,255,0.15);"},series:[{type:"tree",data:e,top:"5%",left:"10%",bottom:"5%",right:"25%",symbol:"circle",symbolSize:18,edgeShape:"polyline",edgeForkPosition:"63%",roam:!0,initialTreeDepth:3,nodePadding:10,lineStyle:{color:"#409EFF",width:2,curveness:.25,shadowColor:"rgba(64,158,255,0.2)",shadowBlur:6},itemStyle:{color:"#fff",borderColor:"#409EFF",borderWidth:2,shadowColor:"rgba(64,158,255,0.15)",shadowBlur:8},label:{backgroundColor:"#fff",borderColor:"#409EFF",borderWidth:1,borderRadius:6,padding:[6,12],color:"#333",fontWeight:"bold",fontSize:15,position:"left",verticalAlign:"middle",align:"right",shadowColor:"rgba(64,158,255,0.08)",shadowBlur:2},leaves:{label:{backgroundColor:"#e6f7ff",borderColor:"#91d5ff",borderWidth:1,borderRadius:6,padding:[2,10],color:"#409EFF",fontWeight:"normal",fontSize:12,position:"right",verticalAlign:"middle",align:"left",minMargin:22,height:22,lineHeight:22}},expandAndCollapse:!0,animationDuration:600,animationDurationUpdate:800}]};i.setOption(n),window.addEventListener("resize",(()=>{i.resize()}))},deleteProject(e){this.$confirm("确认删除该项目吗？此操作不可恢复","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((async()=>{localStorage.setItem("item_id",e.id);try{const e=await(0,S.bE)("delete_item");"success"===e.data.status?(this.$message({type:"success",message:"删除成功!"}),this.showItems()):this.$message.error(e.data.message||"删除失败")}catch(t){this.$message.error("删除失败："+t.message)}})).catch((()=>{this.$message({type:"info",message:"已取消删除"})}))},handleTaskDelete(e){this.$confirm("确认删除该任务记录吗？此操作不可恢复","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((async()=>{try{const t=await(0,S.bE)("delete_task",{task_id:e.task_id});if("success"===t.data.status){this.$message({type:"success",message:"删除成功!"});const e=await(0,S.Jt)("get_item_tasks");"success"===e.data.status&&(this.taskList=e.data.tasks,this.treeData=e.data.tree,this.$nextTick((()=>{this.renderTaskTree()})))}else this.$message.error(t.data.message||"删除失败")}catch(t){this.$message.error("删除失败："+t.message)}})).catch((()=>{this.$message({type:"info",message:"已取消删除"})}))},handleCardClick(e){localStorage.setItem("item_id",e.id),this.$router.push("/jsjg")},handleTaskView(e){e.type?this.$router.push({path:"/jsjg",query:{type:e.type,taskId:e.task_id}}):this.$message.warning("未知的任务类型")}}},M=i(71241);const I=(0,M.A)(k,[["render",w],["__scopeId","data-v-508296e6"]]);var T=I},93957:function(e,t,i){"use strict";e.exports=i.p+"img/HCC_10_filter_v3_marker_genes_1747743458623_page_1.4340742e.svg"},96359:function(e,t,i){"use strict";e.exports=i.p+"img/1750032382_matrix_TCGA_08_heatmap_1751245357782_page_1.722aaa5d.png"},96363:function(e,t,i){"use strict";e.exports=i.p+"img/1750032382_matrix_TCGA_4_TCGA_mRNA_survival_1751252107492_page_1.a63d6ad9.png"},97684:function(e,t,i){"use strict";e.exports=i.p+"img/1750032382_matrix_01_page_4.0348faca.svg"},98729:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return ke}});i(18111),i(61701);var n=i(56768),o=i(24232);const a={class:"block"},r={class:"container"},s={class:"panel"},l={class:"grid-content"},u={slot:"footer",class:"dialog-footer"},c={ref:"chart",style:{width:"500px",height:"500px"}},d={class:"demo-image__lazy"},h={class:"image-slot"},p={class:"znjy-container"},g={class:"controls"},f={class:"chart-container"},m={ref:"chart_scale_diagram",id:"chart_scale_diagram",style:{width:"400px",height:"400px"}},y={style:{position:"relative",width:"1150px"}},v={ref:"xAxisChart",style:{position:"relative",width:"1000px",height:"80px","margin-left":"150px"}},_={style:{position:"relative",height:"1000px",width:"1150px"}},x={ref:"chart_dotplot",style:{position:"absolute",top:"0",left:"0",width:"1150px",height:"1000px"}},b={ref:"chart_bar",style:{width:"350px",height:"300px"}},w={key:0,class:"image-container"},C={class:"image-slot"},S={class:"demo-image__lazy"},A={class:"image-slot"},k={ref:"chart_feature",style:{width:"100%",height:"300px"}},M={style:{"margin-bottom":"10px"}},I={ref:"chart_circle",style:{width:"500px",height:"500px"}},T={class:"demo-image__lazy"},D={class:"image-slot"},L={class:"transfer-container"},P={key:0,class:"secondary-selection"},F={class:"result-display"},N={class:"demo-image__lazy"},R={class:"image-slot"},V={class:"transfer-container"},E={class:"result-display"},O={class:"demo-image__placeholder"},z={class:"block"},G={class:"image-slot"},B={class:"block"},W={class:"image-slot"},H={class:"demo-image__lazy",style:{display:"flex","align-items":"center","flex-direction":"column"}},X={class:"image-slot"},$={class:"photo-gallery"},j={class:"gallery-row"},U={class:"photo-item"},Y={class:"image-slot"},Z={key:1,class:"empty-placeholder"},q={class:"photo-item"},K={class:"image-slot"},Q={key:1,class:"empty-placeholder"},J={class:"gallery-row"},ee={class:"photo-item"},te={class:"image-slot"},ie={key:1,class:"empty-placeholder"},ne={class:"photo-item"},oe={class:"image-slot"},ae={key:1,class:"empty-placeholder"},re={slot:"footer",class:"dialog-footer"},se={class:"photo-gallery"},le={class:"gallery-row"},ue={class:"photo-item"},ce={class:"image-slot"},de={key:1,class:"empty-placeholder"},he={class:"photo-item"},pe={class:"image-slot"},ge={key:1,class:"empty-placeholder"};function fe(e,t,fe,me,ye,ve){const _e=(0,n.g2)("QuestionFilled"),xe=(0,n.g2)("el-icon"),be=(0,n.g2)("el-button"),we=(0,n.g2)("el-tooltip"),Ce=(0,n.g2)("el-tree-select"),Se=(0,n.g2)("el-input"),Ae=(0,n.g2)("el-form-item"),ke=(0,n.g2)("el-form"),Me=(0,n.g2)("upload-filled"),Ie=(0,n.g2)("el-upload"),Te=(0,n.g2)("el-col"),De=(0,n.g2)("el-image"),Le=(0,n.g2)("el-row"),Pe=(0,n.g2)("el-dialog"),Fe=(0,n.g2)("el-table-column"),Ne=(0,n.g2)("el-table"),Re=(0,n.g2)("ZoomOut"),Ve=(0,n.g2)("ZoomIn"),Ee=(0,n.g2)("RefreshRight"),Oe=(0,n.g2)("RefreshLeft"),ze=(0,n.g2)("Refresh"),Ge=(0,n.g2)("Download"),Be=(0,n.g2)("icon-picture"),We=(0,n.g2)("el-scrollbar"),He=(0,n.g2)("el-option"),Xe=(0,n.g2)("el-select"),$e=(0,n.g2)("el-select-v2"),je=(0,n.g2)("n-split"),Ue=(0,n.g2)("el-tab-pane"),Ye=(0,n.g2)("el-checkbox"),Ze=(0,n.g2)("el-checkbox-group"),qe=(0,n.g2)("el-drawer"),Ke=(0,n.g2)("el-radio-button"),Qe=(0,n.g2)("el-radio-group"),Je=(0,n.g2)("el-empty"),et=(0,n.g2)("el-transfer"),tt=(0,n.g2)("InfoFilled"),it=(0,n.g2)("el-tabs"),nt=(0,n.gN)("loading");return(0,n.uX)(),(0,n.Wv)(it,{modelValue:ye.activeName,"onUpdate:modelValue":t[47]||(t[47]=e=>ye.activeName=e),onTabClick:ve.handleClickTab},{default:(0,n.k6)((()=>[(0,n.bF)(Ue,{label:"单细胞测序结果",name:"first"},{default:(0,n.k6)((()=>[(0,n.bF)(je,{direction:"horizontal",style:{height:"100%"},"default-size":"500px"},{1:(0,n.k6)((()=>[t[59]||(t[59]=(0,n.eW)(" Dimplot")),(0,n.bF)(we,{class:"box-item",effect:"dark",content:"介绍手册",placement:"top"},{default:(0,n.k6)((()=>[(0,n.bF)(be,{type:"",text:"",size:"small",onClick:t[0]||(t[0]=e=>ve.jumpToTutorial("annotation-view"))},{default:(0,n.k6)((()=>[(0,n.bF)(xe,null,{default:(0,n.k6)((()=>[(0,n.bF)(_e)])),_:1})])),_:1})])),_:1}),(0,n.Lk)("div",null,[(0,n.bF)(be,{type:"primary",loading:ye.cluster_figure.if_load,onClick:ve.getUmapData},{default:(0,n.k6)((()=>t[48]||(t[48]=[(0,n.eW)("点击查看umap图")]))),_:1},8,["loading","onClick"]),(0,n.bF)(Ce,{modelValue:ye.annotation.value,"onUpdate:modelValue":t[1]||(t[1]=e=>ye.annotation.value=e),data:ye.annotation.models,"render-after-expand":!1,placeholder:ye.annotation.placeholder,onFocus:ve.fetchAnnotationModels,onChange:ve.handleSelectChange_annotation,style:{width:"220px"}},null,8,["modelValue","data","placeholder","onFocus","onChange"]),(0,n.bF)(Pe,{modelValue:ye.annotation.dialogVisible,"onUpdate:modelValue":t[4]||(t[4]=e=>ye.annotation.dialogVisible=e),title:"上传数据",width:"60%",height:"100%"},{default:(0,n.k6)((()=>[(0,n.bF)(Le,{gutter:30},{default:(0,n.k6)((()=>[(0,n.bF)(Te,{span:12},{default:(0,n.k6)((()=>[(0,n.bF)(ke,{model:ye.annotation,ref:"annotation"},{default:(0,n.k6)((()=>[(0,n.bF)(Ae,{label:"模型名称",prop:"modelName",rules:[{required:!0,message:"模型名称不能为空"},{pattern:/^[a-zA-Z0-9_]+$/,message:"模型名称只能包含字母、数字和下划线"}]},{default:(0,n.k6)((()=>[(0,n.bF)(Se,{modelValue:ye.annotation.modelName,"onUpdate:modelValue":t[2]||(t[2]=e=>ye.annotation.modelName=e),autocomplete:"off"},null,8,["modelValue"])])),_:1})])),_:1},8,["model"]),(0,n.Lk)("div",a,[t[52]||(t[52]=(0,n.Lk)("div",{class:"insert"},null,-1)),(0,n.Lk)("div",r,[(0,n.Lk)("div",s,[t[51]||(t[51]=(0,n.Lk)("div",{class:"table_head"},"请在这里上传参考数据集",-1)),(0,n.bF)(Ie,{headers:ve.uploadHeaders,class:"upload-demo",drag:"",name:"zip",action:"/api/upload_reference",accept:".zip","on-success":ve.handleReferenceDataSuccess,"on-error":()=>e.$message.error("上传"),style:{"flex-direction":"column",display:"flex","justify-content":"center"}},{tip:(0,n.k6)((()=>t[49]||(t[49]=[(0,n.Lk)("div",{class:"el-upload__tip",style:{"text-align":"center"}}," 注意：上传前请保证文件格式正确 ",-1)]))),default:(0,n.k6)((()=>[(0,n.bF)(xe,{class:"el-icon--upload"},{default:(0,n.k6)((()=>[(0,n.bF)(Me)])),_:1}),t[50]||(t[50]=(0,n.Lk)("div",{class:"el-upload__text"},[(0,n.eW)(" Drop file here or "),(0,n.Lk)("em",null,"click to upload")],-1))])),_:1},8,["headers","on-success","on-error"])])]),t[53]||(t[53]=(0,n.Lk)("div",{class:"insert"},null,-1))])])),_:1}),(0,n.bF)(Te,{span:12},{default:(0,n.k6)((()=>[t[54]||(t[54]=(0,n.Lk)("p",null,[(0,n.eW)("上传文件的格式要求："),(0,n.Lk)("br"),(0,n.eW)("请将您的注释放入Annotation列中")],-1)),(0,n.bF)(Le,null,{default:(0,n.k6)((()=>[(0,n.Lk)("div",l,[(0,n.bF)(De,{src:ye.reference_example,fit:"contain",style:{"max-width":"100%","max-height":"200px",display:"block",margin:"0 auto"}},null,8,["src"])])])),_:1})])),_:1})])),_:1}),(0,n.Lk)("div",u,[(0,n.bF)(be,{onClick:t[3]||(t[3]=e=>ye.annotation.dialogVisible=!1)},{default:(0,n.k6)((()=>t[55]||(t[55]=[(0,n.eW)("取 消")]))),_:1}),(0,n.bF)(be,{type:"primary",onClick:ve.submitReferenceData},{default:(0,n.k6)((()=>t[56]||(t[56]=[(0,n.eW)("确 定")]))),_:1},8,["onClick"])])])),_:1},8,["modelValue"]),(0,n.Lk)("div",c,null,512)]),(0,n.bF)(be,{type:"primary",loading:ye.marker.if_load,onClick:ve.CalculateMarkerGene},{default:(0,n.k6)((()=>t[57]||(t[57]=[(0,n.eW)("计算Marker基因")]))),_:1},8,["loading","onClick"]),(0,n.bF)(be,{type:"primary",loading:ye.marker.if_load,onClick:ve.LargeModelAnnotation},{default:(0,n.k6)((()=>t[58]||(t[58]=[(0,n.eW)("大模型辅助注释")]))),_:1},8,["loading","onClick"]),(0,n.bF)(Pe,{modelValue:ye.annotation.LargeModelDialogVisible,"onUpdate:modelValue":t[5]||(t[5]=e=>ye.annotation.LargeModelDialogVisible=e),title:"大模型辅助预测结果",width:"80%",modal:!0,"close-on-click-modal":!1,style:{"max-width":"1200px"}},{default:(0,n.k6)((()=>[(0,n.bF)(Ne,{data:ye.annotation.tableData,style:{width:"100%","margin-top":"20px"}},{default:(0,n.k6)((()=>[(0,n.bF)(Fe,{prop:"origin",label:"原注释结果",width:"200"}),(0,n.bF)(Fe,{prop:"large",label:"大模型注释结果",width:"200"}),(0,n.bF)(Fe,{prop:"reason",label:"推断依据"})])),_:1},8,["data"])])),_:1},8,["modelValue"])])),2:(0,n.k6)((()=>[(0,n.bF)(je,{direction:"horizontal",style:{height:"100%"}},{1:(0,n.k6)((()=>[t[60]||(t[60]=(0,n.eW)(" QC小提琴图")),(0,n.bF)(we,{class:"box-item",effect:"dark",content:"介绍手册",placement:"top"},{default:(0,n.k6)((()=>[(0,n.bF)(be,{type:"",text:"",size:"small",onClick:t[6]||(t[6]=e=>ve.jumpToTutorial("quality-control"))},{default:(0,n.k6)((()=>[(0,n.bF)(xe,null,{default:(0,n.k6)((()=>[(0,n.bF)(_e)])),_:1})])),_:1})])),_:1}),(0,n.Lk)("div",d,[(0,n.bF)(We,{ref:"el_scrollbar",style:{height:"600px","overflow-y":"auto"}},{default:(0,n.k6)((()=>[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(ye.imgPaths,(t=>((0,n.uX)(),(0,n.Wv)(De,{key:t,src:i(7782)("./"+t),style:{height:"350px",margin:"10px"},fit:"contain",lazy:"","scroll-container":e.scrollContainer,"preview-src-list":[i(7782)("./"+t)]},{toolbar:(0,n.k6)((({actions:e,reset:o})=>[(0,n.bF)(xe,{onClick:t=>e("zoomOut")},{default:(0,n.k6)((()=>[(0,n.bF)(Re)])),_:2},1032,["onClick"]),(0,n.bF)(xe,{onClick:t=>e("zoomIn",{enableTransition:!1,zoomRate:2})},{default:(0,n.k6)((()=>[(0,n.bF)(Ve)])),_:2},1032,["onClick"]),(0,n.bF)(xe,{onClick:t=>e("clockwise",{rotateDeg:180,enableTransition:!1})},{default:(0,n.k6)((()=>[(0,n.bF)(Ee)])),_:2},1032,["onClick"]),(0,n.bF)(xe,{onClick:t=>e("anticlockwise")},{default:(0,n.k6)((()=>[(0,n.bF)(Oe)])),_:2},1032,["onClick"]),(0,n.bF)(xe,{onClick:o},{default:(0,n.k6)((()=>[(0,n.bF)(ze)])),_:2},1032,["onClick"]),(0,n.bF)(xe,{onClick:e=>ve.downloadImage(i(7782)("./"+t))},{default:(0,n.k6)((()=>[(0,n.bF)(Ge)])),_:2},1032,["onClick"])])),error:(0,n.k6)((()=>[(0,n.Lk)("div",h,[(0,n.bF)(xe,null,{default:(0,n.k6)((()=>[(0,n.bF)(Be)])),_:1})])])),_:2},1032,["src","scroll-container","preview-src-list"])))),128))])),_:1},512)])])),2:(0,n.k6)((()=>[t[61]||(t[61]=(0,n.eW)(" 基于自动注释的细胞比例图")),(0,n.bF)(we,{class:"box-item",effect:"dark",content:"介绍手册",placement:"top"},{default:(0,n.k6)((()=>[(0,n.bF)(be,{type:"",text:"",size:"small",onClick:t[7]||(t[7]=e=>ve.jumpToTutorial("proportion-view"))},{default:(0,n.k6)((()=>[(0,n.bF)(xe,null,{default:(0,n.k6)((()=>[(0,n.bF)(_e)])),_:1})])),_:1})])),_:1}),(0,n.bF)(We,{ref:"el_scrollbar",style:{height:"600px","overflow-y":"auto"}},{default:(0,n.k6)((()=>[(0,n.Lk)("div",p,[(0,n.Lk)("div",g,[(0,n.bF)(Xe,{modelValue:ye.scale_diagram.selectedView,"onUpdate:modelValue":t[8]||(t[8]=e=>ye.scale_diagram.selectedView=e),placeholder:"选择视图",onChange:ve.handleViewChange,style:{width:"150px"}},{default:(0,n.k6)((()=>[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(ye.scale_diagram.viewOptions,(e=>((0,n.uX)(),(0,n.Wv)(He,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue","onChange"]),(0,n.bF)($e,{modelValue:ye.scale_diagram.categoryMode,"onUpdate:modelValue":t[9]||(t[9]=e=>ye.scale_diagram.categoryMode=e),filterable:"",options:ye.scale_diagram.models,onChange:ve.applyCategoryMode,placeholder:"Please select",style:{width:"200px"}},null,8,["modelValue","options","onChange"])]),(0,n.Lk)("div",f,[(0,n.Lk)("div",m,null,512)])])])),_:1},512)])),_:1})])),_:1})])),_:1}),(0,n.bF)(Ue,{label:"基因富集分析",name:"second"},{default:(0,n.k6)((()=>[(0,n.bF)(je,{direction:"horizontal",style:{height:"100%"},"default-size":"470px"},{1:(0,n.k6)((()=>[(0,n.bF)(je,{direction:"vertical",style:{height:"100%",width:"100%"}},{1:(0,n.k6)((()=>[t[63]||(t[63]=(0,n.eW)(" Table ")),(0,n.bF)(we,{class:"box-item",effect:"dark",content:"介绍手册",placement:"top"},{default:(0,n.k6)((()=>[(0,n.bF)(be,{type:"",text:"",size:"small",onClick:t[10]||(t[10]=e=>ve.jumpToTutorial("table-analysis"))},{default:(0,n.k6)((()=>[(0,n.bF)(xe,null,{default:(0,n.k6)((()=>[(0,n.bF)(_e)])),_:1})])),_:1})])),_:1}),(0,n.bF)(Ne,{data:ye.marker.tableData,"max-height":"250",lazy:"",fit:"false",stripe:"true",border:"true",resizable:"","show-overflow-tooltip":"true"},{default:(0,n.k6)((()=>[(0,n.bF)(Fe,{fixed:"",prop:"gene",label:"gene",width:"80"}),(0,n.bF)(Fe,{prop:"p_val",label:"p_val",width:"70"}),(0,n.bF)(Fe,{prop:"avg_log2FC",label:"avg_log2FC",width:"80"}),(0,n.bF)(Fe,{prop:"pct.1",label:"pct.1",width:"60"}),(0,n.bF)(Fe,{prop:"pct.2",label:"pct.2",width:"60"}),(0,n.bF)(Fe,{prop:"p_val_adj",label:"p_val_adj",width:"60"}),(0,n.bF)(Fe,{prop:"cluster",label:"cluster",width:"60"})])),_:1},8,["data"]),(0,n.bF)(Le,null,{default:(0,n.k6)((()=>[(0,n.bF)(Xe,{modelValue:ye.marker.num,"onUpdate:modelValue":t[11]||(t[11]=e=>ye.marker.num=e),filterable:"","allow-create":"","default-first-option":"",style:{width:"30%"},onChange:ve.handleSelectChange_marker,placeholder:"请选择每组标记基因的数目"},{default:(0,n.k6)((()=>[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(ye.marker.num_list,(e=>((0,n.uX)(),(0,n.Wv)(He,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue","onChange"]),(0,n.bF)(be,{type:"primary",class:"mt-4",onClick:ve.exportToCSV},{default:(0,n.k6)((()=>t[62]||(t[62]=[(0,n.eW)("Download as CSV")]))),_:1},8,["onClick"])])),_:1})])),2:(0,n.k6)((()=>[t[64]||(t[64]=(0,n.eW)(" DotPlot ")),(0,n.bF)(we,{class:"box-item",effect:"dark",content:"介绍手册",placement:"top"},{default:(0,n.k6)((()=>[(0,n.bF)(be,{type:"",text:"",size:"small",onClick:t[12]||(t[12]=e=>ve.jumpToTutorial("dotplot-analysis"))},{default:(0,n.k6)((()=>[(0,n.bF)(xe,null,{default:(0,n.k6)((()=>[(0,n.bF)(_e)])),_:1})])),_:1})])),_:1}),(0,n.bF)(Xe,{modelValue:ye.marker.dotplot_num,"onUpdate:modelValue":t[13]||(t[13]=e=>ye.marker.dotplot_num=e),filterable:"","allow-create":"","default-first-option":"",style:{width:"30%"},onChange:ve.getDotPlotFigure,placeholder:"请选择每组标记基因的数目"},{default:(0,n.k6)((()=>[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(ye.marker.num_list,(e=>((0,n.uX)(),(0,n.Wv)(He,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue","onChange"]),(0,n.Lk)("div",y,[(0,n.Lk)("div",v,null,512),(0,n.bF)(We,{ref:"el_scrollbar",style:{height:"500px","margin-top":"5px"}},{default:(0,n.k6)((()=>[(0,n.Lk)("div",_,[(0,n.Lk)("div",x,null,512)])])),_:1},512)])])),_:1})])),2:(0,n.k6)((()=>[(0,n.bF)(je,{direction:"horizontal",style:{height:"100%",width:"100%"}},{1:(0,n.k6)((()=>[t[65]||(t[65]=(0,n.eW)(" Go富集 ")),(0,n.bF)(we,{class:"box-item",effect:"dark",content:"介绍手册",placement:"top"},{default:(0,n.k6)((()=>[(0,n.bF)(be,{type:"",text:"",size:"small",onClick:t[14]||(t[14]=e=>ve.jumpToTutorial("go-enrichment"))},{default:(0,n.k6)((()=>[(0,n.bF)(xe,null,{default:(0,n.k6)((()=>[(0,n.bF)(_e)])),_:1})])),_:1})])),_:1}),(0,n.bF)(Xe,{modelValue:ye.go.choose_cluster,"onUpdate:modelValue":t[15]||(t[15]=e=>ye.go.choose_cluster=e),filterable:"",lazy:"",placeholder:"Select",onChange:ve.handleSelectChange_go,style:{width:"350px"}},{default:(0,n.k6)((()=>[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(ye.go.clusters,(e=>((0,n.uX)(),(0,n.Wv)(He,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue","onChange"]),(0,n.Lk)("div",b,null,512)])),2:(0,n.k6)((()=>[(0,n.bF)(je,{direction:"vertical",style:{height:"100%"}},{1:(0,n.k6)((()=>[t[69]||(t[69]=(0,n.eW)(" QC小提琴图 ")),(0,n.bF)(we,{class:"box-item",effect:"dark",content:"介绍手册",placement:"top"},{default:(0,n.k6)((()=>[(0,n.bF)(be,{type:"",text:"",size:"small",onClick:t[16]||(t[16]=e=>ve.jumpToTutorial("qc-violin"))},{default:(0,n.k6)((()=>[(0,n.bF)(xe,null,{default:(0,n.k6)((()=>[(0,n.bF)(_e)])),_:1})])),_:1})])),_:1}),(0,n.bF)(be,{type:"primary",style:{"margin-left":"16px"},onClick:t[17]||(t[17]=e=>ye.SignificanceQC.drawer=!0)},{default:(0,n.k6)((()=>t[66]||(t[66]=[(0,n.eW)(" 查看显著性结果 ")]))),_:1}),(0,n.bF)(qe,{modelValue:ye.SignificanceQC.drawer,"onUpdate:modelValue":t[19]||(t[19]=e=>ye.SignificanceQC.drawer=e),title:"I am the title","with-header":!1},{default:(0,n.k6)((()=>[t[68]||(t[68]=(0,n.Lk)("span",null,"选择两个细胞类型",-1)),(0,n.bF)(Ze,{modelValue:ye.SignificanceQC.checkedCells,"onUpdate:modelValue":t[18]||(t[18]=e=>ye.SignificanceQC.checkedCells=e),min:0,max:2},{default:(0,n.k6)((()=>[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(ye.SignificanceQC.citiescellOptions,(e=>((0,n.uX)(),(0,n.Wv)(Ye,{label:e,key:e},{default:(0,n.k6)((()=>[(0,n.eW)((0,o.v_)(e),1)])),_:2},1032,["label"])))),128))])),_:1},8,["modelValue"]),(0,n.bF)(be,{type:"primary",onClick:ve.submitSelection_Significance,loading:ye.SignificanceQC.loading},{default:(0,n.k6)((()=>t[67]||(t[67]=[(0,n.eW)("提交选择")]))),_:1},8,["onClick","loading"]),ye.SignificanceQC.imagePath?((0,n.uX)(),(0,n.CE)("div",w,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(ye.SignificanceQC.imagePath,(e=>((0,n.uX)(),(0,n.Wv)(De,{key:e,src:i(7782)("./"+e),style:{height:"350px",margin:"10px"},fit:"contain",lazy:"","preview-src-list":[i(7782)("./"+e)]},{toolbar:(0,n.k6)((({actions:t,reset:o})=>[(0,n.bF)(xe,{onClick:e=>t("zoomOut")},{default:(0,n.k6)((()=>[(0,n.bF)(Re)])),_:2},1032,["onClick"]),(0,n.bF)(xe,{onClick:e=>t("zoomIn",{enableTransition:!1,zoomRate:2})},{default:(0,n.k6)((()=>[(0,n.bF)(Ve)])),_:2},1032,["onClick"]),(0,n.bF)(xe,{onClick:e=>t("clockwise",{rotateDeg:180,enableTransition:!1})},{default:(0,n.k6)((()=>[(0,n.bF)(Ee)])),_:2},1032,["onClick"]),(0,n.bF)(xe,{onClick:e=>t("anticlockwise")},{default:(0,n.k6)((()=>[(0,n.bF)(Oe)])),_:2},1032,["onClick"]),(0,n.bF)(xe,{onClick:o},{default:(0,n.k6)((()=>[(0,n.bF)(ze)])),_:2},1032,["onClick"]),(0,n.bF)(xe,{onClick:t=>ve.downloadImage(i(7782)("./"+e))},{default:(0,n.k6)((()=>[(0,n.bF)(Ge)])),_:2},1032,["onClick"])])),error:(0,n.k6)((()=>[(0,n.Lk)("div",C,[(0,n.bF)(xe,null,{default:(0,n.k6)((()=>[(0,n.bF)(Be)])),_:1})])])),_:2},1032,["src","preview-src-list"])))),128))])):(0,n.Q3)("",!0)])),_:1},8,["modelValue"]),(0,n.Lk)("div",S,[(0,n.bF)(We,{ref:"el_scrollbar",style:{height:"300px","overflow-y":"auto"}},{default:(0,n.k6)((()=>[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(ye.marker.imgPaths,(t=>((0,n.uX)(),(0,n.Wv)(De,{key:t,src:i(7782)("./"+t),style:{height:"350px",margin:"10px"},fit:"contain",lazy:"","scroll-container":e.scrollContainer,"preview-src-list":[i(7782)("./"+t)]},{toolbar:(0,n.k6)((({actions:e,reset:o})=>[(0,n.bF)(xe,{onClick:t=>e("zoomOut")},{default:(0,n.k6)((()=>[(0,n.bF)(Re)])),_:2},1032,["onClick"]),(0,n.bF)(xe,{onClick:t=>e("zoomIn",{enableTransition:!1,zoomRate:2})},{default:(0,n.k6)((()=>[(0,n.bF)(Ve)])),_:2},1032,["onClick"]),(0,n.bF)(xe,{onClick:t=>e("clockwise",{rotateDeg:180,enableTransition:!1})},{default:(0,n.k6)((()=>[(0,n.bF)(Ee)])),_:2},1032,["onClick"]),(0,n.bF)(xe,{onClick:t=>e("anticlockwise")},{default:(0,n.k6)((()=>[(0,n.bF)(Oe)])),_:2},1032,["onClick"]),(0,n.bF)(xe,{onClick:o},{default:(0,n.k6)((()=>[(0,n.bF)(ze)])),_:2},1032,["onClick"]),(0,n.bF)(xe,{onClick:e=>ve.downloadImage(i(7782)("./"+t))},{default:(0,n.k6)((()=>[(0,n.bF)(Ge)])),_:2},1032,["onClick"])])),error:(0,n.k6)((()=>[(0,n.Lk)("div",A,[(0,n.bF)(xe,null,{default:(0,n.k6)((()=>[(0,n.bF)(Be)])),_:1})])])),_:2},1032,["src","scroll-container","preview-src-list"])))),128))])),_:1},512)])])),2:(0,n.k6)((()=>[t[70]||(t[70]=(0,n.eW)(" Feature Plot ")),(0,n.bF)(we,{class:"box-item",effect:"dark",content:"介绍手册",placement:"top"},{default:(0,n.k6)((()=>[(0,n.bF)(be,{type:"",text:"",size:"small",onClick:t[20]||(t[20]=e=>ve.jumpToTutorial("feature-plot"))},{default:(0,n.k6)((()=>[(0,n.bF)(xe,null,{default:(0,n.k6)((()=>[(0,n.bF)(_e)])),_:1})])),_:1})])),_:1}),(0,n.bF)($e,{modelValue:ye.marker.gene,"onUpdate:modelValue":t[21]||(t[21]=e=>ye.marker.gene=e),lazy:"",filterable:"",options:ye.marker.gene_list,onChange:ve.handleSelectChange_feature,placeholder:"Please select",style:{width:"240px"}},null,8,["modelValue","options","onChange"]),(0,n.Lk)("div",k,null,512)])),_:1})])),_:1})])),_:1})])),_:1}),(0,n.bF)(Ue,{label:"细胞通讯分析",name:"third"},{default:(0,n.k6)((()=>[(0,n.bF)(Le,null,{default:(0,n.k6)((()=>[(0,n.bF)(be,{type:"primary",loading:ye.cellchat.loading_analysis,onClick:ve.performCellChatAnalysis,style:{"margin-right":"20px"}},{default:(0,n.k6)((()=>t[71]||(t[71]=[(0,n.eW)(" 进行细胞通讯分析 ")]))),_:1},8,["loading","onClick"]),(0,n.bF)(Qe,{modelValue:ye.cellchat.weightType,"onUpdate:modelValue":t[22]||(t[22]=e=>ye.cellchat.weightType=e)},{default:(0,n.k6)((()=>[(0,n.bF)(Ke,{label:"count"},{default:(0,n.k6)((()=>t[72]||(t[72]=[(0,n.eW)("Count")]))),_:1}),(0,n.bF)(Ke,{label:"weight"},{default:(0,n.k6)((()=>t[73]||(t[73]=[(0,n.eW)("Weight")]))),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,n.bF)(je,{direction:"horizontal",style:{height:"100%"},"default-size":"500px"},{1:(0,n.k6)((()=>[t[74]||(t[74]=(0,n.eW)(" 圆图 ")),(0,n.bF)(we,{class:"box-item",effect:"dark",content:"介绍手册",placement:"top"},{default:(0,n.k6)((()=>[(0,n.bF)(be,{type:"",text:"",size:"small",onClick:t[23]||(t[23]=e=>ve.jumpToTutorial("cell-communication"))},{default:(0,n.k6)((()=>[(0,n.bF)(xe,null,{default:(0,n.k6)((()=>[(0,n.bF)(_e)])),_:1})])),_:1})])),_:1}),(0,n.Lk)("div",M,[(0,n.Lk)("button",{onClick:t[24]||(t[24]=(...e)=>ve.toggleAllLegends&&ve.toggleAllLegends(...e))},(0,o.v_)(ye.cellchat.allSelected?"全不选":"全选"),1)]),(0,n.Lk)("div",I,null,512)])),2:(0,n.k6)((()=>[t[75]||(t[75]=(0,n.eW)(" 热点图 ")),(0,n.bF)(we,{class:"box-item",effect:"dark",content:"介绍手册",placement:"top"},{default:(0,n.k6)((()=>[(0,n.bF)(be,{type:"",text:"",size:"small",onClick:t[25]||(t[25]=e=>ve.jumpToTutorial("cell-communication"))},{default:(0,n.k6)((()=>[(0,n.bF)(xe,null,{default:(0,n.k6)((()=>[(0,n.bF)(_e)])),_:1})])),_:1})])),_:1}),(0,n.Lk)("div",T,[(0,n.bF)(We,{ref:"cellchat_scrollbar",style:{height:"500px","overflow-y":"auto"}},{default:(0,n.k6)((()=>[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(ye.cellchat.heatmapPaths,(e=>((0,n.uX)(),(0,n.Wv)(De,{key:e,src:i(7782)("./"+e),style:{height:"450px",margin:"10px"},fit:"contain",lazy:"","scroll-container":ye.cellchat.scrollContainer,"preview-src-list":[i(7782)("./"+e)]},{toolbar:(0,n.k6)((({actions:t,reset:o})=>[(0,n.bF)(xe,{onClick:e=>t("zoomOut")},{default:(0,n.k6)((()=>[(0,n.bF)(Re)])),_:2},1032,["onClick"]),(0,n.bF)(xe,{onClick:e=>t("zoomIn",{enableTransition:!1,zoomRate:2})},{default:(0,n.k6)((()=>[(0,n.bF)(Ve)])),_:2},1032,["onClick"]),(0,n.bF)(xe,{onClick:e=>t("clockwise",{rotateDeg:180,enableTransition:!1})},{default:(0,n.k6)((()=>[(0,n.bF)(Ee)])),_:2},1032,["onClick"]),(0,n.bF)(xe,{onClick:e=>t("anticlockwise")},{default:(0,n.k6)((()=>[(0,n.bF)(Oe)])),_:2},1032,["onClick"]),(0,n.bF)(xe,{onClick:o},{default:(0,n.k6)((()=>[(0,n.bF)(ze)])),_:2},1032,["onClick"]),(0,n.bF)(xe,{onClick:t=>ve.downloadImage(i(7782)("./"+e))},{default:(0,n.k6)((()=>[(0,n.bF)(Ge)])),_:2},1032,["onClick"])])),error:(0,n.k6)((()=>[(0,n.Lk)("div",D,[(0,n.bF)(xe,null,{default:(0,n.k6)((()=>[(0,n.bF)(Be)])),_:1})])])),_:2},1032,["src","scroll-container","preview-src-list"])))),128))])),_:1},512)])])),_:1})])),_:1}),(0,n.bo)(((0,n.uX)(),(0,n.Wv)(Ue,{label:"infercnv",name:"fourth","element-loading-text":"处理中...","element-loading-background":"rgba(0, 0, 0, 0.5)",style:{position:"relative","min-height":"200px"}},{default:(0,n.k6)((()=>[(0,n.bF)(je,{direction:"horizontal",style:{height:"100%"},"default-size":"580px"},{1:(0,n.k6)((()=>[(0,n.Lk)("div",L,[(0,n.bF)(et,{modelValue:ye.infercnv.value,"onUpdate:modelValue":t[26]||(t[26]=e=>ye.infercnv.value=e),data:ye.infercnv.celllist,titles:["所有细胞","选中的细胞"],onChange:t[27]||(t[27]=e=>ye.pseudotime.value=ye.infercnv.value)},{"left-empty":(0,n.k6)((()=>[(0,n.bF)(Je,{"image-size":60,description:"No data"})])),"right-empty":(0,n.k6)((()=>[(0,n.bF)(Je,{"image-size":60,description:"No data"})])),_:1},8,["modelValue","data"]),ye.infercnv.value.length?((0,n.uX)(),(0,n.CE)("div",P,[t[78]||(t[78]=(0,n.Lk)("h3",null,"选择参考细胞",-1)),(0,n.bF)(Ze,{modelValue:ye.infercnv.secondarySelected,"onUpdate:modelValue":t[28]||(t[28]=e=>ye.infercnv.secondarySelected=e)},{default:(0,n.k6)((()=>[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(ve.rightList,(e=>((0,n.uX)(),(0,n.Wv)(Ye,{key:e.key,label:e.key},{default:(0,n.k6)((()=>[(0,n.eW)((0,o.v_)(e.label),1)])),_:2},1032,["label"])))),128))])),_:1},8,["modelValue"]),(0,n.Lk)("div",F,[(0,n.Lk)("h4",null,[t[76]||(t[76]=(0,n.eW)(" 参考细胞选择结果：")),(0,n.bF)(we,{class:"box-item",effect:"dark",content:"被选中的细胞将作为参考集",placement:"top"},{default:(0,n.k6)((()=>[(0,n.bF)(xe,null,{default:(0,n.k6)((()=>[(0,n.bF)(tt)])),_:1})])),_:1})]),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(ve.finalSelection,(e=>((0,n.uX)(),(0,n.CE)("p",{key:e.key},(0,o.v_)(e.label),1)))),128)),(0,n.bF)(be,{type:"primary",onClick:ve.submitSelections_infercnv,disabled:!ye.infercnv.value.length||!ye.infercnv.secondarySelected.length,style:{"margin-top":"15px"}},{default:(0,n.k6)((()=>t[77]||(t[77]=[(0,n.eW)(" 提交选择结果 ")]))),_:1},8,["onClick","disabled"])])])):(0,n.Q3)("",!0)])])),2:(0,n.k6)((()=>[t[79]||(t[79]=(0,n.eW)(" infercnv ")),(0,n.bF)(we,{class:"box-item",effect:"dark",content:"介绍手册",placement:"top"},{default:(0,n.k6)((()=>[(0,n.bF)(be,{type:"",text:"",size:"small",onClick:t[29]||(t[29]=e=>ve.jumpToTutorial("infercnv-analysis"))},{default:(0,n.k6)((()=>[(0,n.bF)(xe,null,{default:(0,n.k6)((()=>[(0,n.bF)(_e)])),_:1})])),_:1})])),_:1}),(0,n.Lk)("div",N,[ye.infercnv.imgPath?((0,n.uX)(),(0,n.Wv)(De,{key:ye.imageKey,src:i(7782)("./"+ye.infercnv.imgPath),style:{width:"100%","max-height":"500px"},fit:"contain","preview-src-list":[i(7782)("./"+ye.infercnv.imgPath)]},{toolbar:(0,n.k6)((({actions:e,reset:o})=>[(0,n.bF)(xe,{onClick:t=>e("zoomOut")},{default:(0,n.k6)((()=>[(0,n.bF)(Re)])),_:2},1032,["onClick"]),(0,n.bF)(xe,{onClick:t=>e("zoomIn",{enableTransition:!1,zoomRate:2})},{default:(0,n.k6)((()=>[(0,n.bF)(Ve)])),_:2},1032,["onClick"]),(0,n.bF)(xe,{onClick:t=>e("clockwise",{rotateDeg:180,enableTransition:!1})},{default:(0,n.k6)((()=>[(0,n.bF)(Ee)])),_:2},1032,["onClick"]),(0,n.bF)(xe,{onClick:t=>e("anticlockwise")},{default:(0,n.k6)((()=>[(0,n.bF)(Oe)])),_:2},1032,["onClick"]),(0,n.bF)(xe,{onClick:o},{default:(0,n.k6)((()=>[(0,n.bF)(ze)])),_:2},1032,["onClick"]),(0,n.bF)(xe,{onClick:t[30]||(t[30]=e=>ve.downloadImage(i(7782)("./"+ye.infercnv.imgPath)))},{default:(0,n.k6)((()=>[(0,n.bF)(Ge)])),_:1})])),error:(0,n.k6)((()=>[(0,n.Lk)("div",R,[(0,n.bF)(xe,null,{default:(0,n.k6)((()=>[(0,n.bF)(Be)])),_:1})])])),_:1},8,["src","preview-src-list"])):(0,n.Q3)("",!0)])])),_:1})])),_:1})),[[nt,ye.infercnv.loading]]),(0,n.bo)(((0,n.uX)(),(0,n.Wv)(Ue,{label:"拟时序分析",name:"fifth","element-loading-text":"处理中...","element-loading-background":"rgba(0, 0, 0, 0.5)",style:{position:"relative","min-height":"200px"}},{default:(0,n.k6)((()=>[(0,n.bF)(je,{direction:"horizontal",style:{height:"100%"},"default-size":"580px"},{1:(0,n.k6)((()=>[(0,n.Lk)("div",V,[(0,n.bF)(et,{modelValue:ye.pseudotime.value,"onUpdate:modelValue":t[31]||(t[31]=e=>ye.pseudotime.value=e),data:ye.pseudotime.celllist,titles:["所有细胞","选中的细胞"]},{"left-empty":(0,n.k6)((()=>[(0,n.bF)(Je,{"image-size":60,description:"No data"})])),"right-empty":(0,n.k6)((()=>[(0,n.bF)(Je,{"image-size":60,description:"No data"})])),_:1},8,["modelValue","data"]),(0,n.Lk)("div",E,[(0,n.bF)(be,{type:"primary",onClick:ve.submitSelections_pseudotimecells,disabled:!ye.pseudotime.value.length,style:{"margin-top":"15px"}},{default:(0,n.k6)((()=>t[80]||(t[80]=[(0,n.eW)(" 提交选择结果 ")]))),_:1},8,["onClick","disabled"])])])])),2:(0,n.k6)((()=>[(0,n.bF)(Le,null,{default:(0,n.k6)((()=>[t[81]||(t[81]=(0,n.eW)(" 细胞轨迹 ")),(0,n.bF)(we,{class:"box-item",effect:"dark",content:"介绍手册",placement:"top"},{default:(0,n.k6)((()=>[(0,n.bF)(be,{type:"",text:"",size:"small",onClick:t[32]||(t[32]=e=>ve.jumpToTutorial("monocle-analysis"))},{default:(0,n.k6)((()=>[(0,n.bF)(xe,null,{default:(0,n.k6)((()=>[(0,n.bF)(_e)])),_:1})])),_:1})])),_:1})])),_:1}),(0,n.bF)(be,{type:"primary",loading:ye.pseudotime.loading_button,onClick:ve.QueryLatestResult_pseudotime},{default:(0,n.k6)((()=>t[82]||(t[82]=[(0,n.eW)(" 查询结果 ")]))),_:1},8,["loading","onClick"]),(0,n.bF)(je,{direction:"vertical",style:{height:"100%"},"default-size":"200px"},{1:(0,n.k6)((()=>[(0,n.Lk)("div",O,[(0,n.Lk)("div",z,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(ye.pseudotime.imgPaths_tra,(t=>((0,n.uX)(),(0,n.Wv)(De,{key:t,src:i(7782)("./"+t),style:{height:"450px",margin:"10px"},fit:"contain",lazy:"","scroll-container":e.scrollContainer,"preview-src-list":[i(7782)("./"+t)]},{toolbar:(0,n.k6)((({actions:e,reset:o})=>[(0,n.bF)(xe,{onClick:t=>e("zoomOut")},{default:(0,n.k6)((()=>[(0,n.bF)(Re)])),_:2},1032,["onClick"]),(0,n.bF)(xe,{onClick:t=>e("zoomIn",{enableTransition:!1,zoomRate:2})},{default:(0,n.k6)((()=>[(0,n.bF)(Ve)])),_:2},1032,["onClick"]),(0,n.bF)(xe,{onClick:t=>e("clockwise",{rotateDeg:180,enableTransition:!1})},{default:(0,n.k6)((()=>[(0,n.bF)(Ee)])),_:2},1032,["onClick"]),(0,n.bF)(xe,{onClick:t=>e("anticlockwise")},{default:(0,n.k6)((()=>[(0,n.bF)(Oe)])),_:2},1032,["onClick"]),(0,n.bF)(xe,{onClick:o},{default:(0,n.k6)((()=>[(0,n.bF)(ze)])),_:2},1032,["onClick"]),(0,n.bF)(xe,{onClick:e=>ve.downloadImage(i(7782)("./"+t))},{default:(0,n.k6)((()=>[(0,n.bF)(Ge)])),_:2},1032,["onClick"])])),error:(0,n.k6)((()=>[(0,n.Lk)("div",G,[(0,n.bF)(xe,null,{default:(0,n.k6)((()=>[(0,n.bF)(Be)])),_:1})])])),_:2},1032,["src","scroll-container","preview-src-list"])))),128))]),(0,n.Lk)("div",B,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(ye.pseudotime.imgPaths_anno,(t=>((0,n.uX)(),(0,n.Wv)(De,{key:t,src:i(7782)("./"+t),style:{height:"450px",margin:"10px"},fit:"contain",lazy:"","scroll-container":e.scrollContainer,"preview-src-list":[i(7782)("./"+t)]},{toolbar:(0,n.k6)((({actions:e,reset:o})=>[(0,n.bF)(xe,{onClick:t=>e("zoomOut")},{default:(0,n.k6)((()=>[(0,n.bF)(Re)])),_:2},1032,["onClick"]),(0,n.bF)(xe,{onClick:t=>e("zoomIn",{enableTransition:!1,zoomRate:2})},{default:(0,n.k6)((()=>[(0,n.bF)(Ve)])),_:2},1032,["onClick"]),(0,n.bF)(xe,{onClick:t=>e("clockwise",{rotateDeg:180,enableTransition:!1})},{default:(0,n.k6)((()=>[(0,n.bF)(Ee)])),_:2},1032,["onClick"]),(0,n.bF)(xe,{onClick:t=>e("anticlockwise")},{default:(0,n.k6)((()=>[(0,n.bF)(Oe)])),_:2},1032,["onClick"]),(0,n.bF)(xe,{onClick:o},{default:(0,n.k6)((()=>[(0,n.bF)(ze)])),_:2},1032,["onClick"]),(0,n.bF)(xe,{onClick:e=>ve.downloadImage(i(7782)("./"+t))},{default:(0,n.k6)((()=>[(0,n.bF)(Ge)])),_:2},1032,["onClick"])])),error:(0,n.k6)((()=>[(0,n.Lk)("div",W,[(0,n.bF)(xe,null,{default:(0,n.k6)((()=>[(0,n.bF)(Be)])),_:1})])])),_:2},1032,["src","scroll-container","preview-src-list"])))),128))])])])),2:(0,n.k6)((()=>[(0,n.bF)($e,{modelValue:ye.pseudotime.genevalue,"onUpdate:modelValue":t[33]||(t[33]=e=>ye.pseudotime.genevalue=e),filterable:"",options:ye.pseudotime.gene_list,onFocus:ve.fetchPseudoMatchedGenes,placeholder:"Please select",style:{width:"500px","margin-right":"16px"},multiple:""},null,8,["modelValue","options","onFocus"]),(0,n.bF)(be,{type:"primary",loading:ye.pseudotime.loading_button,onClick:ve.handleSubmitSelection_pseudogenes},{default:(0,n.k6)((()=>t[83]||(t[83]=[(0,n.eW)(" 生成图表 ")]))),_:1},8,["loading","onClick"]),(0,n.Lk)("div",H,[(0,n.bF)(We,{ref:"el_scrollbar",style:{height:"300px","overflow-y":"auto",width:"100%"}},{default:(0,n.k6)((()=>[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(ye.pseudotime.imgPaths_gene,(t=>((0,n.uX)(),(0,n.Wv)(De,{key:t,src:i(7782)("./"+t),style:{height:"450px",margin:"10px auto",display:"block"},fit:"contain",lazy:"","scroll-container":e.scrollContainer,"preview-src-list":[i(7782)("./"+t)]},{toolbar:(0,n.k6)((({actions:e,reset:o})=>[(0,n.bF)(xe,{onClick:t=>e("zoomOut")},{default:(0,n.k6)((()=>[(0,n.bF)(Re)])),_:2},1032,["onClick"]),(0,n.bF)(xe,{onClick:t=>e("zoomIn",{enableTransition:!1,zoomRate:2})},{default:(0,n.k6)((()=>[(0,n.bF)(Ve)])),_:2},1032,["onClick"]),(0,n.bF)(xe,{onClick:t=>e("clockwise",{rotateDeg:180,enableTransition:!1})},{default:(0,n.k6)((()=>[(0,n.bF)(Ee)])),_:2},1032,["onClick"]),(0,n.bF)(xe,{onClick:t=>e("anticlockwise")},{default:(0,n.k6)((()=>[(0,n.bF)(Oe)])),_:2},1032,["onClick"]),(0,n.bF)(xe,{onClick:o},{default:(0,n.k6)((()=>[(0,n.bF)(ze)])),_:2},1032,["onClick"]),(0,n.bF)(xe,{onClick:e=>ve.downloadImage(i(7782)("./"+t))},{default:(0,n.k6)((()=>[(0,n.bF)(Ge)])),_:2},1032,["onClick"])])),error:(0,n.k6)((()=>[(0,n.Lk)("div",X,[(0,n.bF)(xe,null,{default:(0,n.k6)((()=>[(0,n.bF)(Be)])),_:1})])])),_:2},1032,["src","scroll-container","preview-src-list"])))),128))])),_:1},512)])])),_:1})])),_:1})])),_:1})),[[nt,ye.pseudotime.loading]]),(0,n.bo)(((0,n.uX)(),(0,n.Wv)(Ue,{label:"TCGA",name:"sixth","element-loading-text":"处理中...","element-loading-background":"rgba(0, 0, 0, 0.5)",style:{position:"relative","min-height":"200px"}},{default:(0,n.k6)((()=>[(0,n.bF)(Le,null,{default:(0,n.k6)((()=>[t[84]||(t[84]=(0,n.eW)(" 泛癌分析结果 ")),(0,n.bF)(we,{class:"box-item",effect:"dark",content:"介绍手册",placement:"top"},{default:(0,n.k6)((()=>[(0,n.bF)(be,{type:"",text:"",size:"small",onClick:t[34]||(t[34]=e=>ve.jumpToTutorial("tcga-analysis"))},{default:(0,n.k6)((()=>[(0,n.bF)(xe,null,{default:(0,n.k6)((()=>[(0,n.bF)(_e)])),_:1})])),_:1})])),_:1})])),_:1}),(0,n.bF)($e,{modelValue:ye.tcga.genevalue,"onUpdate:modelValue":t[35]||(t[35]=e=>ye.tcga.genevalue=e),filterable:"",options:ye.tcga.gene_list,placeholder:"Please select",style:{width:"300px","margin-right":"16px"}},null,8,["modelValue","options"]),(0,n.bF)(be,{type:"primary",loading:ye.tcga.loading_button,onClick:ve.handleSubmitSelection_tcga},{default:(0,n.k6)((()=>t[85]||(t[85]=[(0,n.eW)(" 提交选择 ")]))),_:1},8,["loading","onClick"]),(0,n.bF)(be,{type:"primary",loading:ye.tcga.loading_button,onClick:ve.QueryLatestResult_tcga},{default:(0,n.k6)((()=>t[86]||(t[86]=[(0,n.eW)(" 查询结果 ")]))),_:1},8,["loading","onClick"]),(0,n.bF)(be,{type:"primary",loading:ye.tcga.loading_button,onClick:t[36]||(t[36]=e=>ye.tcga.dialogFormVisible=!0)},{default:(0,n.k6)((()=>t[87]||(t[87]=[(0,n.eW)(" 设置参数 ")]))),_:1},8,["loading"]),(0,n.Lk)("div",$,[(0,n.Lk)("div",j,[(0,n.Lk)("div",U,[t[89]||(t[89]=(0,n.Lk)("h3",null,"图片 1",-1)),ye.tcga.img_boxplot&&ye.tcga.img_boxplot.length>0?((0,n.uX)(!0),(0,n.CE)(n.FK,{key:0},(0,n.pI)(ye.tcga.img_boxplot,(e=>((0,n.uX)(),(0,n.Wv)(De,{key:e,lazy:"",src:i(7782)("./"+e),"preview-src-list":[i(7782)("./"+e)],fit:"contain"},{toolbar:(0,n.k6)((({actions:t,reset:o})=>[(0,n.bF)(xe,{onClick:e=>t("zoomOut")},{default:(0,n.k6)((()=>[(0,n.bF)(Re)])),_:2},1032,["onClick"]),(0,n.bF)(xe,{onClick:e=>t("zoomIn",{enableTransition:!1,zoomRate:2})},{default:(0,n.k6)((()=>[(0,n.bF)(Ve)])),_:2},1032,["onClick"]),(0,n.bF)(xe,{onClick:e=>t("clockwise",{rotateDeg:180,enableTransition:!1})},{default:(0,n.k6)((()=>[(0,n.bF)(Ee)])),_:2},1032,["onClick"]),(0,n.bF)(xe,{onClick:e=>t("anticlockwise")},{default:(0,n.k6)((()=>[(0,n.bF)(Oe)])),_:2},1032,["onClick"]),(0,n.bF)(xe,{onClick:o},{default:(0,n.k6)((()=>[(0,n.bF)(ze)])),_:2},1032,["onClick"]),(0,n.bF)(xe,{onClick:t=>ve.downloadImage(i(7782)("./"+e))},{default:(0,n.k6)((()=>[(0,n.bF)(Ge)])),_:2},1032,["onClick"])])),error:(0,n.k6)((()=>[(0,n.Lk)("div",Y,[(0,n.bF)(xe,null,{default:(0,n.k6)((()=>[(0,n.bF)(Be)])),_:1})])])),_:2},1032,["src","preview-src-list"])))),128)):((0,n.uX)(),(0,n.CE)("div",Z,[(0,n.bF)(xe,{size:32},{default:(0,n.k6)((()=>[(0,n.bF)(Be)])),_:1}),t[88]||(t[88]=(0,n.Lk)("p",null,"暂无图片",-1))]))]),(0,n.Lk)("div",q,[t[91]||(t[91]=(0,n.Lk)("h3",null,"图片 2",-1)),ye.tcga.img_survival&&ye.tcga.img_survival.length>0?((0,n.uX)(!0),(0,n.CE)(n.FK,{key:0},(0,n.pI)(ye.tcga.img_survival,(e=>((0,n.uX)(),(0,n.Wv)(De,{key:e,lazy:"",src:i(7782)("./"+e),"preview-src-list":[i(7782)("./"+e)],fit:"contain"},{toolbar:(0,n.k6)((({actions:t,reset:o})=>[(0,n.bF)(xe,{onClick:e=>t("zoomOut")},{default:(0,n.k6)((()=>[(0,n.bF)(Re)])),_:2},1032,["onClick"]),(0,n.bF)(xe,{onClick:e=>t("zoomIn",{enableTransition:!1,zoomRate:2})},{default:(0,n.k6)((()=>[(0,n.bF)(Ve)])),_:2},1032,["onClick"]),(0,n.bF)(xe,{onClick:e=>t("clockwise",{rotateDeg:180,enableTransition:!1})},{default:(0,n.k6)((()=>[(0,n.bF)(Ee)])),_:2},1032,["onClick"]),(0,n.bF)(xe,{onClick:e=>t("anticlockwise")},{default:(0,n.k6)((()=>[(0,n.bF)(Oe)])),_:2},1032,["onClick"]),(0,n.bF)(xe,{onClick:o},{default:(0,n.k6)((()=>[(0,n.bF)(ze)])),_:2},1032,["onClick"]),(0,n.bF)(xe,{onClick:t=>ve.downloadImage(i(7782)("./"+e))},{default:(0,n.k6)((()=>[(0,n.bF)(Ge)])),_:2},1032,["onClick"])])),error:(0,n.k6)((()=>[(0,n.Lk)("div",K,[(0,n.bF)(xe,null,{default:(0,n.k6)((()=>[(0,n.bF)(Be)])),_:1})])])),_:2},1032,["src","preview-src-list"])))),128)):((0,n.uX)(),(0,n.CE)("div",Q,[(0,n.bF)(xe,{size:32},{default:(0,n.k6)((()=>[(0,n.bF)(Be)])),_:1}),t[90]||(t[90]=(0,n.Lk)("p",null,"暂无图片",-1))]))])]),(0,n.Lk)("div",J,[(0,n.Lk)("div",ee,[t[93]||(t[93]=(0,n.Lk)("h3",null,"图片 3",-1)),ye.tcga.img_meth&&ye.tcga.img_meth.length>0?((0,n.uX)(!0),(0,n.CE)(n.FK,{key:0},(0,n.pI)(ye.tcga.img_meth,(e=>((0,n.uX)(),(0,n.Wv)(De,{key:e,lazy:"",src:i(7782)("./"+e),"preview-src-list":[i(7782)("./"+e)],fit:"contain"},{toolbar:(0,n.k6)((({actions:t,reset:o})=>[(0,n.bF)(xe,{onClick:e=>t("zoomOut")},{default:(0,n.k6)((()=>[(0,n.bF)(Re)])),_:2},1032,["onClick"]),(0,n.bF)(xe,{onClick:e=>t("zoomIn",{enableTransition:!1,zoomRate:2})},{default:(0,n.k6)((()=>[(0,n.bF)(Ve)])),_:2},1032,["onClick"]),(0,n.bF)(xe,{onClick:e=>t("clockwise",{rotateDeg:180,enableTransition:!1})},{default:(0,n.k6)((()=>[(0,n.bF)(Ee)])),_:2},1032,["onClick"]),(0,n.bF)(xe,{onClick:e=>t("anticlockwise")},{default:(0,n.k6)((()=>[(0,n.bF)(Oe)])),_:2},1032,["onClick"]),(0,n.bF)(xe,{onClick:o},{default:(0,n.k6)((()=>[(0,n.bF)(ze)])),_:2},1032,["onClick"]),(0,n.bF)(xe,{onClick:t=>ve.downloadImage(i(7782)("./"+e))},{default:(0,n.k6)((()=>[(0,n.bF)(Ge)])),_:2},1032,["onClick"])])),error:(0,n.k6)((()=>[(0,n.Lk)("div",te,[(0,n.bF)(xe,null,{default:(0,n.k6)((()=>[(0,n.bF)(Be)])),_:1})])])),_:2},1032,["src","preview-src-list"])))),128)):((0,n.uX)(),(0,n.CE)("div",ie,[(0,n.bF)(xe,{size:32},{default:(0,n.k6)((()=>[(0,n.bF)(Be)])),_:1}),t[92]||(t[92]=(0,n.Lk)("p",null,"暂无图片",-1))]))]),(0,n.Lk)("div",ne,[t[95]||(t[95]=(0,n.Lk)("h3",null,"图片 4",-1)),ye.tcga.img_TIMER&&ye.tcga.img_TIMER.length>0?((0,n.uX)(!0),(0,n.CE)(n.FK,{key:0},(0,n.pI)(ye.tcga.img_TIMER,(e=>((0,n.uX)(),(0,n.Wv)(De,{key:e,lazy:"",src:i(7782)("./"+e),"preview-src-list":[i(7782)("./"+e)],fit:"contain"},{toolbar:(0,n.k6)((({actions:t,reset:o})=>[(0,n.bF)(xe,{onClick:e=>t("zoomOut")},{default:(0,n.k6)((()=>[(0,n.bF)(Re)])),_:2},1032,["onClick"]),(0,n.bF)(xe,{onClick:e=>t("zoomIn",{enableTransition:!1,zoomRate:2})},{default:(0,n.k6)((()=>[(0,n.bF)(Ve)])),_:2},1032,["onClick"]),(0,n.bF)(xe,{onClick:e=>t("clockwise",{rotateDeg:180,enableTransition:!1})},{default:(0,n.k6)((()=>[(0,n.bF)(Ee)])),_:2},1032,["onClick"]),(0,n.bF)(xe,{onClick:e=>t("anticlockwise")},{default:(0,n.k6)((()=>[(0,n.bF)(Oe)])),_:2},1032,["onClick"]),(0,n.bF)(xe,{onClick:o},{default:(0,n.k6)((()=>[(0,n.bF)(ze)])),_:2},1032,["onClick"]),(0,n.bF)(xe,{onClick:t=>ve.downloadImage(i(7782)("./"+e))},{default:(0,n.k6)((()=>[(0,n.bF)(Ge)])),_:2},1032,["onClick"])])),error:(0,n.k6)((()=>[(0,n.Lk)("div",oe,[(0,n.bF)(xe,null,{default:(0,n.k6)((()=>[(0,n.bF)(Be)])),_:1})])])),_:2},1032,["src","preview-src-list"])))),128)):((0,n.uX)(),(0,n.CE)("div",ae,[(0,n.bF)(xe,{size:32},{default:(0,n.k6)((()=>[(0,n.bF)(Be)])),_:1}),t[94]||(t[94]=(0,n.Lk)("p",null,"暂无图片",-1))]))])])]),t[100]||(t[100]=(0,n.eW)(" Bayes ")),(0,n.bF)(Ne,{data:ye.tcga.tableData,"max-height":"250",lazy:"",fit:"true",stripe:"true",border:"true","show-overflow-tooltip":"true",style:{width:"800px"}},{default:(0,n.k6)((()=>[(0,n.bF)(Fe,{fixed:"",prop:"cg",label:"cg",width:"200"}),(0,n.bF)(Fe,{prop:"Correlation",label:"Correlation",width:"200"}),(0,n.bF)(Fe,{prop:"P_Value",label:"P_Value",width:"200"}),(0,n.bF)(Fe,{prop:"res",label:"res","min-width":"200"})])),_:1},8,["data"]),(0,n.bF)(be,{type:"primary",class:"mt-4",onClick:ve.exportToCSV_tcga},{default:(0,n.k6)((()=>t[96]||(t[96]=[(0,n.eW)("Download as CSV")]))),_:1},8,["onClick"]),(0,n.bF)(Pe,{modelValue:ye.tcga.dialogFormVisible,"onUpdate:modelValue":t[45]||(t[45]=e=>ye.tcga.dialogFormVisible=e),title:"设置参数",width:"80%",height:"100%"},{default:(0,n.k6)((()=>[t[99]||(t[99]=(0,n.Lk)("h3",{class:"form-title"},"图片一参数设置",-1)),(0,n.bF)(ke,{ref:"tcga.form",model:ye.tcga.form,"label-width":"150px"},{default:(0,n.k6)((()=>[(0,n.bF)(Le,null,{default:(0,n.k6)((()=>[(0,n.bF)(Ae,{label:"离群点大小：",prop:"outlier_size",rules:[{required:!0,message:"参数不能为空"},{type:"number",message:"参数必须为数字值"}]},{default:(0,n.k6)((()=>[(0,n.bF)(Se,{modelValue:ye.tcga.form.outlier_size,"onUpdate:modelValue":t[37]||(t[37]=e=>ye.tcga.form.outlier_size=e),modelModifiers:{number:!0},style:{width:"300px"}},null,8,["modelValue"])])),_:1}),(0,n.bF)(Ae,{label:"边框粗细："},{default:(0,n.k6)((()=>[(0,n.bF)(Se,{modelValue:ye.tcga.form.frame_size,"onUpdate:modelValue":t[38]||(t[38]=e=>ye.tcga.form.frame_size=e),style:{width:"300px"}},null,8,["modelValue"])])),_:1})])),_:1}),(0,n.bF)(Le,null,{default:(0,n.k6)((()=>[(0,n.bF)(Ae,{label:"箱线图宽度："},{default:(0,n.k6)((()=>[(0,n.bF)(Se,{modelValue:ye.tcga.form.box_width,"onUpdate:modelValue":t[39]||(t[39]=e=>ye.tcga.form.box_width=e),style:{width:"300px"}},null,8,["modelValue"])])),_:1}),(0,n.bF)(Ae,{label:"y轴范围："},{default:(0,n.k6)((()=>[(0,n.bF)(Se,{modelValue:ye.tcga.form.ylimits,"onUpdate:modelValue":t[40]||(t[40]=e=>ye.tcga.form.ylimits=e),style:{width:"300px"}},null,8,["modelValue"])])),_:1})])),_:1}),(0,n.bF)(Le,null,{default:(0,n.k6)((()=>[(0,n.bF)(Ae,{label:"基础字体大小："},{default:(0,n.k6)((()=>[(0,n.bF)(Se,{modelValue:ye.tcga.form.base_size,"onUpdate:modelValue":t[41]||(t[41]=e=>ye.tcga.form.base_size=e),style:{width:"300px"}},null,8,["modelValue"])])),_:1}),(0,n.bF)(Ae,{label:"标签字体大小："},{default:(0,n.k6)((()=>[(0,n.bF)(Se,{modelValue:ye.tcga.form.axis_textsize,"onUpdate:modelValue":t[42]||(t[42]=e=>ye.tcga.form.axis_textsize=e),style:{width:"300px"}},null,8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["model"]),(0,n.Lk)("div",re,[(0,n.bF)(be,{onClick:t[43]||(t[43]=e=>ye.tcga.dialogFormVisible=!1)},{default:(0,n.k6)((()=>t[97]||(t[97]=[(0,n.eW)("取 消")]))),_:1}),(0,n.bF)(be,{type:"primary",onClick:t[44]||(t[44]=e=>ve.submitTCGAForm("tcga.form"))},{default:(0,n.k6)((()=>t[98]||(t[98]=[(0,n.eW)("确 定")]))),_:1})])])),_:1},8,["modelValue"])])),_:1})),[[nt,ye.tcga.loading]]),(0,n.bF)(Ue,{label:"genelist",name:"seventh"},{default:(0,n.k6)((()=>[(0,n.bF)($e,{modelValue:ye.tcga.genevalues,"onUpdate:modelValue":t[46]||(t[46]=e=>ye.tcga.genevalues=e),filterable:"",multiple:"",options:ye.tcga.gene_list,placeholder:"Please select",style:{width:"300px","margin-right":"16px"}},null,8,["modelValue","options"]),(0,n.bF)(be,{type:"primary",loading:ye.tcga.loading_button,onClick:ve.handleSubmitSelection_tcga_list},{default:(0,n.k6)((()=>t[101]||(t[101]=[(0,n.eW)(" 提交选择 ")]))),_:1},8,["loading","onClick"]),(0,n.bF)(be,{type:"primary",onClick:ve.QueryLatestResult_tcga_list},{default:(0,n.k6)((()=>t[102]||(t[102]=[(0,n.eW)(" 查询结果 ")]))),_:1},8,["onClick"]),(0,n.Lk)("div",se,[(0,n.Lk)("div",le,[(0,n.Lk)("div",ue,[t[104]||(t[104]=(0,n.Lk)("h3",null,"heatmap",-1)),ye.tcga.img_heatmap&&ye.tcga.img_heatmap.length>0?((0,n.uX)(!0),(0,n.CE)(n.FK,{key:0},(0,n.pI)(ye.tcga.img_heatmap,(e=>((0,n.uX)(),(0,n.Wv)(De,{key:e,lazy:"",src:i(7782)("./"+e),"preview-src-list":[i(7782)("./"+e)],fit:"contain"},{toolbar:(0,n.k6)((({actions:t,reset:o})=>[(0,n.bF)(xe,{onClick:e=>t("zoomOut")},{default:(0,n.k6)((()=>[(0,n.bF)(Re)])),_:2},1032,["onClick"]),(0,n.bF)(xe,{onClick:e=>t("zoomIn",{enableTransition:!1,zoomRate:2})},{default:(0,n.k6)((()=>[(0,n.bF)(Ve)])),_:2},1032,["onClick"]),(0,n.bF)(xe,{onClick:e=>t("clockwise",{rotateDeg:180,enableTransition:!1})},{default:(0,n.k6)((()=>[(0,n.bF)(Ee)])),_:2},1032,["onClick"]),(0,n.bF)(xe,{onClick:e=>t("anticlockwise")},{default:(0,n.k6)((()=>[(0,n.bF)(Oe)])),_:2},1032,["onClick"]),(0,n.bF)(xe,{onClick:o},{default:(0,n.k6)((()=>[(0,n.bF)(ze)])),_:2},1032,["onClick"]),(0,n.bF)(xe,{onClick:t=>ve.downloadImage(i(7782)("./"+e))},{default:(0,n.k6)((()=>[(0,n.bF)(Ge)])),_:2},1032,["onClick"])])),error:(0,n.k6)((()=>[(0,n.Lk)("div",ce,[(0,n.bF)(xe,null,{default:(0,n.k6)((()=>[(0,n.bF)(Be)])),_:1})])])),_:2},1032,["src","preview-src-list"])))),128)):((0,n.uX)(),(0,n.CE)("div",de,[(0,n.bF)(xe,{size:32},{default:(0,n.k6)((()=>[(0,n.bF)(Be)])),_:1}),t[103]||(t[103]=(0,n.Lk)("p",null,"暂无图片",-1))]))]),(0,n.Lk)("div",he,[t[106]||(t[106]=(0,n.Lk)("h3",null,"森林图",-1)),(0,n.bF)(We,{ref:"el_scrollbar",style:{height:"310px","overflow-y":"auto",width:"100%"}},{default:(0,n.k6)((()=>[ye.tcga.img_forest&&ye.tcga.img_forest.length>0?((0,n.uX)(!0),(0,n.CE)(n.FK,{key:0},(0,n.pI)(ye.tcga.img_forest,((e,t)=>((0,n.uX)(),(0,n.Wv)(De,{key:e,lazy:"",src:i(7782)("./"+e),"preview-src-list":ye.tcga.img_forest.map((e=>i(7782)("./"+e))),"initial-index":t,fit:"contain",style:{margin:"4px 10px"}},{toolbar:(0,n.k6)((({actions:e,reset:t,activeIndex:o})=>[(0,n.bF)(xe,{onClick:t=>e("zoomOut")},{default:(0,n.k6)((()=>[(0,n.bF)(Re)])),_:2},1032,["onClick"]),(0,n.bF)(xe,{onClick:t=>e("zoomIn",{enableTransition:!1,zoomRate:2})},{default:(0,n.k6)((()=>[(0,n.bF)(Ve)])),_:2},1032,["onClick"]),(0,n.bF)(xe,{onClick:t=>e("clockwise",{rotateDeg:180,enableTransition:!1})},{default:(0,n.k6)((()=>[(0,n.bF)(Ee)])),_:2},1032,["onClick"]),(0,n.bF)(xe,{onClick:t=>e("anticlockwise")},{default:(0,n.k6)((()=>[(0,n.bF)(Oe)])),_:2},1032,["onClick"]),(0,n.bF)(xe,{onClick:t},{default:(0,n.k6)((()=>[(0,n.bF)(ze)])),_:2},1032,["onClick"]),(0,n.bF)(xe,{onClick:e=>ve.downloadImage(i(7782)("./"+ye.tcga.img_forest[o]))},{default:(0,n.k6)((()=>[(0,n.bF)(Ge)])),_:2},1032,["onClick"])])),error:(0,n.k6)((()=>[(0,n.Lk)("div",pe,[(0,n.bF)(xe,null,{default:(0,n.k6)((()=>[(0,n.bF)(Be)])),_:1})])])),_:2},1032,["src","preview-src-list","initial-index"])))),128)):((0,n.uX)(),(0,n.CE)("div",ge,[(0,n.bF)(xe,{size:32},{default:(0,n.k6)((()=>[(0,n.bF)(Be)])),_:1}),t[105]||(t[105]=(0,n.Lk)("p",null,"暂无图片",-1))]))])),_:1},512)])])])])),_:1})])),_:1},8,["modelValue","onTabClick"])}i(44114),i(22489),i(7588),i(18237),i(13579),i(17642),i(58004),i(33853),i(45876),i(32475),i(15024),i(31698),i(14603),i(47566),i(98721);var me=i(22974),ye=i(51219),ve=i(57477),_e=i(54333),xe=(i(8344),i(93851)),be=i(90144),we=i(37913);(0,be.KR)(.8),(0,be.KR)(null);var Ce={components:{UploadFilled:ve.UploadFilled,IconPicture:ve.Picture,Download:ve.Download,Refresh:ve.Refresh,RefreshLeft:ve.RefreshLeft,RefreshRight:ve.RefreshRight,ZoomIn:ve.ZoomIn,ZoomOut:ve.ZoomOut},data(){return{activeName:"first",url:i(21188),imgPaths:[],if_load:!1,split:0,task_id:"",cluster_figure:{if_load:!1,chart:null,clustered_data:[],clustered_distribution:[],clusters:[],cluster_colors:[],legend_label:[]},annotation:{value:"",models:[{vaule:"大模型",label:"大模型",children:[{value:"AICelltype",label:"AICelltype"}]},{value:"SingleR",label:"SingleR",children:[{value:"HumanPrimaryCellAtlasData",label:"HumanPrimaryCellAtlasData"},{value:"BlueprintEncodeData",label:"BlueprintEncodeData"},{value:"DatabaseImmuneCellExpressionData",label:"DatabaseImmuneCellExpressionData"},{value:"NovershternHematopoieticData",label:"NovershternHematopoieticData"},{value:"MonacoImmuneData",label:"MonacoImmuneData"},{value:"MouseRNAseqData",label:"MouseRNAseqData"},{value:"ImmGenData",label:"ImmGenData"}]}],dialogVisible:!1,reference_path:"",currunt_model:"seurat_clusters",placeholder:"请选择参考数据集",modelName:"",save_path:"",tableData:[],LargeModelDialogVisible:!1},scale_diagram:{myChart:null,selectedView:"percentage",viewOptions:[{value:"percentage",label:"百分比视图"},{value:"absolute",label:"绝对值视图"}],rawData:[],totalData:[],categories:[],models:[],categoryMode:"orig.ident",seriesNames:"",serie:""},marker:{chart:null,tableData:[],num_list:[{value:"1",label:"1"},{value:"2",label:"2"},{value:"5",label:"5"},{value:"10",label:"10"},{value:"20",label:"20"}],num:"",gene_list:[],gene:"",clustered_data:[],clusters:[],gene_expression:[],imgPaths:[],dotplot_data:[],dotplot_num:"",if_load:!1},SignificanceQC:{checkedCells:[],citiescellOptions:[],loading:!1,imagePath:[],drawer:!1},go:{chart:null,value:"",choose_cluster:"",bar_data:[],clusters:[]},cellchat:{myChart:null,allSelected:!0,graph:null,links:[],realselected:{},heatmapPaths:[],scrollContainer:null,weightType:"count",loading_analysis:!1},infercnv:{celllist:[],value:[],secondarySelected:[],imgPath:"",loading:!1},pseudotime:{celllist:[],value:[],imgPaths_tra:[],imgPaths_anno:[],imgPaths_gene:[],loading:!1,loading_button:!1,gene_list:[],genevalue:[]},tcga:{loading:!1,loading_button:!1,dialogFormVisible:!1,gene_list:[],genevalue:[],genevalues:[],img_boxplot:[],img_survival:[],img_meth:[],img_TIMER:[],img_bayes:[],tableData:[],img_heatmap:[],img_forest:[],form:{outlier_size:3,frame_size:1.2,box_width:.6,base_size:15,axis_textsize:14,ylimits:7.5}},imageKey:0,reference_example:i(53811)}},created(){const e=this.$route.query.type,t={Annotation:"first",Marker:"second",Feature:"second",Go:"second",CellChat:"third",InferCNV:"fourth",Pseudotime:"fifth",Pseudotime_gene:"fifth",TCGA:"sixth",TCGA_genes:"seventh"},i=t[e];i&&(this.activeName=i,this.task_id=this.$route.query.taskId,this.task_id&&this.loadTaskData(e,this.task_id))},watch:{"cellchat.weightType":function(e,t){e!==t&&(this.getCellChatHeatmaps(),this.cellchat.myChart&&(this.cellchat.myChart.dispose(),this.cellchat.myChart=null),this.initCircleChart())},"infercnv.value"(){this.infercnv.secondarySelected=[]}},computed:{rightList(){return this.infercnv.celllist.filter((e=>this.infercnv.value.includes(e.key)))},finalSelection(){return this.rightList.filter((e=>this.infercnv.secondarySelected.includes(e.key)))},uploadHeaders(){return{"User-Id":localStorage?.getItem("user_id")||"","Item-Id":localStorage?.getItem("item_id")||""}}},methods:{async loadTaskData(e,t){switch(e){case"Annotation":ye.nk.success("即将展示Annotation数据"),this.getUmapData();break;case"Marker":ye.nk.success("即将展示Marker数据"),this.handleSelectChange_marker(5),this.getDotPlotFigure(5);break;case"Feature":ye.nk.success("即将展示Feature数据，在此之前需要先加载最近一次的注释结果"),await Promise.resolve(this.getUmapData()),await this.fetchFeatureFigure();break;case"Go":this.fetchGoFigure();break;case"CellChat":this.initCircleChart(),this.getCellChatHeatmaps();break;case"InferCNV":this.getInfercnvFigure();break;case"Pseudotime":this.QueryLatestResult_pseudotime();break;case"Pseudotime_gene":this.QueryLatestResult_pseudotime();break;case"TCGA":this.QueryLatestResult_tcga();break;case"TCGA_genes":this.QueryLatestResult_tcga_list();break}},handleClickTab(e,t){console.log(e,t),"third"===e.props.name&&this.$nextTick((()=>{this.cellchat.scrollContainer=this.$refs.cellchat_scrollbar.$el.wrap,0===this.cellchat.heatmapPaths.length&&(this.getCellChatHeatmaps(),this.initCircleChart())})),"fourth"!==e.props.name&&"fifth"!==e.props.name||this.getCellList().then((()=>{this.infercnv.loading=!1})).catch((e=>{console.error("获取细胞列表失败:",e),this.$message.error("获取细胞列表失败"),this.infercnv.loading=!1}))},beforeDestroy(){this.chart&&this.chart.dispose()},getUmapData(){return this.cluster_figure.if_load=!0,(0,we.Jt)("get_figure_UMP",{params:{taskId:this.task_id}}).then((e=>{this.cluster_figure.cluster_colors=e.data.cluster_colors,this.cluster_figure.clustered_distribution=e.data.clustered_distribution,this.cluster_figure.clustered_data=JSON.parse(e.data.clustered_data),this.cluster_figure.legend_label=[];const t={},i=new Map;this.task_id?(this.annotation.currunt_model="annotation",console.log("-----------------------"),console.log("taskId:",this.task_id)):this.annotation.currunt_model="seurat_clusters",console.log("-----------------------"),console.log("this.annotation.currunt_model:",this.annotation.currunt_model),this.cluster_figure.clustered_data.forEach((e=>{const n=e[this.annotation.currunt_model],o=e["seurat_clusters"];t[n]||(t[n]=[],this.cluster_figure.legend_label.push(n),i.set(n,0)),this.go.clusters.some((e=>e.value===o))||this.go.clusters.push({label:o,value:o}),i.set(n,i.get(n)+1),t[n].push([parseFloat(e["umap_data.umap_1"]),parseFloat(e["umap_data.umap_2"])])})),this.go.clusters.sort(((e,t)=>Number(e.value)-Number(t.value))),this.scale_diagram.series=e.data.ann_model,this.fetchScaleDiagramData(),console.log("this.cluster_figure.legend_label",this.cluster_figure.legend_label),this.cluster_figure.clusters=Object.keys(t).map((e=>({label:e,center:t[e].reduce(((e,[t,i])=>[e[0]+t,e[1]+i]),[0,0]).map((i=>i/t[e].length)),points:t[e]}))),this.renderChart(),this.cluster_figure.if_load=!1})).catch((e=>{console.log("error",e),e.response?ye.nk.error(e.response.data.msg):console.error("请求错误:",e.message)}))},renderChart(){if(!this.$refs.chart)return;this.cluster_figure.chart=(0,be.IG)(_e.Ts(this.$refs.chart)),console.log("初始化ECharts实例",this.cluster_figure.clusters[0].center[1]);const e={xAxis:{type:"value"},yAxis:{type:"value"},dataZoom:[{type:"inside",xAxisIndex:[0],start:0,end:100},{type:"inside",yAxisIndex:[0],start:0,end:100}],legend:{right:"0%",height:"0%",data:this.cluster_figure.legend_label.sort(((e,t)=>Number(e)-Number(t)))},series:this.cluster_figure.clusters.map(((e,t)=>({name:e.label,type:"scatter",data:e.points,symbolSize:4,itemStyle:{color:this.cluster_figure.cluster_colors[t]},markPoint:{data:[{name:e.label,coord:e.center,symbol:"circle",symbolSize:10,itemStyle:{},label:{show:!0,formatter:e.label,position:"center",fontSize:18}}]}})))};this.cluster_figure.chart.setOption(e,!0),console.log(this.cluster_figure.chart.getModel()),console.log(e.xAxis.max)},async getQCFigure(){try{const e=await(0,we.Jt)("get_figure_QC_final");this.imgPaths=e.data.png_paths,console.log("this.imgPaths",this.imgPaths)}catch(e){e.response?(console.log("请求失败:",e.response.status),console.log("错误响应数据:",e.response.data),ye.nk.error(e.response.data.msg||"获取QC终图失败")):console.error("请求错误:",e.message),this.imgPaths=[]}},fetchAnnotationModels(){this.annotation.value="",(0,we.Jt)("get_annotation_models").then((e=>{const t=this.annotation.models.findIndex((e=>"celltypist"===e.value));-1!==t?this.annotation.models[t]=e.data.celltypist:this.annotation.models.push(e.data.celltypist)})).catch((e=>{console.error("Error fetching annotation models:",e)}))},handleSelectChange_annotation(e){if(this.annotation.value=e,this.annotation.currunt_model="annotation",this.annotation.placeholder=this.annotation.value,this.cluster_figure.if_load=!0,"train"===e)this.annotation.dialogVisible=!0,this.cluster_figure.if_load=!1;else{console.log("选择了:",e);const t=new FormData;t.append("annotation_model",e),(0,we.bE)("select_annotation_model",t).then((e=>{this.task_id=e.data.task_id_new,this.getUmapData()})).catch((e=>{console.log("error",e),e.response?(console.log("请求失败:",e.response.status),console.log("错误响应数据:",e.response.data),ye.nk.error(e.response.data.msg)):(ye.nk.error("请求错误:",e.message),console.error("请求错误:",e.message))}))}},handleReferenceDataSuccess(e,t){this.annotation.save_path=e.save_path,this.$message({showClose:!0,message:"数据上传成功",type:"success"})},async submitReferenceData(){try{this.annotation.dialogVisible=!1,(0,xe.df)({title:"Info",message:"数据已提交，等训练完成可以在下拉框中找到该模型",type:"info"});const e=new FormData;e.append("save_path",this.annotation.save_path),e.append("model_name",this.annotation.modelName);await(0,we.bE)("submit_reference_data",e)}catch(e){const t=e.response?.data?.message||e.message||"未知错误";this.$message.error("提交失败："+t)}finally{console.log("")}},async LargeModelAnnotation(){if(!this.task_id)return this.$message({showClose:!0,message:"还没有选择任务，请于项目管理页面选择任务",type:"error"}),void this.$router.push("/upload");try{this.annotation.LargeModelDialogVisible=!0;const e=await(0,we.bE)("large_model_annotation",{taskId:this.task_id});this.annotation.tableData=e.data.anno}catch(e){const t=e.response?.data?.message||e.message||"未知错误";this.$message({showClose:!0,message:t,type:"error"})}},async CalculateMarkerGene(){this.marker.if_load=!0;try{await(0,we.bE)("calculate_marker_gene",{})}catch(e){console.error("计算marker基因失败:",e),ye.nk.error("计算失败")}finally{this.marker.if_load=!1}},handleSelectChange_marker(e){const t=new FormData;t.append("num",e),t.append("taskId",this.task_id),(0,we.bE)("get_marker_genes",t).then((e=>{this.marker.tableData=e.data.gene_list})).catch((e=>{console.error("获取marker基因失败:",e),ye.nk.error("获取失败")}))},exportToCSV(){if(!Array.isArray(this.marker.tableData))return void console.error("tableData 不是一个数组");let e="gene,p_val,avg_log2FC,pct.1,pct.2,p_val_adj,cluster\n";this.marker.tableData.forEach((t=>{e+=`${t.gene||"NA"},${t.p_val||"NA"},${t.avg_log2FC||"NA"},${t["pct.1"]||"NA"},${t["pct.2"]||"NA"},${t.p_val_adj||"NA"},${t.cluster||"NA"}\n`}));const t=new Blob([e],{type:"text/csv;charset=utf-8;"}),i=document.createElement("a");i.href=URL.createObjectURL(t),i.download="table-data.csv",document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(i.href)},async getDotPlotFigure(e){const t=new FormData;t.append("num",e),t.append("taskId",this.task_id);try{const e=await(0,we.bE)("get_figure_dotplot",t);this.marker.dotplot_data=JSON.parse(e.data.dotplot_data),this.initDotPlotChart()}catch(i){console.error("获取气泡图失败:",i),ye.nk.error("获取失败")}},initDotPlotChart(){const e=_e.Ts(this.$refs.xAxisChart),t=_e.Ts(this.$refs.chart_dotplot),i=[...new Set(this.marker.dotplot_data.map((e=>e.Annotation)))],n=[...new Set(this.marker.dotplot_data.map((e=>e.Gene)))],o=this.marker.dotplot_data.map((e=>({name:e.Gene,value:[i.indexOf(e.Annotation),n.indexOf(e.Gene),e.Mean_Expression,e.Expression_Percentage]}))),a={grid:{left:0,bottom:1},xAxis:{type:"category",data:i,position:"top",axisLabel:{rotate:45,interval:0,show:!0,margin:-10},axisTick:{alignWithLabel:!0,show:!0},axisLine:{show:!0,lineStyle:{color:"#333"}},z:3},yAxis:{show:!1},series:[]},r={grid:{top:0,right:100,bottom:0,left:150},xAxis:{type:"category",data:i,show:!1},yAxis:{type:"category",data:n,inverse:!0,position:"left",axisLabel:{interval:0,show:!0,align:"right"},axisTick:{alignWithLabel:!0,show:!0},axisLine:{show:!0}},tooltip:{trigger:"item",backgroundColor:"rgba(255,255,255,0.95)",borderColor:"#ccc",borderWidth:1,padding:10,textStyle:{color:"#333",fontSize:14},formatter:function(e){const t=i[e.value[0]],o=n[e.value[1]],a=e.value[2].toFixed(3),r=e.value[3].toFixed(3);return`\n              <div style="text-align: left;">\n                <b>Annotation:</b> ${t}<br>\n                <b>Gene:</b> ${o}<br>\n                <b>Avg Exp:</b> ${a}<br>\n                <b>Pct1:</b> ${r}\n              </div>\n            `}},visualMap:[{type:"continuous",dimension:2,min:0,max:1,calculable:!0,orient:"vertical",left:"right",top:"20%",inRange:{color:["#313695","#ffffff","#d73027"]},text:["高表达","低表达"],textStyle:{color:"#333"}},{type:"continuous",dimension:3,min:0,max:.5,calculable:!0,orient:"vertical",left:"right",top:"top",inRange:{symbolSize:[2,20]},text:["高比例","低比例"],textStyle:{color:"#333"}}],series:[{type:"scatter",data:o,itemStyle:{opacity:.8}}]};e.setOption(a),t.setOption(r)},fetchMarkerGenes(){(0,we.Jt)("get_gene_list").then((e=>{this.marker.gene_list=e.data.gene_list,this.tcga.gene_list=e.data.gene_list_all})).catch((e=>{console.error("Error fetching annotation models:",e)})),console.log("this.marker.gene_list",this.marker.gene_list)},async handleSelectChange_feature(e){const t=new FormData;t.append("gene",e);try{if(await this.$nextTick(),!this.$refs.chart_feature)throw new Error("图表容器不存在");this.marker.chart&&this.marker.chart.dispose(),this.marker.chart=(0,be.IG)(_e.Ts(this.$refs.chart_feature)),this.marker.chart.showLoading();const e=await(0,we.bE)("get_figure_feature",t);this.marker.gene_expression=e.data.gene_expression,this.marker.clustered_data=this.cluster_figure.clustered_data,this.marker.imgPaths=e.data.img_list,await this.renderFeatureChart()}catch(i){console.error("获取数据失败:",i),ye.nk.error(i.message||"获取基因特征图数据失败，请稍后重试")}finally{this.marker.chart&&this.marker.chart.hideLoading()}},async fetchFeatureFigure(){const e=new FormData;e.append("taskId",this.task_id);try{if(await this.$nextTick(),!this.$refs.chart_feature)throw new Error("图表容器不存在");this.marker.chart&&this.marker.chart.dispose(),this.marker.chart=(0,be.IG)(_e.Ts(this.$refs.chart_feature)),this.marker.chart.showLoading();const t=await(0,we.bE)("fetch_feature_figure",e);this.marker.gene_expression=t.data.gene_expression,this.marker.clustered_data=this.cluster_figure.clustered_data,this.marker.imgPaths=t.data.img_list,await this.renderFeatureChart()}catch(t){console.error("获取数据失败:",t),ye.nk.error(t.message||"获取特征基因图数据失败，请稍后重试")}finally{this.marker.chart&&this.marker.chart.hideLoading()}},async renderFeatureChart(){try{const e={};this.cluster_figure.legend_label=[],this.marker.clustered_data.forEach(((t,i)=>{const n=t[this.annotation.currunt_model];e[n]||(e[n]=[],this.cluster_figure.legend_label.push(n)),e[n].push([parseFloat(t["umap_data.umap_1"]),parseFloat(t["umap_data.umap_2"]),parseFloat(this.marker.gene_expression[i])])})),this.marker.clusters=Object.keys(e).map((t=>({label:t,center:e[t].reduce(((e,[t,i,n])=>[e[0]+t,e[1]+i,e[2]+n]),[0,0,0]).map((i=>i/e[t].length)),points:e[t]}))),console.log("基因表达数据统计：",{"最大值":Math.max(...this.marker.gene_expression),"最小值":Math.min(...this.marker.gene_expression),"平均值":this.marker.gene_expression.reduce(((e,t)=>e+t),0)/this.marker.gene_expression.length,"非零值数量":this.marker.gene_expression.filter((e=>e>0)).length,"总数据点":this.marker.gene_expression.length});const t={title:{text:"Dispersion of house price based on the area",left:"center",top:0},visualMap:{min:0,max:5,orient:"vertical",right:10,top:"center",text:["HIGH","LOW"],calculable:!0,inRange:{color:["#D3D3D3","#ff0000"]}},tooltip:{trigger:"item",axisPointer:{type:"cross"},formatter:function(e){try{if("markPoint"===e.componentType){let t=e.data.coord[2];return t?t.toFixed(3):""}if(!e.value||!Array.isArray(e.value))return"";let[t,i,n]=e.value;return n.toFixed(3)}catch(t){return console.error("Tooltip formatter error:",t),""}}},dataZoom:[{type:"inside",xAxisIndex:[0],start:0,end:100},{type:"inside",yAxisIndex:[0],start:0,end:100}],xAxis:[{type:"value"}],yAxis:[{type:"value"}],series:this.marker.clusters.map(((e,t)=>({name:e.label,type:"scatter",data:e.points,symbolSize:4,itemStyle:{},markPoint:{data:[{name:e.label,coord:e.center,symbol:"circle",symbolSize:4,itemStyle:{color:"#D3D3D3"},label:{show:!0,formatter:e.label,position:"center",fontSize:12}}]}})))};this.marker.chart.setOption(t,!0)}catch(e){console.error("渲染图表失败:",e),ye.nk.error("渲染图表失败，请稍后重试")}},async submitSelection_Significance(){if(2===this.SignificanceQC.checkedCells.length){this.SignificanceQC.loading=!0;try{const e=await me.A.post("/api/get_SignificanceQC",{selectedCells:this.SignificanceQC.checkedCells,selectedGene:this.marker.gene});this.SignificanceQC.imagePath=e.data.imagePath,console.log(this.SignificanceQC.imagePath),this.$message.success("分析完成")}catch(e){this.$message.error("提交失败："+e.message)}finally{this.SignificanceQC.loading=!1}}else this.$message.warning("请选择两个细胞类型进行比较")},fetchCategoryMode(){(0,we.Jt)("get_category_model").then((e=>{this.scale_diagram.models=e.data.model_list})).catch((e=>{console.error("Error fetching scale_diagram models:",e)}))},applyCategoryMode(){this.scale_diagram.categoryMode?(this.fetchScaleDiagramData(),this.scale_diagram.rawData.length>0||this.scale_diagram.myChart.showLoading(),this.$message.success(`已应用"${this.scale_diagram.categoryMode}"分类模式`)):this.$message.warning("请输入分类模式")},async fetchScaleDiagramData(){this.scale_diagram.myChart=_e.Ts(this.$refs.chart_scale_diagram),this.scale_diagram.myChart.showLoading();try{const e=await(0,we.Jt)("get_scale_diagram_data",{params:{categoryMode:this.scale_diagram.categoryMode,seriesNames:this.scale_diagram.series}});"success"===e.data.status?(this.scale_diagram.rawData=e.data.rawData,this.scale_diagram.categories=e.data.categories,this.scale_diagram.seriesNames=e.data.seriesNames,this.calculateTotalData(),this.updateChartOption()):this.$message.error(e.data.message||"获取数据失败")}catch(e){console.error("获取数据失败:",e),this.$message.error("获取比例图数据失败，请稍后重试")}finally{this.scale_diagram.myChart.hideLoading()}},calculateTotalData(){if(this.scale_diagram.totalData=[],this.scale_diagram.rawData.length>0&&this.scale_diagram.rawData[0].length>0)for(let e=0;e<this.scale_diagram.rawData[0].length;++e){let t=0;for(let i=0;i<this.scale_diagram.rawData.length;++i)t+=this.scale_diagram.rawData[i][e];this.scale_diagram.totalData.push(t)}},updateChartOption(){if(0===this.scale_diagram.rawData.length)return;this.scale_diagram.myChart.hideLoading();const e={left:100,right:100,top:50,bottom:50};let t;t="percentage"===this.scale_diagram.selectedView?this.scale_diagram.seriesNames.map(((e,t)=>({name:e,type:"bar",stack:"total",barWidth:"80%",emphasis:{focus:"series"},label:{show:!0,formatter:e=>Math.round(1e3*e.value)/10+"%"},data:this.scale_diagram.rawData[t].map(((e,t)=>this.scale_diagram.totalData[t]<=0?0:(e/this.scale_diagram.totalData[t]).toFixed(3))),itemStyle:{color:this.cluster_figure.cluster_colors[t]}}))):this.scale_diagram.seriesNames.map(((e,t)=>({name:e,type:"bar",stack:"total",barWidth:"80%",emphasis:{focus:"series"},label:{show:!0,formatter:e=>e.value},data:this.scale_diagram.rawData[t]})));const i={title:{text:"percentage"===this.scale_diagram.selectedView?"各类别占比分布":"各类别绝对值分布",left:"center"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{type:"scroll",orient:"vertical",right:10,top:"middle",itemGap:5,itemWidth:14,itemHeight:14,selectedMode:!1,textStyle:{fontSize:12,rich:{ellipsis:{width:100,overflow:"truncate",ellipsis:"..."}}},formatter:function(e){return e.length>15?e.substring(0,12)+"...":e}},grid:e,yAxis:{type:"value",max:"percentage"===this.scale_diagram.selectedView?1:void 0,axisLabel:{formatter:"percentage"===this.scale_diagram.selectedView?e=>(100*e).toFixed(0)+"%":e=>e}},xAxis:{type:"category",data:this.scale_diagram.categories},series:t};this.scale_diagram.myChart.setOption(i,!0)},handleViewChange(){this.updateChartOption()},async handleSelectChange_go(){this.$nextTick((()=>{if(!this.$refs.chart_bar)return void console.error("图表容器不存在");this.go.chart&&this.go.chart.dispose(),this.go.chart=_e.Ts(this.$refs.chart_bar),this.go.chart.showLoading();const e=new FormData;e.append("choose_cluster",this.go.choose_cluster),(0,we.bE)("get_figure_barplot",e).then((e=>{this.go.bar_data=e.data.bar_data,this.initBarChart()})).catch((e=>{console.error("获取GO图失败:",e),ye.nk.error("获取失败")})).finally((()=>{this.go.chart&&this.go.chart.hideLoading()}))}))},async fetchGoFigure(){this.$nextTick((()=>{if(!this.$refs.chart_bar)return void console.error("图表容器不存在");this.go.chart&&this.go.chart.dispose(),this.go.chart=_e.Ts(this.$refs.chart_bar),this.go.chart.showLoading();const e=new FormData;e.append("taskId",this.task_id),(0,we.bE)("fetch_go_figure",e).then((e=>{this.go.bar_data=e.data.bar_data,this.initBarChart()})).catch((e=>{console.error("获取GO图失败:",e),ye.nk.error("获取失败")})).finally((()=>{this.go.chart&&this.go.chart.hideLoading()}))}))},initBarChart(){var e;const t=this.go.bar_data.map((e=>({value:e[0],name:e[1],pAdjust:e[2]}))),i=t.map((e=>e.pAdjust)),n=Math.min(...i),o=Math.max(...i);e={tooltip:{trigger:"item",formatter:e=>`${e.data[1]}: ${e.data[2].toExponential(2)}`},dataset:{source:t.map((e=>[e.value,e.name,e.pAdjust]))},grid:{containLabel:!0,top:"5%",bottom:"5%"},xAxis:{name:"Count",nameLocation:"center",nameGap:20},yAxis:{type:"category",inverse:!0,axisLabel:{formatter:e=>{const t=10;return e.length>t?e.substring(0,t)+"...":e}}},visualMap:{show:!0,dimension:2,min:n,max:o,inRange:{color:["#df6664","#a2758f","#367eb9"]},outOfRange:{color:"#ccc"},text:[`Max: ${o.toExponential(2)}`,`Min: ${n.toExponential(2)}`],right:0,top:"center",itemHeight:100,itemWidth:20,inverse:!0},series:[{type:"bar",encode:{x:"Count",y:"Description"},barWidth:"80%"}]},e&&this.go.chart.setOption(e)},toggleAllLegends(){if(!this.cellchat.myChart)return;const e=this.cellchat.myChart.getOption(),t=e.legend[0].data,i={},n=this.cellchat.graph;this.cellchat.allSelected=!this.cellchat.allSelected,t.forEach((e=>{i[e]=!0,this.cellchat.realselected[e]=this.cellchat.allSelected;const t=n.categories.findIndex((t=>t.name===e));console.log(t),-1!==t&&(this.cellchat.allSelected?n.categories[t].originalColor&&(n.categories[t].itemStyle.color=n.categories[t].originalColor):(n.categories[t].originalColor||(n.categories[t].originalColor=n.categories[t].itemStyle.color),n.categories[t].itemStyle.color="#cccccc"))}));const o=this.cellchat.links.map((e=>{const t={...e};return t.lineStyle={...e.lineStyle,opacity:this.cellchat.allSelected?1:0},t}));this.cellchat.links=o,this.cellchat.myChart.setOption({animation:!1,legend:{selected:i},series:[{links:this.cellchat.links,data:n.nodes,categories:n.categories,itemStyle:{opacity:1}}]})},async performCellChatAnalysis(){this.cellchat.loading_analysis=!0;try{const e=await(0,we.bE)("perform_cellchat_analysis",{weightType:this.cellchat.weightType});e.data.success?(ye.nk.success("细胞通讯分析完成"),await this.initCircleChart(),this.getCellChatHeatmaps()):ye.nk.error(e.data.message||"分析失败")}catch(e){console.error("细胞通讯分析失败:",e),ye.nk.error("分析过程出错，请稍后重试")}finally{this.cellchat.loading_analysis=!1}},async initCircleChart(){this.cellchat.myChart=_e.Ts(this.$refs.chart_circle),this.cellchat.myChart.showLoading();try{const e=await(0,we.Jt)("get_circle_chart_data",{params:{weightType:this.cellchat.weightType,taskId:this.task_id}});this.cellchat.graph=e.data,console.log(this.cellchat.graph),this.cellchat.graph.nodes.forEach((e=>{e.label={show:!0,position:"right",formatter:"{b}",fontSize:12,distance:5}})),this.cellchat.graph.links.forEach((e=>{e.lineStyle={width:e.value}})),this.cellchat.links=this.cellchat.graph.links;const t=this.cellchat.graph.categories.length;this.cellchat.graph.categories.forEach(((e,i)=>{const n=360*i/t%360;e.itemStyle={color:`hsl(${n}, 70%, 50%)`}}));const i=this.cellchat.graph,n={title:{text:"CellChat",subtext:"Circular layout",top:"bottom",left:"right"},tooltip:{},legend:[{data:i.categories.map((function(e){return e.name}))}],animationDurationUpdate:1500,animationEasingUpdate:"quinticInOut",series:[{name:"CellChat",type:"graph",layout:"circular",circular:{rotateLabel:!0},data:i.nodes,links:i.links,categories:i.categories,roam:!0,label:{show:!0,position:"right",formatter:"{b}",fontSize:12,color:"#333"},lineStyle:{color:"source",curveness:.3},edgeSymbol:["none","arrow"],edgeSymbolSize:[8,12]}]};this.cellchat.myChart.setOption(n),this.cellchat.realselected=this.cellchat.myChart.getOption().legend[0].selected;const o=this.cellchat.myChart.getOption().legend[0].selected,a=n.legend[0].data;a.forEach((e=>{this.cellchat.realselected[e]=!0})),this.cellchat.myChart.on("legendselectchanged",(e=>{this.cellchat.realselected[e.name]=!this.cellchat.realselected[e.name];const t=this.cellchat.myChart.getOption().legend[0].selected;console.log("节点选中状态",this.cellchat.realselected),console.log("图例选中状态——showSelected",t);const n=i.categories.findIndex((t=>t.name===e.name));-1!==n&&(this.cellchat.realselected[e.name]?i.categories[n].originalColor&&(i.categories[n].itemStyle.color=i.categories[n].originalColor):(i.categories[n].originalColor||(i.categories[n].originalColor=i.categories[n].itemStyle.color),i.categories[n].itemStyle.color="#cccccc"));const a=this.cellchat.links.map((t=>{const i={...t};if(e.name===t.source)0===t.lineStyle.opacity?i.lineStyle={...t.lineStyle,opacity:1}:i.lineStyle={...t.lineStyle,opacity:0};else{var n=i.lineStyle.opacity;i.lineStyle={...t.lineStyle,opacity:n}}return i}));this.cellchat.links=a,o[e.name]=!0,t[e.name]=!t[e.name],this.cellchat.graph=i,this.cellchat.myChart.setOption({animation:!1,legend:{selected:t},series:[{links:this.cellchat.links,data:i.nodes,categories:i.categories}]})}))}catch(e){console.error("获取圆形图数据失败:",e),this.$message.error("获取圆形图数据失败，请稍后重试")}finally{this.cellchat.myChart.hideLoading()}},async getCellChatHeatmaps(){try{const e=await(0,we.Jt)("get_cellchat_heatmaps",{params:{weightType:this.cellchat.weightType,taskId:this.task_id}});console.log("获取热点图成功:",e.data),this.cellchat.heatmapPaths=e.data.img_list}catch(e){console.error("获取热点图失败:",e),e.response?(console.error("请求失败:",e.response.status),console.error("错误响应数据:",e.response.data),ye.nk.error(e.response.data.message||"获取热点图失败")):ye.nk.error("获取热点图失败: "+e.message)}},async getCellList(){try{const e=await(0,we.Jt)("get_cell_list");if(200===e.status){const t=e.data.celllist||[],i=t.map(((e,t)=>({key:e,label:e,value:e})));this.infercnv.celllist=i,this.pseudotime.celllist=i,this.SignificanceQC.citiescellOptions=t,this.go.clusters=i}}catch(e){this.$message.error("获取数据失败："+e.message),this.infercnv.celllist=[]}},async submitSelections_infercnv(){this.infercnv.loading=!0;try{const e=await(0,we.bE)("submit_selections",{firstSelection:this.infercnv.value,secondSelection:this.infercnv.secondarySelected});ye.nk.success("选择结果提交成功"),this.infercnv.imgPath=e.data.imgPath||"",this.imageKey+=1,console.log("this.infercnv.imgPath",this.infercnv.imgPath)}catch(e){const t=e.response?.data?.message||e.message||"未知错误";ye.nk.error("提交失败："+t),this.infercnv.imgPath=""}finally{this.infercnv.loading=!1,console.log("this.infercnv.imgPath",this.infercnv.imgPath)}},async getInfercnvFigure(){try{const e=await(0,we.Jt)("get_infercnv_figure",{params:{taskId:this.task_id}});ye.nk.success("获取infercnv图成功"),this.infercnv.imgPath=e.data.imgPath||"",this.imageKey+=1,console.log("this.infercnv.imgPath",this.infercnv.imgPath)}catch(e){console.error("获取infercnv图失败:",e),e.response?(console.error("请求失败:",e.response.status),console.error("错误响应数据:",e.response.data),ye.nk.error(e.response.data.message||"获取infercnv图失败")):ye.nk.error("获取infercnv图失败: "+e.message)}},async submitSelections_pseudotimecells(){this.pseudotime.loading=!0;try{const e=await(0,we.bE)("submit_pseudotime_cells",{selection:this.pseudotime.value});this.$message.success("选择结果提交成功"),this.pseudotime.imgPaths_tra=e.data.imgPaths_tra||[],this.pseudotime.imgPaths_anno=e.data.imgPaths_anno||[],console.log("this.pseudotime.imgPaths_tra",this.pseudotime.imgPaths_tra)}catch(e){const t=e.response?.data?.message||e.message||"未知错误";this.$message.error("提交失败："+t),this.pseudotime.imgPaths_tra=[],this.pseudotime.imgPaths_anno=[]}finally{this.pseudotime.loading=!1,console.log("this.pseudotime.imgPaths_tra",this.pseudotime.imgPaths_tra)}},async fetchPseudoMatchedGenes(){try{const e=await(0,we.Jt)("get_pseudo_genes");this.pseudotime.gene_list=e.data.gene_list}catch(e){console.error("获取pseudo基因列表失败:",e),ye.nk.error("获取pseudo基因列表失败："+(e.response?.data?.message||e.message))}},async handleSubmitSelection_pseudogenes(){if(this.pseudotime.genevalue&&0!==this.pseudotime.genevalue.length){this.pseudotime.loading_button=!0;try{const e=await(0,we.bE)("selection_pseudotime_genes",{selected_items:this.pseudotime.genevalue});this.pseudotime.imgPaths_gene=e.data.imgPaths_gene||[],this.imageKey+=1,console.log("this.pseudotime.imgPaths_gene",this.pseudotime.imgPaths_gene)}catch(e){const t=e.response?.data?.message||e.message||"未知错误";ye.nk.error("提交失败："+t),this.pseudotime.imgPaths_gene=[]}finally{this.pseudotime.loading_button=!1,console.log("this.pseudotime.imgPaths_tra",this.pseudotime.imgPaths_tra)}}else ye.nk.warning("请至少选择一个选项")},async QueryLatestResult_pseudotime(){try{const e=await(0,we.Jt)("query_latest_result_pseudotime",{params:{taskId:this.task_id}});this.pseudotime.imgPaths_tra=e.data.imgPaths_tra||[],this.pseudotime.imgPaths_anno=e.data.imgPaths_anno||[],this.pseudotime.imgPaths_gene=e.data.imgPaths_gene||[]}catch(e){console.error("Error fetching the latest result:",e),this.pseudotime.imgPaths_tra=[],this.pseudotime.imgPaths_anno=[],this.pseudotime.imgPaths_gene=[]}},async handleSubmitSelection_tcga(){if(this.tcga.genevalue&&0!==this.tcga.genevalue.length){this.tcga.loading_button=!0;try{const e=await(0,we.bE)("selection_tcga_gene",{selected_items:this.tcga.genevalue,query:!1,taskId:this.task_id});this.tcga.img_boxplot=e.data.img_boxplot||[],this.tcga.img_survival=e.data.img_survival||[],this.tcga.img_meth=e.data.img_meth||[],this.tcga.img_TIMER=e.data.img_TIMER||[],this.tcga.tableData=e.data.tabledata||[],console.log("this.tcga.img_boxplot",this.tcga.img_boxplot)}catch(e){const t=e.response?.data?.message||e.message||"未知错误";this.$message.error("提交失败："+t),this.tcga.img_boxplot=[],this.tcga.img_survival=[],this.tcga.img_meth=[],this.tcga.img_TIMER=[],this.tcga.tableData=[]}finally{this.tcga.loading_button=!1,console.log("this.tcga.img_boxplot",this.tcga.img_boxplot)}}else ye.nk.warning("请选择一个选项")},async handleSubmitSelection_tcga_list(){if(this.tcga.genevalues&&0!==this.tcga.genevalues.length){this.tcga.loading_button=!0;try{const e=await(0,we.bE)("selection_tcga_genes",{selected_items:this.tcga.genevalues,query:!1,taskId:this.task_id});this.tcga.img_heatmap=e.data.img_heatmap||[],this.tcga.img_forest=e.data.img_forest||[],console.log("this.tcga.img_heatmap",this.tcga.img_heatmap)}catch(e){const t=e.response?.data?.message||e.message||"未知错误";this.$message.error("提交失败："+t),this.tcga.img_heatmap=[],this.tcga.img_forest=[]}finally{this.tcga.loading_button=!1}}else ye.nk.warning("请选择一个选项")},async QueryLatestResult_tcga(){try{const e=await(0,we.bE)("selection_tcga_gene",{query:!0,taskId:this.task_id});this.tcga.img_boxplot=e.data.img_boxplot||[],this.tcga.img_survival=e.data.img_survival||[],this.tcga.img_meth=e.data.img_meth||[],this.tcga.img_TIMER=e.data.img_TIMER||[],this.tcga.tableData=e.data.tabledata||[],console.log("this.tcga.img_boxplot",this.tcga.img_boxplot)}catch(e){const t=e.response?.data?.message||e.message||"未知错误";t.includes("缺少文件")?this.$message.error(t):this.$message.error("获取TCGA最新结果失败："+t),this.tcga.img_boxplot=[],this.tcga.img_survival=[],this.tcga.img_meth=[],this.tcga.img_TIMER=[],this.tcga.tableData=[]}},async QueryLatestResult_tcga_list(){try{const e=await(0,we.bE)("selection_tcga_genes",{query:!0,taskId:this.task_id});this.tcga.img_heatmap=e.data.img_heatmap||[],this.tcga.img_forest=e.data.img_forest||[],console.log("this.tcga.img_forest",this.tcga.img_forest)}catch(e){console.error("Error fetching the latest result:",e),this.tcga.img_heatmap=[],this.tcga.img_forest=[]}},exportToCSV_tcga(){if(!Array.isArray(this.tcga.tableData))return void console.error("tableData 不是一个数组");let e="cg,Correlation,P_Value,res\n";this.tcga.tableData.forEach((t=>{e+=`${t.cg||"NA"},${t.Correlation||"NA"},${t.P_Value||"NA"},${t.res||"NA"}\n`}));const t=new Blob([e],{type:"text/csv;charset=utf-8;"}),i=document.createElement("a");i.href=URL.createObjectURL(t),i.download="tcga-data.csv",document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(i.href)},submitTCGAForm(e){if(!this.task_id)return this.$message({showClose:!0,message:"还没有选择需要重绘的任务，请于项目管理页面选择任务",type:"error"}),this.tcga.dialogFormVisible=!1,void this.$router.push("/upload");const t=new FormData;t.append("task_id",this.task_id),t.append("outlier_size",this.tcga.form.outlier_size),t.append("frame_size",this.tcga.form.frame_size),t.append("box_width",this.tcga.form.box_width),t.append("axis_textsize",this.tcga.form.axis_textsize),t.append("base_size",this.tcga.form.base_size),t.append("ylimits",this.tcga.form.ylimits),this.$refs[e].validate((e=>{if(!e)return console.log("重绘失败"),!1;this.$message("正在重绘中，请稍等……"),this.tcga.dialogFormVisible=!1,(0,we.bE)("tcga_resize",t).then((e=>{console.log(e.data),this.QueryLatestResult_tcga()})).catch((e=>{this.$message({showClose:!0,message:"重绘失败："+e.message,type:"error"})}))}))},downloadImage(e){if(!e)return;console.log(e);const t=e.split("/").pop()||"image_"+Date.now()+".jpeg";fetch(e).then((e=>{if(!e.ok)throw new Error("Network response was not ok");return e.blob()})).then((e=>{const i=window.URL.createObjectURL(e),n=document.createElement("a");n.href=i,n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(i)})).catch((e=>{console.error("Download failed:",e),ye.nk.error("下载失败："+e.message)}))},jumpToTutorial(e){window.open(`/tutorial.html#${e}`,"_blank")}},mounted(){this.getQCFigure(),this.fetchCategoryMode(),this.fetchMarkerGenes(),this.getCellList()},beforeUnmount(){this.cellchat.myChart&&(this.cellchat.myChart.dispose(),this.cellchat.myChart=null),this.scale_diagram.myChart&&(this.scale_diagram.myChart.dispose(),this.scale_diagram.myChart=null),this.go.chart&&(this.go.chart.dispose(),this.go.chart=null)}},Se=i(71241);const Ae=(0,Se.A)(Ce,[["render",fe],["__scopeId","data-v-f0988afc"]]);var ke=Ae},99411:function(e,t,i){"use strict";e.exports=i.p+"img/1750032382_matrix_TCGA_2_TCGA_mRNA_boxplot_1751252107492_page_1.823a859b.png"},99618:function(e,t,i){"use strict";e.exports=i.p+"img/infercnv_1754103586763.31ec7f60.png"}}]);